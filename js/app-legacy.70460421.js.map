{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/plugins/api.ts","webpack:///./src/store/state.ts","webpack:///./src/store/getters.ts","webpack:///./src/plugins/DocumentParser.ts","webpack:///./src/store/mutations.ts","webpack:///./src/store/actions.ts","webpack:///./src/plugins/database.ts","webpack:///./src/store/plugins/saveCredentials.ts","webpack:///./src/store/plugins/saveState.ts","webpack:///./src/store/plugins/ui.ts","webpack:///./src/store/index.ts","webpack:///./src/assets/scss/main.scss?6698","webpack:///./src/views/Deck.vue?967e","webpack:///./src/locales lazy ^\\.\\/.*\\.json$ namespace object","webpack:///./src/components/SearchInput.vue?c50d","webpack:///./src/views/index.vue?f634","webpack:///./src/components/Navbar.vue?3664","webpack:///./src/assets/img/afp_logo.png","webpack:///./src/components/Shortcuts.vue?a229","webpack:///./src/components/Column.vue?a4a9","webpack:///./src/plugins/dayjs.ts","webpack:///./src/components/Card.vue?2903","webpack:///./src/components/SearchParams.vue?f50f","webpack:///./src/components/Column.vue?cf07","webpack:///./src/components/Recyclist.vue?6053","webpack:///./src/components/SideBar.vue?a4b9","webpack:///./src/components/Card.vue?552d","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?2e9d","webpack:///./src/components/Card.vue?eeaf","webpack:///./src/plugins/installApp.ts","webpack:///./src/components/AddColumn.vue?35fc","webpack:///./src/plugins/meta.ts","webpack:///./src/plugins/toasted.ts","webpack:///./src/views/Deck.vue?0d88","webpack:///./src/components/Column.vue?620b","webpack:///./src/components/SearchParams.vue?e04d","webpack:///./src/components/SearchInput.vue?0b0e","webpack:///src/components/SearchInput.vue","webpack:///./src/components/SearchInput.vue?8cb6","webpack:///./src/components/SearchInput.vue","webpack:///src/components/SearchParams.vue","webpack:///./src/components/SearchParams.vue?8cf0","webpack:///./src/components/SearchParams.vue?e1e1","webpack:///./src/components/Recyclist.vue?913c","webpack:///./src/plugins/waitForFonts.ts","webpack:///src/components/Recyclist.vue","webpack:///./src/components/Recyclist.vue?cfb0","webpack:///./src/components/Recyclist.vue?3a0f","webpack:///src/components/Column.vue","webpack:///./src/components/Column.vue?8798","webpack:///./src/components/Column.vue?6b75","webpack:///./src/components/Navbar.vue?6e95","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?1807","webpack:///./src/components/Navbar.vue?36b0","webpack:///./src/components/Shortcuts.vue?66ed","webpack:///src/components/Shortcuts.vue","webpack:///./src/components/Shortcuts.vue?0922","webpack:///./src/components/Shortcuts.vue?cae2","webpack:///./src/components/AddColumn.vue?3c17","webpack:///src/components/AddColumn.vue","webpack:///./src/components/AddColumn.vue?dda9","webpack:///./src/components/AddColumn.vue?19cf","webpack:///./src/components/SideBar.vue?6497","webpack:///src/components/SideBar.vue","webpack:///./src/components/SideBar.vue?9943","webpack:///./src/components/SideBar.vue?80e4","webpack:///./src/mixins/autoRefreshVisibility.js","webpack:///./src/mixins/autoRefreshTimer.js","webpack:///./src/views/Deck.vue?f7ba","webpack:///./src/views/Deck.vue?7d43","webpack:///./src/views/Deck.vue?9a8c","webpack:///./src/router/index.ts","webpack:///./src/plugins/analytics.ts","webpack:///./src/plugins/touchGestures.ts","webpack:///./src/plugins/wait.ts","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/index.vue?18ee","webpack:///./src/mixins/checkConnection.js","webpack:///./src/mixins/nightMode.js","webpack:///src/views/index.vue","webpack:///./src/views/index.vue?980c","webpack:///./src/views/index.vue?714b","webpack:///./src/main.ts","webpack:///./src/locales sync ^\\.\\/.*$","webpack:///./src/plugins/i18n.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","prefetchChunks","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","deferredPrefetch","apply","shift","deferredModules","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","forEach","undefined","link","document","createElement","nc","setAttribute","rel","as","href","jsonpScriptSrc","head","appendChild","installedModules","installedCssChunks","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","fullhref","existingLinkTags","getElementsByTagName","tag","dataHref","getAttribute","existingStyleTags","linkTag","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","error","clearTimeout","chunk","errorType","realSrc","message","name","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","startupResult","afpNews","baseUrl","customAuthUrl","saveToken","token","commit","this","columns","documents","Map","authType","isOnline","displayInstallApp","locale","VUE_APP_I18N_LOCALE","getDocumentById","state","id","getColumnByIndex","index","getDocumentsIdsByColumnId","_","getters","indexCol","separators","documentsIds","filter","includes","getDocumentsByColumnId","map","docId","isAnonymous","isAuthenticated","getPreviousDocumentIdInColById","currentDocumentsinColumn","currentDocIndexInColumn","findIndex","doc","uno","previousDocument","getNextDocumentIdInColById","nextDocument","getFirstDocumentInCol","firstDocumentId","getLastDocumentInCol","lastDocumentId","pop","getRefreshParamsByMode","params","lastDocument","lastDate","Date","published","setSeconds","getSeconds","dateTo","toISOString","firstDocument","firstDate","dateFrom","validDate","str","date","isNaN","valueOf","docSource","headline","embargoed","lang","product","urgency","news","slugs","slug","medias","iptc","source","creator","provider","city","country","advisory","status","summary","genre","title","Array","isArray","join","bagItem","faceYOffsetPercent","entityFaces","entity_faces","highDef","find","media","role","offsetY","faces","height","sizes","sort","a","b","width","caption","afpentity","qcode","keyword","split","addColumn","payload","defaultColumn","assign","defaultSearchParams","products","size","sources","newColumn","column","moveColumn","dir","sortingArray","to","colId","indexOf","closeColumn","resetColumn","updateColumnParams","setToken","unsetToken","addDocuments","toObject","set","clearDocuments","clear","prependDocumentsIdsToCol","existingDocumentsIds","firstExistingDocIndex","Set","concat","appendDocumentsIdsToCol","setConnectivityStatus","setLocale","resetState","resetAllColumns","actions","changeLocale","logout","dispatch","authenticate","username","password","toasted","global","apiError","searchDocuments","root","search","refreshColumn","rootGetters","count","refreshAllColumns","getDocument","storageKeys","client","clientId","clientSecret","autoRefresh","userStore","createInstance","documentsStore","initCredentials","store","getItem","subscribe","setItem","removeItem","resetToken","initState","getItems","values","topics","langs","displayedIds","keys","storedKeys","setItems","ui","use","mutations","plugins","strict","initStore","webpackAsyncContext","req","extend","VueDayJS","install","vm","now","from","changeDayJsLocale","render","_vm","_h","$createElement","_c","_self","staticClass","class","flash","alerte","urgent","photo","multimedia","video","canceled","attrs","some","style","backgroundImage","selectPreview","backgroundPosition","_e","_v","_s","_f","$root","$now","substr","staticRenderFns","props","String","required","Number","default","computed","methods","component","installPrompt","addEventListener","evt","userChoice","outcome","prompt","register","position","duration","singleton","warn","_l","columnId","columnType","on","reset","close","move","ref","$wait","is","noMore","loadAfter","loadBefore","scopedSlots","_u","fn","proxy","$tc","parseInt","nativeOn","$event","$t","topic","paramsOpen","query","onQueryChange","toggleFilters","directives","rawName","languages","expression","$$selectedVal","options","selected","val","_value","multiple","label","disabled","domProps","$emit","initialQuery","onQueryFocus","components","input","ev","setSelectionRange","SearchInput","updateParams","urgencies","$ga","item","transform","_t","refInFor","tombHeight","isLoading","fonts","weight","stretch","load","list","offset","Boolean","items","start","containerHeight","visibleItems","Math","max","min","poolItems","watch","newVal","oldVal","loadList","updateItemTop","mounted","$el","onScroll","$refs","tomb","offsetHeight","loadMoreItems","destroyed","removeEventListener","$set","renderItem","top","gotHeight","pre","updateIndex","updateItemHeight","cur","el","scrollTop","Card","Recyclist","ContentPlaceholders","ContentPlaceholdersHeading","ContentPlaceholdersImg","ContentPlaceholdersText","SearchParams","recyclist","$toasted","_m","preventDefault","logoutHandler","currentUILanguage","changeLanguage","changeAllContentLanguage","triggerDropdown","onClickaway","$route","$router","dropdown","classList","toggle","remove","visibilityChanged","beforeDestroy","mapActions","hidden","navigator","onLine","autoRefreshTimer","autoRefreshDelay","startAutoRefresh","stopAutoRefresh","setInterval","clearInterval","metaInfo","titleTemplate","titleChunk","Column","AddColumn","SideBar","Navbar","Shortcuts","mixins","autoRefreshVisibility","redirect","path","wrapDoubleQuotes","routes","meta","analytics","pageviewTemplate","route","page","location","dimension2","toString","dimension3","Deck","children","dimension1","beforeEnter","next","router","autoTracking","pageviewOnLoad","exception","debug","enabled","sendHitTask","anonymizeIp","forceSSL","defaults","cssProps","userSelect","touchAction","refreshing","useVuex","process","ready","log","registered","registration","cached","updatefound","updated","Vue","show","action","text","onClick","waiting","postMessage","command","offline","serviceWorker","reload","getServiceWorkerSupport","controller","useLightTheme","connection","mozConnection","webkitConnection","mapState","checkConnection","mapMutations","checkDayNight","daynight","light","hours","getHours","init","i18n","wait","h","$mount","currentRoute","replace","enable","config","productionTip","errorHandler","warnHandler","beforeEach","webpackContext","webpackContextResolve","locales","fallbackLocale","messages","defaultDateTimeFormats","dateTimeFormats","getNavigatorLanguage","language","substring","setI18nLanguage","htmlDocument","querySelector","loadLanguageAsync","importedMessages","rest","setLocaleMessage","setDateTimeFormat"],"mappings":"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","file":"js/app-legacy.70460421.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\tvar prefetchChunks = data[3] || [];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\tdeferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\tif(deferredModules.length === 0) {\n \t\t\t// chunk prefetching for javascript\n \t\t\tdeferredPrefetch.forEach(function(chunkId) {\n \t\t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t\t}\n \t\t\t\t\tlink.rel = \"prefetch\";\n \t\t\t\t\tlink.as = \"script\";\n \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\t\tdocument.head.appendChild(link);\n \t\t\t\t}\n \t\t\t});\n \t\t\tdeferredPrefetch.length = 0;\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [], deferredPrefetch = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\",\"login\":\"login\",\"viewer\":\"viewer\"}[chunkId]||chunkId) + \"-legacy.\" + {\"about\":\"a09f2e49\",\"login\":\"bcecc232\",\"viewer\":\"57760b17\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"about\":1,\"login\":1,\"viewer\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\",\"login\":\"login\",\"viewer\":\"viewer\"}[chunkId]||chunkId) + \".\" + {\"about\":\"7a05a70a\",\"login\":\"a64d675a\",\"viewer\":\"3b72725b\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \tvar startupResult = (function() {\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n \t})();\n\n \twebpackJsonpCallback([[], {}, 0, [\"about\",\"login\",\"viewer\"]]);\n \treturn startupResult;\n","import AfpNews from 'afpnews-api'\nimport store from '@/store'\n\nconst afpNews = new AfpNews({\n  baseUrl: 'https://afp-apicore-prod.afp.com',\n  customAuthUrl: 'https://3o3qoiah2e.execute-api.eu-central-1.amazonaws.com/ondeck',\n  saveToken: token => {\n    if (token) {\n      store.commit('setToken', token)\n    }\n  }\n})\n\nexport default afpNews\n","import { Documents, Column, Locale } from '@/types'\n\nexport default class State {\n  public columns: Column[]\n  public documents: Documents\n  public authType: 'credentials' | 'anonymous' | 'unknown'\n  public isOnline: boolean\n  public displayInstallApp: boolean\n  public locale: Locale\n\n  constructor () {\n    this.columns = []\n    this.documents = new Map()\n    this.authType = 'unknown'\n    this.isOnline = true\n    this.displayInstallApp = false\n    this.locale = process.env.VUE_APP_I18N_LOCALE === 'fr' ? 'fr' : 'en'\n  }\n}\n","import { Column, Document } from '@/types'\nimport { Params } from 'afpnews-api/dist/types'\nimport State from '@/store/state'\n\nexport default {\n  getDocumentById: (state: State) => (id: string): Document | undefined => {\n    return state.documents.get(id)\n  },\n  getColumnByIndex: (state: State) => (index: number): Column => {\n    return state.columns[index]\n  },\n  getDocumentsIdsByColumnId: (_: State, getters: any) => (indexCol: number, separators = true): string[] => {\n    return getters.getColumnByIndex(indexCol).documentsIds.filter((d: string) => separators || !d.includes('documents-gap'))\n  },\n  getDocumentsByColumnId: (_: State, getters: any) => (indexCol: number, separators = true): Document[] => {\n    return getters.getDocumentsIdsByColumnId(indexCol, separators)\n      .map((docId: string) => getters.getDocumentById(docId))\n  },\n  isAnonymous (state: State): boolean {\n    return state.authType === 'anonymous'\n  },\n  isAuthenticated (state: State): boolean {\n    return state.authType === 'credentials'\n  },\n  getPreviousDocumentIdInColById: (_: State, getters: any) => (indexCol: number, docId: string): string | false => {\n    const currentDocumentsinColumn = getters.getDocumentsByColumnId(indexCol, false)\n    const currentDocIndexInColumn = currentDocumentsinColumn.findIndex((doc: Document) => doc.uno === docId)\n    const previousDocument = currentDocumentsinColumn[currentDocIndexInColumn + 1]\n    return (previousDocument && previousDocument.uno) || false\n  },\n  getNextDocumentIdInColById: (_: State, getters: any) => (indexCol: number, docId: string): string | false => {\n    const currentDocumentsinColumn = getters.getDocumentsByColumnId(indexCol, false)\n    const currentDocIndexInColumn = currentDocumentsinColumn.findIndex((doc: Document) => doc.uno === docId)\n    const nextDocument = currentDocumentsinColumn[currentDocIndexInColumn - 1]\n    return (nextDocument && nextDocument.uno) || false\n  },\n  getFirstDocumentInCol: (_: State, getters: any) => (indexCol: number): Document | false => {\n    const firstDocumentId = getters.getDocumentsIdsByColumnId(indexCol, false)[0]\n    return getters.getDocumentById(firstDocumentId)\n  },\n  getLastDocumentInCol: (_: State, getters: any) => (indexCol: number): Document | false => {\n    const lastDocumentId = getters.getDocumentsIdsByColumnId(indexCol, false).pop()\n    return getters.getDocumentById(lastDocumentId)\n  },\n  getRefreshParamsByMode: (\n    _: State,\n    getters: any\n  ) => (\n    indexCol: number,\n    mode: 'after' | 'before' | 'reset'\n  ): Params => {\n    switch (mode) {\n      case 'reset':\n        return getters.getColumnByIndex(indexCol).params\n      case 'before':\n        const lastDocument = getters.getLastDocumentInCol(indexCol)\n        const lastDate = new Date(lastDocument.published)\n        lastDate.setSeconds(lastDate.getSeconds() - 1)\n        return {\n          ...getters.getColumnByIndex(indexCol).params,\n          dateTo: lastDate.toISOString()\n        }\n      case 'after':\n        const firstDocument = getters.getFirstDocumentInCol(indexCol)\n        const firstDate = new Date(firstDocument.published)\n        firstDate.setSeconds(firstDate.getSeconds() + 1)\n        return {\n          ...getters.getColumnByIndex(indexCol).params,\n          dateFrom: firstDate.toISOString()\n        }\n      default:\n        throw new Error('Invalid mode')\n    }\n  }\n}\n","import { Document } from '@/types'\nimport { AfpDocument } from 'afpnews-api/dist/types'\n\nfunction validDate (str: string | undefined): Date | undefined {\n  if (str === undefined) {\n    return undefined\n  }\n  const date = new Date(str)\n  return date instanceof Date && !(isNaN(date.valueOf())) ? date : undefined\n}\n\nexport default class DocumentParser {\n  private docSource: AfpDocument\n\n  constructor (docSource: AfpDocument) {\n    this.docSource = docSource\n  }\n\n  get headline () {\n    const title: string | string[] = this.docSource.headline || this.docSource.title || this.docSource.news\n    return Array.isArray(title) ? title.join(' - ') : title\n  }\n\n  get embargoed () {\n    return validDate(this.docSource.embargoed)\n  }\n\n  get published () {\n    const published = validDate(this.docSource.published)\n    if (!published) {\n      throw new Error(`Doc ${this.docSource.uno} doesn't contain a valid published date`)\n    }\n    return published\n  }\n\n  get medias () {\n    const bagItem = this.docSource.bagItem\n    if (!bagItem) return []\n    const entityFaces = this.docSource.entity_faces\n    let faceYOffsetPercent: number | undefined\n    const highDef = bagItem[0].medias.find(media => media.role === 'HighDef')\n    if (entityFaces && entityFaces[0] && highDef) {\n      const offsetY = entityFaces[0].faces[0].offsetY\n      faceYOffsetPercent = offsetY / highDef.height\n    }\n    return bagItem.map(media => {\n      return {\n        sizes: media.medias.sort((a, b) => a.width - b.width),\n        creator: media.creator,\n        provider: media.provider,\n        caption: media.caption,\n        source: media.source,\n        uno: media.uno,\n        faceYOffsetPercent\n      }\n    })\n  }\n\n  get genre () {\n    if (!this.docSource.genre) return\n    if (Array.isArray(this.docSource.genre) === false) return this.docSource.genre\n    return this.docSource.genre[0]\n  }\n\n  get event () {\n    if (\n      !this.docSource.afpentity ||\n      !this.docSource.afpentity.event ||\n      Array.isArray(this.docSource.afpentity.event) === false ||\n      !this.docSource.afpentity.event[0] ||\n      !this.docSource.afpentity.event[0].qcode ||\n      !this.docSource.afpentity.event[0].keyword\n    ) return\n    return {\n      id: this.docSource.afpentity.event[0].qcode.split(':')[1],\n      name: this.docSource.afpentity.event[0].keyword.split(' : ')[1]\n    }\n  }\n\n  public toObject (): Document {\n    return {\n      uno: this.docSource.uno,\n      headline: this.headline,\n      published: this.published,\n      embargoed: this.embargoed,\n      lang: this.docSource.lang,\n      product: this.docSource.product,\n      urgency: this.docSource.urgency,\n      news: this.docSource.news,\n      slugs: this.docSource.slug,\n      medias: this.medias,\n      iptc: this.docSource.iptc,\n      source: this.docSource.source,\n      creator: this.docSource.creator,\n      provider: this.docSource.provider,\n      city: this.docSource.city,\n      country: this.docSource.country,\n      advisory: this.docSource.advisory,\n      status: this.docSource.status,\n      summary: this.docSource.summary,\n      genre: this.genre as string,\n      event: this.event\n    }\n  }\n}\n","import afpNews from '@/plugins/api'\nimport { v4 as uuidv4 } from 'uuid'\nimport DocumentParser from '@/plugins/DocumentParser'\nimport { Locale, Column, Document } from '@/types'\nimport State from '@/store/state'\nimport { AfpDocument, Params, Token } from 'afpnews-api/dist/types'\n\nexport default {\n  addColumn (state: State, payload: Column) {\n    const defaultColumn = {\n      id: uuidv4(),\n      type: 'topic',\n      params: Object.assign({}, afpNews.defaultSearchParams, { products: ['multimedia'], size: 10, sources: ['afp', 'AFPTV', 'AFP Vidographie', 'AFP Videographics', 'AFP Vidographic', 'AFPTV / AFP Videografik'] }),\n      documentsIds: []\n    }\n    if (payload && payload.params) {\n      payload.params = Object.assign(defaultColumn.params, payload.params)\n    }\n    const newColumn = Object.assign({}, defaultColumn, payload)\n    if (state.columns.find(column => column.id === newColumn.id)) return\n    state.columns.push(newColumn)\n  },\n  moveColumn (state: State, { indexCol, dir }: { indexCol: number, dir: 'left' | 'right' }) {\n    const sortingArray = state.columns.map(d => d.id)\n    const to = dir === 'left' ? indexCol - 1 : indexCol + 1\n    const colId = sortingArray[indexCol]\n    sortingArray.splice(indexCol, 1)\n    sortingArray.splice(to, 0, colId)\n\n    state.columns.sort((a, b) => sortingArray.indexOf(a.id) - sortingArray.indexOf(b.id))\n  },\n  closeColumn (state: State, { indexCol }: { indexCol: number }) {\n    state.columns = state.columns.filter((_, i) => i !== indexCol)\n  },\n  resetColumn (state: State, { indexCol }: { indexCol: number }) {\n    state.columns[indexCol].documentsIds = []\n  },\n  updateColumnParams (state: State, { indexCol, params }: { indexCol: number, params: Params }) {\n    state.columns[indexCol].params = params\n  },\n  setToken (state: State, token: Token) {\n    state.authType = token.authType\n  },\n  unsetToken (state: State) {\n    state.authType = 'unknown'\n  },\n  addDocuments (state: State, documents: AfpDocument[]) {\n    documents\n      .map((document: AfpDocument) => new DocumentParser(document).toObject())\n      .forEach((document: Document) => state.documents.set(document.uno, document))\n  },\n  clearDocuments (state: State) {\n    state.columns.forEach(column => { column.documentsIds = [] })\n    state.documents.clear()\n  },\n  prependDocumentsIdsToCol (state: State, { indexCol, documentsIds }: { indexCol: number, documentsIds: string[] }) {\n    const existingDocumentsIds = state.columns[indexCol].documentsIds\n    const firstExistingDocIndex = existingDocumentsIds.findIndex((d: string) => !d.includes('documents-gap'))\n    if (firstExistingDocIndex > 0) {\n      existingDocumentsIds.splice(0, firstExistingDocIndex)\n    }\n    state.columns[indexCol].documentsIds = [...new Set(documentsIds.concat(existingDocumentsIds))]\n  },\n  appendDocumentsIdsToCol (state: State, { indexCol, documentsIds }: { indexCol: number, documentsIds: string[] }) {\n    const existingDocumentsIds = state.columns[indexCol].documentsIds\n    state.columns[indexCol].documentsIds = [...new Set(existingDocumentsIds.concat(documentsIds))]\n  },\n  setConnectivityStatus (state: State, isOnline: boolean) {\n    state.isOnline = isOnline\n  },\n  setLocale (state: State, value: Locale) {\n    state.locale = value\n  },\n  resetState (state: State) {\n    Object.assign(state, new State())\n  },\n  displayInstallApp (state: State, value: boolean) {\n    state.displayInstallApp = value\n  },\n  resetAllColumns (state: State) {\n    state.columns = []\n  }\n}\n","import Vue from 'vue'\nimport afpNews from '@/plugins/api'\nimport { loadLanguageAsync } from '@/plugins/i18n'\nimport { changeDayJsLocale } from '@/plugins/dayjs'\nimport { ActionContext, ActionTree } from 'vuex'\nimport { Locale, Document } from '@/types'\nimport State from '@/store/state'\nimport DocumentParser from '@/plugins/DocumentParser'\nimport { Params } from 'afpnews-api/dist/types'\n\nconst actions: ActionTree<State, State> = {\n  async changeLocale ({ commit }: ActionContext<State, State>, locale: Locale): Promise<void> {\n    await loadLanguageAsync(locale)\n    changeDayJsLocale(locale)\n    commit('setLocale', locale)\n  },\n  logout ({ commit, dispatch }: ActionContext<State, State>): Promise<void> {\n    commit('unsetToken')\n    commit('clearDocuments')\n    commit('resetAllColumns')\n    return dispatch('refreshAllColumns')\n  },\n  async authenticate (\n    {\n      commit,\n      dispatch\n    }: ActionContext<State, State>,\n    {\n      username,\n      password\n    }: {\n      username?: string,\n      password?: string\n    } = {}): Promise<void> {\n    try {\n      await afpNews.authenticate({ username, password })\n      commit('clearDocuments')\n      dispatch('refreshAllColumns', { mode: 'reset' })\n    } catch (error) {\n      Vue.toasted.global.apiError(error)\n      return Promise.reject(error)\n    }\n  },\n  async searchDocuments ({ commit, dispatch }: ActionContext<State, State>, params: Params): Promise<Document[]> {\n    try {\n      dispatch('wait/start', `documents.search`, { root: true })\n\n      const { documents } = await afpNews.search(params)\n\n      if (!documents) return []\n\n      commit('addDocuments', documents)\n\n      return documents.map(doc => new DocumentParser(doc).toObject())\n    } finally {\n      dispatch('wait/end', `documents.search`, { root: true })\n    }\n  },\n  async refreshColumn (\n    {\n      state,\n      commit,\n      dispatch,\n      getters,\n      rootGetters\n    }: ActionContext<State, State>,\n    {\n      indexCol,\n      mode\n    }: {\n      indexCol: number,\n      mode: 'before' | 'after' | 'reset'\n    }): Promise<boolean | undefined> {\n    if (rootGetters['wait/is'](`column.refreshing.${state.columns[indexCol].id}`)) {\n      return\n    }\n    try {\n      if (mode === 'reset') {\n        commit('resetColumn', { indexCol })\n      } else if (getters.getDocumentsIdsByColumnId(indexCol, false).length === 0) {\n        mode = 'reset'\n      }\n\n      const params = getters.getRefreshParamsByMode(indexCol, mode)\n\n      dispatch('wait/start', `column.refreshing.${state.columns[indexCol].id}`, { root: true })\n\n      const { documents, count } = await afpNews.search(params)\n\n      if (!documents || documents.length === 0) return false\n\n      commit('addDocuments', documents)\n\n      const documentsIds = documents.map(doc => doc.uno)\n\n      switch (mode) {\n        case 'reset':\n        // falls through\n        case 'before':\n          commit('appendDocumentsIdsToCol', { indexCol, documentsIds })\n          break\n        case 'after':\n          if (count > documents.length) {\n            documentsIds.push(`documents-gap|${+new Date()}|${count - documents.length}`)\n          }\n          commit('prependDocumentsIdsToCol', { indexCol, documentsIds })\n          break\n        default:\n      }\n\n      return true\n    } finally {\n      dispatch('wait/end', `column.refreshing.${state.columns[indexCol].id}`, { root: true })\n    }\n  },\n  async refreshAllColumns (\n    {\n      state,\n      dispatch,\n      rootGetters\n    }: ActionContext<State, State>,\n    {\n      mode = 'after'\n    } = {}): Promise<void> {\n    if (rootGetters['wait/is'](`column.refreshing.all`)) {\n      return\n    }\n\n    try {\n      dispatch('wait/start', `column.refreshing.all`, { root: true })\n      await Promise.all(\n        state.columns\n          .map((_, indexCol) => dispatch('refreshColumn', { indexCol, mode }))\n      )\n    } catch (error) {\n      Vue.toasted.global.apiError(error)\n    } finally {\n      dispatch('wait/end', `column.refreshing.all`, { root: true })\n    }\n  },\n  async getDocument ({ commit }: ActionContext<State, State>, docId: string): Promise<void> {\n    try {\n      const document = await afpNews.get(docId)\n      commit('addDocuments', [document])\n    } catch (error) {\n      Vue.toasted.global.apiError(error)\n      return Promise.reject(error)\n    }\n  }\n}\n\nexport default actions\n","import localForage from 'localforage'\nimport 'localforage-getitems'\nimport 'localforage-setitems'\n\nexport const storageKeys = {\n  columns: 'afpnews-deck-columns',\n  token: 'afpnews-deck-token',\n  client: 'afpnews-deck-client',\n  clientId: 'afpnews-deck-client-id',\n  clientSecret: 'afpnews-deck-client-secret',\n  autoRefresh: 'afpnews-deck-auto-refresh',\n  locale: 'afpnews-deck-locale'\n}\n\nexport const userStore = localForage.createInstance({\n  name: 'userStore'\n})\n\nexport const documentsStore = localForage.createInstance({\n  name: 'documentsStore'\n})\n","import afpNews from '@/plugins/api'\nimport { storageKeys, userStore } from '@/plugins/database'\nimport { Store } from 'vuex'\nimport State from '@/store/state'\nimport { Token } from 'afpnews-api/dist/types'\n\nexport const initCredentials = async (store: Store<State>) => {\n  const token = await userStore.getItem(storageKeys.token)\n\n  if (token) {\n    afpNews.token = token as Token\n    store.commit('setToken', token)\n  }\n}\n\nexport const persistCredentials = (store: Store<State>) => {\n  store.subscribe(({ type, payload }: { type: string, payload: any }, state: State) => {\n    switch (type) {\n      case 'setToken':\n        if (payload.authType === 'credentials') {\n          userStore.setItem(storageKeys.token, payload)\n        } else {\n          userStore.removeItem(storageKeys.token)\n        }\n        break\n      case 'unsetToken':\n        afpNews.resetToken()\n        userStore.removeItem(storageKeys.token)\n        break\n      default:\n    }\n  })\n}\n","import afpNews from '@/plugins/api'\nimport { v4 as uuidv4 } from 'uuid'\nimport { storageKeys, userStore, documentsStore } from '@/plugins/database'\nimport { Store } from 'vuex'\nimport { Document, Column } from '@/types'\nimport State from '@/store/state'\n\nexport const initState = async (store: Store<State>) => {\n  const [locale, columns] = await Promise.all(\n    [storageKeys.locale, storageKeys.columns].map(key => userStore.getItem(key))\n  )\n\n  if (locale !== null && store.state.locale !== locale) await store.dispatch('changeLocale', locale)\n\n  const documents = await documentsStore.getItems()\n  store.commit('addDocuments', Object.values(documents))\n\n  if (Array.isArray(columns) && columns.length > 0) {\n    columns.forEach(column => store.commit('addColumn', {\n      ...column,\n      documentsIds: column.documentsIds.filter((d: string) => d.includes('documents-gap') || documents[d])\n    }))\n  } else {\n    store.commit('addColumn', {id: uuidv4(), params: Object.assign({}, afpNews.defaultSearchParams, { products: ['multimedia'], topics: ['Monde'], langs: ['fr'], size: 10, sources: ['afp', 'AFPTV', 'AFP Vidographie', 'AFP Videographics', 'AFP Vidographic', 'AFPTV / AFP Videografik'] }), documentsIds: [] })\n    store.commit('addColumn', {id: uuidv4(), params: Object.assign({}, afpNews.defaultSearchParams, { products: ['multimedia'], topics: ['Politique'], langs: ['fr'], size: 10, sources: ['afp', 'AFPTV', 'AFP Vidographie', 'AFP Videographics', 'AFP Vidographic', 'AFPTV / AFP Videografik'] }), documentsIds: [] })\n    store.commit('addColumn', {id: uuidv4(), params: Object.assign({}, afpNews.defaultSearchParams, { products: ['multimedia'], topics: ['Economie/Finances', 'service-eco-fr'], langs: ['fr'], size: 10, sources: ['afp', 'AFPTV', 'AFP Vidographie', 'AFP Videographics', 'AFP Vidographic', 'AFPTV / AFP Videografik'] }), documentsIds: [] })\n  }\n}\n\nexport const persistState = (store: Store<State>) => {\n  store.subscribe(async ({ type, payload }: { type: string, payload: any}, state: State) => {\n    switch (type) {\n      case 'setLocale':\n        userStore.setItem(storageKeys.locale, payload)\n        break\n      case 'addColumn':\n        // falls through\n      case 'moveColumn':\n        // falls through\n      case 'updateColumnParams':\n        // falls through\n      case 'appendDocumentsIdsToCol':\n        // falls through\n      case 'prependDocumentsIdsToCol':\n        userStore.setItem(storageKeys.columns, state.columns)\n        break\n      case 'closeColumn':\n        // falls through\n      case 'resetColumn':\n        const displayedIds: string[] = []\n        displayedIds.concat.apply([], state.columns.map((column: Column) => column.documentsIds))\n        const storedKeys = await documentsStore.keys()\n        storedKeys\n          .filter(key => !displayedIds.includes(key))\n          .forEach(key => documentsStore.removeItem(key))\n        userStore.setItem(storageKeys.columns, state.columns)\n        break\n      case 'resetState':\n        userStore.clear()\n        documentsStore.clear()\n        store.commit('addColumn')\n        break\n      case 'clearDocuments':\n        documentsStore.clear()\n        userStore.setItem(storageKeys.columns, state.columns)\n        break\n      case 'addDocuments':\n        documentsStore.setItems(payload.map((doc: Document) => ({\n          key: doc.uno,\n          value: doc\n        })))\n        break\n      default:\n    }\n  })\n}\n","import Vue from 'vue'\nimport { Store } from 'vuex'\nimport State from '@/store/state'\n\nexport const ui = (store: Store<State>) => {\n  // store.subscribe(async ({ type }: { type: string }, state: State) => {\n  //   switch (type) {\n  //     case 'addColumn':\n  //       await Vue.nextTick()\n  //       const lastColumn = document.querySelector('.column:last-of-type')\n  //       if (lastColumn) {\n  //         lastColumn.scrollIntoView({\n  //           behavior: 'smooth',\n  //           block: 'end'\n  //         })\n  //       }\n  //       break\n  //     default:\n  //   }\n  // })\n}\n","import Vue from 'vue'\nimport Vuex, { Store } from 'vuex'\nimport State from '@/store/state'\nimport getters from '@/store/getters'\nimport mutations from '@/store/mutations'\nimport actions from '@/store/actions'\nimport { initCredentials, persistCredentials } from '@/store/plugins/saveCredentials'\nimport { initState, persistState } from '@/store/plugins/saveState'\nimport { ui } from '@/store/plugins/ui'\n\nVue.use(Vuex)\n\nconst store = new Store<State>({\n  state: new State(),\n  getters,\n  mutations,\n  actions,\n  modules: {},\n  plugins: [\n    persistCredentials,\n    persistState,\n    ui\n  ],\n  strict: process.env.NODE_ENV !== 'production'\n})\n\nexport default store\n\nexport const initStore = async () => {\n  await Promise.all([initCredentials(store), initState(store)])\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./main.scss?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deck.vue?vue&type=style&index=0&id=53e7c40c&lang=scss&scoped=true&\"","var map = {\n\t\"./en.json\": \"edd4\",\n\t\"./fr.json\": \"f693\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"39c3\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=7e3b9ef6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=cfe50ac0&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/afp_logo.346ca232.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shortcuts.vue?vue&type=style&index=0&id=4067b2bd&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Column.vue?vue&type=style&index=1&lang=scss&\"","import Vue from 'vue'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport 'dayjs/locale/fr'\nimport { Locale } from '@/types'\n\ndayjs.extend(relativeTime)\n\nconst VueDayJS = {\n  install (vm: typeof Vue) {\n    vm.filter('fromNow', (value: Date, now: Date) => {\n      return dayjs(value).from(dayjs(now))\n    })\n  }\n}\n\nVue.use(VueDayJS)\n\nexport function changeDayJsLocale (locale: Locale): void {\n  dayjs.locale(locale)\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=fd7f99a2&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchParams.vue?vue&type=style&index=0&id=c660f670&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Column.vue?vue&type=style&index=0&id=2b911d6a&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recyclist.vue?vue&type=style&index=0&id=47f9749e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=style&index=0&id=a70769d0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.doc)?_c('router-link',{staticClass:\"article\",class:{\n    flash: _vm.doc.urgency === 1,\n    alerte: _vm.doc.product !== 'photo' && _vm.doc.urgency === 2,\n    urgent: _vm.doc.product !== 'photo' && _vm.doc.urgency === 3,\n    photo: _vm.doc.product === 'photo',\n    multimedia: _vm.doc.product === 'multimedia',\n    news: _vm.doc.product === 'news',\n    video: ['sidtv', 'parismode', 'afptvweb', 'afptv1st', 'videographie'].includes(_vm.doc.product),\n    canceled: _vm.doc.status === 'Canceled'\n  },attrs:{\"lang\":_vm.doc.lang,\"dir\":_vm.doc.lang === 'ar' ? 'rtl' : 'ltr',\"to\":{ name: 'document', params: { indexCol: _vm.indexCol, docId: _vm.docId } }}},[(_vm.doc.medias.length > 0 && _vm.doc.medias[0].sizes.some(function (size) { return size.role === 'Preview' ||size.role === 'HighDef'; }))?_c('div',{staticClass:\"img-container\",style:({\n      backgroundImage: (\"url(\" + (_vm.selectPreview(_vm.doc.medias[0].sizes).href) + \")\"),\n      backgroundPosition: _vm.doc.medias[0].faceYOffsetPercent ? (\"0px \" + (_vm.doc.medias[0].faceYOffsetPercent * 100) + \"%\"): null\n    })},[(['sidtv', 'parismode', 'afptvweb', 'afptv1st', 'videographie'].includes(_vm.doc.product))?_c('i',{staticClass:\"UI-icon UI-play-video\"}):_vm._e()]):_vm._e(),_c('div',{staticClass:\"cols\"},[(_vm.doc.embargoed && _vm.doc.embargoed > new Date())?_c('p',{key:(\"date-\" + _vm.locale),staticClass:\"date embargo\"},[_vm._v(\" Embargo : \"+_vm._s(_vm._f(\"fromNow\")(_vm.doc.embargoed,_vm.$root.$now))+\" \")]):_c('p',{key:(\"date-\" + _vm.locale),staticClass:\"date\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(_vm.doc.published,_vm.$root.$now))+\" \")]),(_vm.doc.product === 'photo' && _vm.doc.urgency === 1)?_c('p',{staticClass:\"genre\"},[_vm._v(\" Topshot \")]):(_vm.doc.genre)?_c('p',{staticClass:\"genre\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.doc.genre)+\" \")])]):_vm._e()]),(_vm.doc.product !== 'photo')?_c('h2',[_vm._v(\" \"+_vm._s(_vm.doc.headline)+\" \")]):_vm._e(),(['news', 'multimedia'].includes(_vm.doc.product) && _vm.doc.urgency > 2 && _vm.doc.news && _vm.doc.news[0] && _vm.doc.status === 'Usable')?_c('p',{staticClass:\"lead\"},[_vm._v(\" \"+_vm._s(_vm.doc.news[0].substr(0, 100) + '...')+\" \")]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <router-link\n    v-if=\"doc\"\n    :class=\"{\n      flash: doc.urgency === 1,\n      alerte: doc.product !== 'photo' && doc.urgency === 2,\n      urgent: doc.product !== 'photo' && doc.urgency === 3,\n      photo: doc.product === 'photo',\n      multimedia: doc.product === 'multimedia',\n      news: doc.product === 'news',\n      video: ['sidtv', 'parismode', 'afptvweb', 'afptv1st', 'videographie'].includes(doc.product),\n      canceled: doc.status === 'Canceled'\n    }\"\n    :lang=\"doc.lang\"\n    :dir=\"doc.lang === 'ar' ? 'rtl' : 'ltr'\"\n    :to=\"{ name: 'document', params: { indexCol, docId } }\"\n    class=\"article\"\n  >\n    <div\n      v-if=\"doc.medias.length > 0 && doc.medias[0].sizes.some(size => size.role === 'Preview' ||size.role === 'HighDef')\"\n      :style=\"{\n        backgroundImage: `url(${selectPreview(doc.medias[0].sizes).href})`,\n        backgroundPosition: doc.medias[0].faceYOffsetPercent ? `0px ${doc.medias[0].faceYOffsetPercent * 100}%`: null\n      }\"\n      class=\"img-container\"\n    >\n      <i\n        v-if=\"['sidtv', 'parismode', 'afptvweb', 'afptv1st', 'videographie'].includes(doc.product)\"\n        class=\"UI-icon UI-play-video\"\n      />\n    </div>\n    <div class=\"cols\">\n      <p\n        v-if=\"doc.embargoed && doc.embargoed > new Date()\"\n        :key=\"`date-${locale}`\"\n        class=\"date embargo\"\n      >\n        Embargo : {{ doc.embargoed | fromNow($root.$now) }}\n      </p>\n      <p\n        v-else\n        :key=\"`date-${locale}`\"\n        class=\"date\"\n      >\n        {{ doc.published | fromNow($root.$now) }}\n      </p>\n      <p\n        v-if=\"doc.product === 'photo' && doc.urgency === 1\"\n        class=\"genre\"\n      >\n        Topshot\n      </p>\n      <p\n        v-else-if=\"doc.genre\"\n        class=\"genre\"\n      >\n        <span>\n          {{ doc.genre }}\n        </span>\n      </p>\n    </div>\n    <h2 v-if=\"doc.product !== 'photo'\">\n      {{ doc.headline }}\n    </h2>\n    <p\n      v-if=\"['news', 'multimedia'].includes(doc.product) && doc.urgency > 2 && doc.news && doc.news[0] && doc.status === 'Usable'\"\n      class=\"lead\"\n    >\n      {{ doc.news[0].substr(0, 100) + '...' }}\n    </p>\n  </router-link>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  name: 'Card',\n  props: {\n    docId: {\n      type: String,\n      required: true\n    },\n    indexCol: {\n      type: Number,\n      required: false,\n      default: null\n    }\n  },\n  computed: {\n    ...mapState([\n      'locale'\n    ]),\n    ...mapGetters([\n      'getDocumentById'\n    ]),\n    doc () {\n      return this.getDocumentById(this.docId)\n    }\n  },\n  methods: {\n    selectPreview (sizes) {\n      return sizes.find(size => size.role === 'Preview') || sizes.find(size => size.role === 'HighDef')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n.article {\n  color: unset;\n  text-decoration: unset;\n  display: block;\n  background-color: white;\n  width: 100%;\n  cursor: pointer;\n  user-select: none;\n  margin-bottom: 12px;\n  padding-bottom: 18px;\n  box-shadow: 0 1px 2px rgba($grey-cold-5,0.4);\n  transition: box-shadow 0.2s ease-in-out;\n  border-radius: 1px;\n\n  &:hover {\n    box-shadow: 0 1px 18px rgba($grey-cold-5,0.4);\n  }\n\n  &:not(.photo).flash {\n    border-left: $urgency-bar-width solid #c9402d;\n  }\n\n  &.alerte {\n    border-left: $urgency-bar-width solid $yellow-butter-5;\n  }\n  &.urgent {\n    border-left: $urgency-bar-width solid lighten($yellow-butter-5, 20%);\n  }\n  &:visited {\n    background-color: mix($white, $background-color, 70);\n\n    h2, p {\n      color: $grey-cold-3;\n    }\n  }\n\n  &.canceled {\n    & > h2 {\n      text-decoration: line-through;\n    }\n  }\n\n  .cols {\n    display: flex;\n    justify-content: space-between;\n    color: $grey-cold-4;\n    padding: 18px 18px 0px 18px;\n    font-size: 0.75rem;\n    p.date {\n      margin: 0px;\n      &.embargo {\n        color: $red_warm_3;\n      }\n    }\n    p.genre {\n      text-transform: uppercase;\n      font-weight: 600;\n      margin: 0px;\n    }\n  }\n\n  .img-container + p {\n    padding-top: 18px;\n    margin-bottom: 0;\n  }\n\n  h2 {\n    padding: 0 18px;\n    font-size: 1.4rem;\n    margin: 10px 0px;\n    line-height: 1.4rem;\n    letter-spacing: -0.045em;\n    font-weight: 600;\n    word-wrap: break-word;\n  }\n\n  .img-container {\n    position: relative;\n    width: 100%;\n    height: 150px;\n    background-size: 100% auto;\n    background-position: center center;\n    background-repeat: no-repeat;\n    //margin: 10px 0px;\n    border-radius: 2px;\n\n    .UI-icon.UI-play-video {\n      position: absolute;\n      left: 0px;\n      top: 50%;\n      transform: translate(0%, -50%);\n      font-size: 48px;\n      color: white;\n      opacity: 0.7;\n      margin-left: 16px;\n    }\n  }\n\n  p.lead {\n    padding: 0px 18px 12px;\n    display: block;\n    display: -webkit-box;\n    margin-top: 0px;\n    margin-bottom: 0px;\n    // max-height: 62px;\n    word-wrap: break-word;\n    overflow: hidden;\n  }\n  @media screen and (max-device-height: 568px) {\n    p.lead {\n      display: none;\n    }\n  }\n}\n@media screen {\n  .night-mode {\n    .article {\n      background-color: $font-color;\n      box-shadow: 0 1px 6px rgba(black,0.4);\n      &:hover {\n        box-shadow: 0 1px 12px rgba(black,0.6);\n      }\n      h2 {\n        color: #eee;\n        letter-spacing: -0.6px;\n        line-height: 23px;\n      }\n      p.lead {\n        color: $grey-cold-4;\n      }\n      &:visited {\n        background-color: mix(white, $font-color, 5);\n\n        h2, p {\n          color: $grey-cold-5;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=fd7f99a2&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=fd7f99a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd7f99a2\",\n  null\n  \n)\n\nexport default component.exports","import store from '../store'\nimport { event } from 'vue-analytics'\n\ninterface BeforeInstallPromptEvent extends Event {\n  readonly platforms: string[]\n  readonly userChoice: Promise<{\n    outcome: 'accepted' | 'dismissed',\n    platform: string\n  }>\n  prompt (): Promise<void>\n}\n\nlet installPrompt: BeforeInstallPromptEvent\n\n// Setup a listener to track Add to Homescreen events.\nwindow.addEventListener('beforeinstallprompt', (evt): void => {\n  installPrompt = evt as BeforeInstallPromptEvent\n  store.commit('displayInstallApp', true)\n  installPrompt.userChoice.then(({ outcome }) => {\n    if (outcome === 'accepted') {\n      store.commit('displayInstallApp', false)\n    }\n    event('pwa', 'installation', outcome)\n  })\n})\n\nwindow.addEventListener('appinstalled', (_) => {\n  event('pwa', 'installation', 'installed')\n})\n\nexport default () => {\n  installPrompt.prompt()\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddColumn.vue?vue&type=style&index=0&lang=scss&\"","import Vue from 'vue'\nimport Meta from 'vue-meta'\n\nVue.use(Meta)\n","import Vue from 'vue'\nimport Toasted from 'vue-toasted'\nimport store from '../store'\n\nVue.use(Toasted)\n\nVue.toasted.register('error', (error: ErrorEvent): string => {\n  // tslint:disable-next-line no-console\n  console.error(error)\n  if (!error.message) {\n    return 'Oops.. Something went wrong..'\n  }\n  return `Oops.. ${error.message}`\n}, {\n  type: 'error',\n  position: 'bottom-center',\n  duration: 1500,\n  singleton: true\n})\n\nVue.toasted.register('warn', (message: string): string => {\n  // tslint:disable-next-line no-console\n  console.warn(message)\n  return `Oops.. ${message}`\n}, {\n  type: 'error',\n  position: 'bottom-center',\n  duration: 1500,\n  singleton: true\n})\n\nVue.toasted.register('apiError', (error: any): string => {\n  if (error.code === 401) {\n    store.dispatch('logout')\n  } else {\n    // tslint:disable-next-line no-console\n    console.error(error)\n  }\n  if (!error.message) {\n    return 'Oops.. Something went wrong with the API..'\n  }\n  return `Oops.. ${error.message}`\n}, {\n  type: 'error',\n  position: 'bottom-center',\n  duration: 1000,\n  singleton: true\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('navbar'),_c('shortcuts'),(_vm.isAuthenticated)?_c('transition-group',{attrs:{\"id\":\"columns\",\"name\":\"list\",\"tag\":\"div\"}},[_vm._l((_vm.columns),function(column,i){return _c('column',{key:(\"column-\" + (column.id)),attrs:{\"column-id\":i,\"columnType\":column.type}})}),_c('add-column',{key:\"add-column\"})],2):_vm._e(),_c('side-bar'),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"column\"},[_c('search-params',{attrs:{\"column-id\":_vm.columnId,\"column-type\":_vm.columnType},on:{\"reset\":_vm.reset,\"close\":_vm.close,\"move\":function (dir) { return _vm.move(dir); }}}),_c('recyclist',{ref:\"recyclist\",staticClass:\"documents\",attrs:{\"list\":_vm.documents,\"size\":10,\"offset\":200,\"is-loading\":_vm.$wait.is((\"column.refreshing.\" + (_vm.column.id))),\"no-more\":_vm.noMore},on:{\"load-top\":_vm.loadAfter,\"load-bottom\":_vm.loadBefore},scopedSlots:_vm._u([{key:\"tombstone\",fn:function(){return [_c('content-placeholders',{staticClass:\"tombstone\",attrs:{\"animated\":true,\"rounded\":true,\"centered\":false}},[_c('content-placeholders-heading',{attrs:{\"img\":false}}),_c('content-placeholders-img'),_c('content-placeholders-text',{attrs:{\"lines\":2}})],1)]},proxy:true},{key:\"item\",fn:function(ref){\nvar data = ref.data;\nreturn [(data.includes('documents-gap'))?_c('div',{staticClass:\"documents-gap\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$tc('column.documents-gap', parseInt(data.split('|')[2]), { count: parseInt(data.split('|')[2]) }))+\" \"),_c('router-link',{attrs:{\"to\":\"/\"},nativeOn:{\"click\":function($event){return _vm.reset($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('column.refresh'))+\" \")])],1)]):_c('card',{attrs:{\"doc-id\":data,\"index-col\":_vm.columnId}})]}},{key:\"nomore\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.$t('column.no-result')))])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"search-params\"},[_c('div',{key:\"header\",staticClass:\"header\"},[_c('span',{staticClass:\"icon\"},[(_vm.columnType === 'search')?_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"search-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z\"}})]):_vm._e(),(_vm.columnType === 'topic')?_c('svg',{attrs:{\"viewBox\":\"0 0 500 500\"}},[_c('title',[_vm._v(\"rubrique\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"}})]):_vm._e()]),(_vm.columnType === 'topic')?_c('span',{staticClass:\"column-title\"},[_vm._v(_vm._s(_vm.topic[0] || _vm.$t('topics.all')))]):_vm._e(),(_vm.columnType === 'search')?_c('search-input',{key:\"search\",staticClass:\"search-input\",attrs:{\"type\":_vm.paramsOpen === true ? 'search' : 'text',\"initial-query\":_vm.params.query},on:{\"submit\":_vm.onQueryChange}}):_vm._e(),_c('span',{staticClass:\"settings\",on:{\"click\":_vm.toggleFilters}},[_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"filter-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M109.547,47.059a49.378,49.378,0,0,0-47.878,37.57H30.824v23H61.563a49.286,49.286,0,0,0,96.021-.234H269.315v-23H157.37A49.38,49.38,0,0,0,109.547,47.059Zm0,74.6a25.3,25.3,0,1,1,25.3-25.3A25.328,25.328,0,0,1,109.547,121.657Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M176.7,252.941a49.38,49.38,0,0,0,47.875-37.557h44.372v-23H224.681a49.287,49.287,0,0,0-95.973,0H30.685v23H128.82A49.378,49.378,0,0,0,176.7,252.941Zm0-74.6a25.3,25.3,0,1,1-25.3,25.3A25.328,25.328,0,0,1,176.7,178.343Z\"}})])])],1),(_vm.paramsOpen)?_c('transition-group',{staticClass:\"filters\",attrs:{\"name\":\"curtain\",\"tabindex\":\"-1\",\"tag\":\"div\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.languages.length > 1),expression:\"languages.length > 1\"}],key:\"lang\",staticClass:\"field\",attrs:{\"name\":\"lang\",\"aria-label\":\"Select a language\"}},[_c('div',{staticClass:\"control has-icons-left\"},[_c('div',{staticClass:\"select is-fullwidth\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lang),expression:\"lang\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.lang=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(ref){\nvar label = ref.label;\nvar value = ref.value;\nvar disabled = ref.disabled;\nreturn _c('option',{key:value.join('|'),attrs:{\"disabled\":disabled},domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(label)+\" \")])}),0)]),_c('div',{staticClass:\"icon is-small is-left\"},[_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"pin-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M76.938,38.423v-.011h-23V262.144h23V161.5H244.264L191.842,97.413l54.409-58.99ZM195.735,138.5H76.938V61.423h116.81L161.387,96.509Z\"}})])])])]),(_vm.columnType === 'topic')?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topics.length > 1),expression:\"topics.length > 1\"}],key:\"topic\",staticClass:\"field\",attrs:{\"name\":\"topic\",\"aria-label\":\"Select a topic\"}},[_c('div',{staticClass:\"control has-icons-left\"},[_c('div',{staticClass:\"select is-fullwidth\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.topic),expression:\"topic\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.topic=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.topics.filter(function (d) { return !d.disabled; })),function(ref){\nvar label = ref.label;\nvar value = ref.value;\nreturn _c('option',{key:value.join('|'),domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(label)+\" \")])}),0)]),_c('div',{staticClass:\"icon is-small is-left\"},[_c('svg',{attrs:{\"viewBox\":\"0 0 500 500\"}},[_c('title',[_vm._v(\"rubrique\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"}})])])])]):_vm._e(),(_vm.paramsOpen)?_c('button',{key:\"close\",staticClass:\"button is-fullwidth\",attrs:{\"name\":\"close\",\"aria-label\":\"Delete the column\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('span',{staticClass:\"icon\"},[_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"delete-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M200,269.231,223,84.615H77l23,184.616Zm-3.043-161.616L179.688,246.231H120.312L103.043,107.615Z\"}}),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"122.996 15.346 122.996 38.423 77 38.423 77 61.423 223 61.423 223 38.423 176.846 38.423 176.846 15.346 122.996 15.346\"}})])]),_c('span',[_vm._v(_vm._s(_vm.$t('column.delete')))])]):_vm._e(),_c('div',{key:\"move-column\",staticClass:\"move-column\"},[_c('button',{staticClass:\"btn btn-icon\",attrs:{\"name\":\"move-left\",\"aria-label\":\"Move column to left\"},on:{\"click\":function($event){return _vm.$emit('move', 'left')}}},[_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"navigateleft-blue\")]),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"146.308 236.646 63.687 150.055 146.297 62.936 146.319 30.769 30.769 150.01 146.308 269.231 146.308 236.646\"}})])]),_c('button',{staticClass:\"btn btn-icon margin-right-auto\",attrs:{\"name\":\"move-right\",\"aria-label\":\"Move column to right\"},on:{\"click\":function($event){return _vm.$emit('move', 'right')}}},[_c('svg',{attrs:{\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"navigateright-blue\")]),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"153.78 63.354 236.402 149.945 153.791 237.064 153.77 269.231 269.319 149.99 153.78 30.769 153.78 63.354\"}})])])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{ref:\"search\",staticClass:\"search inpt inpt-large\",attrs:{\"placeholder\":_vm.$t('column.search'),\"aria-label\":_vm.$t('column.search'),\"type\":_vm.type,\"autocomplete\":\"off\",\"name\":\"query\"},domProps:{\"value\":_vm.initialQuery},on:{\"change\":_vm.onQueryChange,\"focus\":_vm.onQueryFocus}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    ref=\"search\"\n    :placeholder=\"$t('column.search')\"\n    :aria-label=\"$t('column.search')\"\n    :type=\"type\"\n    :value=\"initialQuery\"\n    class=\"search inpt inpt-large\"\n    autocomplete=\"off\"\n    name=\"query\"\n    @change=\"onQueryChange\"\n    @focus=\"onQueryFocus\"\n  >\n</template>\n\n<script>\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\nimport afpNews from '@/plugins/api'\n\nexport default {\n  name: 'SearchInput',\n  components: {},\n  props: {\n    type: {\n      type: String,\n      required: false,\n      default: 'search'\n    },\n    initialQuery: {\n      type: String,\n      required: false,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      input: ''\n    }\n  },\n  computed: {},\n  methods: {\n    onQueryChange (ev) {\n      const query = ev.target.value\n      this.$emit('submit', query)\n    },\n    onQueryFocus (ev) {\n      ev.target.setSelectionRange(ev.target.value.length, ev.target.value.length)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/variables.scss\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchInput.vue?vue&type=template&id=1b6b8c88&\"\nimport script from \"./SearchInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchInput.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <header class=\"search-params\">\n    <div class=\"header\" key=\"header\">\n      <span class=\"icon\">\n        <svg v-if=\"columnType === 'search'\" viewBox=\"0 0 300 300\"><title>search-blue</title><path class=\"cls-1\" d=\"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z\"/></svg>\n        <svg v-if=\"columnType === 'topic'\" viewBox=\"0 0 500 500\"><title>rubrique</title><path class=\"cls-1\" d=\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"/><path class=\"cls-1\" d=\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"/><path class=\"cls-1\" d=\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"/></svg>\n      </span>\n      <span v-if=\"columnType === 'topic'\" class=\"column-title\">{{topic[0]  || $t('topics.all')}}</span>\n      <search-input class=\"search-input\" v-if=\"columnType === 'search'\"\n        :type=\"paramsOpen === true ? 'search' : 'text'\"\n        :initial-query=\"params.query\"\n        @submit=\"onQueryChange\"\n        key=\"search\"\n      />\n      <span class=\"settings\" @click=\"toggleFilters\">\n        <svg viewBox=\"0 0 300 300\"><title>filter-blue</title><path class=\"cls-1\" d=\"M109.547,47.059a49.378,49.378,0,0,0-47.878,37.57H30.824v23H61.563a49.286,49.286,0,0,0,96.021-.234H269.315v-23H157.37A49.38,49.38,0,0,0,109.547,47.059Zm0,74.6a25.3,25.3,0,1,1,25.3-25.3A25.328,25.328,0,0,1,109.547,121.657Z\"/><path class=\"cls-1\" d=\"M176.7,252.941a49.38,49.38,0,0,0,47.875-37.557h44.372v-23H224.681a49.287,49.287,0,0,0-95.973,0H30.685v23H128.82A49.378,49.378,0,0,0,176.7,252.941Zm0-74.6a25.3,25.3,0,1,1-25.3,25.3A25.328,25.328,0,0,1,176.7,178.343Z\"/></svg>\n      </span>\n    </div>\n\n    <transition-group\n      name=\"curtain\"\n      tabindex=\"-1\"\n      tag=\"div\"\n      class=\"filters\"\n      v-if=\"paramsOpen\"\n    >\n\n      <div\n        v-show=\"languages.length > 1\"\n        key=\"lang\"\n        name=\"lang\"\n        class=\"field\"\n        aria-label=\"Select a language\"\n      >\n        <div class=\"control has-icons-left\">\n          <div class=\"select is-fullwidth\">\n            <select v-model=\"lang\">\n              <option\n                v-for=\"{ label, value, disabled } in languages\"\n                :key=\"value.join('|')\"\n                :value=\"value\"\n                :disabled=\"disabled\"\n              >\n                {{ label }}\n              </option>\n            </select>\n          </div>\n          <div class=\"icon is-small is-left\">\n            <svg viewBox=\"0 0 300 300\"><title>pin-blue</title><path class=\"cls-1\" d=\"M76.938,38.423v-.011h-23V262.144h23V161.5H244.264L191.842,97.413l54.409-58.99ZM195.735,138.5H76.938V61.423h116.81L161.387,96.509Z\"/></svg>\n          </div>\n        </div>\n      </div>\n\n      <div         \n        v-if=\"columnType === 'topic'\"\n        v-show=\"topics.length > 1\"\n        key=\"topic\"\n        name=\"topic\"\n        class=\"field\"\n        aria-label=\"Select a topic\"\n      >\n        <div class=\"control has-icons-left\">\n          <div class=\"select is-fullwidth\">\n            <select v-model=\"topic\">\n            <option\n              v-for=\"{ label, value } in topics.filter(d => !d.disabled)\"\n              :key=\"value.join('|')\"\n              :value=\"value\"\n            >\n              {{ label }}\n            </option>\n            </select>\n          </div>\n          <div class=\"icon is-small is-left\">\n            <svg viewBox=\"0 0 500 500\"><title>rubrique</title><path class=\"cls-1\" d=\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"/><path class=\"cls-1\" d=\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"/><path class=\"cls-1\" d=\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"/></svg>\n          </div>\n        </div>\n      </div>\n\n      <button \n        v-if=\"paramsOpen\"\n        key=\"close\"\n        name=\"close\"\n        class=\"button is-fullwidth\"\n        aria-label=\"Delete the column\"\n        @click=\"$emit('close')\"\n      >\n        <span class=\"icon\">\n          <svg viewBox=\"0 0 300 300\"><title>delete-blue</title><path class=\"cls-1\" d=\"M200,269.231,223,84.615H77l23,184.616Zm-3.043-161.616L179.688,246.231H120.312L103.043,107.615Z\"/><polygon class=\"cls-1\" points=\"122.996 15.346 122.996 38.423 77 38.423 77 61.423 223 61.423 223 38.423 176.846 38.423 176.846 15.346 122.996 15.346\"/></svg>\n        </span>\n        <span>{{ $t('column.delete') }}</span>\n      </button>\n\n      <div key=\"move-column\" class=\"move-column\">\n\n        <button\n          name=\"move-left\"\n          aria-label=\"Move column to left\"\n          class=\"btn btn-icon\"\n          @click=\"$emit('move', 'left')\"\n        >\n        <svg viewBox=\"0 0 300 300\"><title>navigateleft-blue</title><polygon class=\"cls-1\" points=\"146.308 236.646 63.687 150.055 146.297 62.936 146.319 30.769 30.769 150.01 146.308 269.231 146.308 236.646\"/></svg>\n        </button>\n\n        <button\n          name=\"move-right\"\n          class=\"btn btn-icon margin-right-auto\"\n          aria-label=\"Move column to right\"\n          @click=\"$emit('move', 'right')\"\n        >\n          <svg  viewBox=\"0 0 300 300\"><title>navigateright-blue</title><polygon class=\"cls-1\" points=\"153.78 63.354 236.402 149.945 153.791 237.064 153.77 269.231 269.319 149.99 153.78 30.769 153.78 63.354\"/></svg>\n        </button>\n\n      </div>\n\n    </transition-group>\n  </header>\n</template>\n\n<script>\nimport SearchInput from '@/components/SearchInput'\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\nexport default {\n  name: 'SearchParams',\n  components: {\n    SearchInput\n  },\n  props: {\n    columnId: {\n      type: Number,\n      required: true\n    },\n    columnType: {\n      type: String,\n      required: true\n    }\n  },\n  data () {\n    return {\n      paramsOpen: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getColumnByIndex',\n      'isAuthenticated'\n    ]),\n    column () {\n      return this.getColumnByIndex(this.columnId)\n    },\n    params () {\n      return this.column.params\n    },\n    products () {\n      return [\n        {\n          label: this.$t('products.all'),\n          value: [],\n          disabled: !this.isAuthenticated\n        },\n        {\n          label: this.$t('products.news'),\n          value: ['news'],\n          disabled: !this.isAuthenticated\n        },\n        {\n          label: this.$t('products.multimedia'),\n          value: ['multimedia'],\n          disabled: false\n        },\n        {\n          label: this.$t('products.photo'),\n          value: ['photo'],\n          disabled: !this.isAuthenticated\n        },\n        {\n          label: this.$t('products.video'),\n          value: ['sidtv', 'parismode', 'afptvweb', 'afptv1st'],\n          disabled: !this.isAuthenticated\n        },\n        {\n          label: this.$t('products.infographie'),\n          value: ['infographie'],\n          disabled: !this.isAuthenticated\n        },\n        {\n          label: this.$t('products.videographie'),\n          value: ['videographie'],\n          disabled: !this.isAuthenticated\n        }\n      ]\n    },\n    product: {\n      get () {\n        return ['multimedia']\n      }\n    },\n    languages () {\n      if (this.product.length === 1 && this.product[0] === 'photo') {\n        return [\n          {\n            label: this.$t('languages.en'),\n            value: ['en'],\n            disabled: false\n          }\n        ]\n      }\n      return [\n        {\n          label: this.$t('languages.all'),\n          value: [],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.en'),\n          value: ['en'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.fr'),\n          value: ['fr'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.de'),\n          value: ['de'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.es'),\n          value: ['es'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.pt'),\n          value: ['pt'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.ar'),\n          value: ['ar'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.zh-tw'),\n          value: ['zh-tw'],\n          disabled: false\n        },\n        {\n          label: this.$t('languages.zh-cn'),\n          value: ['zh-cn'],\n          disabled: false\n        }\n      ]\n    },\n    lang: {\n      get () {\n        return this.params.langs\n      },\n      set (langs) {\n        this.updateParams({ langs, topics: [] })\n      }\n    },\n    urgencies () {\n      if (this.product[0] === 'photo') {\n        return [\n          {\n            label: this.$t('urgencies.all-photos'),\n            value: [],\n            disabled: !this.isAuthenticated\n          },\n          {\n            label: this.$tc('urgencies.topshots', 2),\n            value: [1],\n            disabled: !this.isAuthenticated\n          }\n        ]\n      }\n      if (this.product[0] === 'news') {\n        return [\n          {\n            label: this.$tc('urgencies.depeches', 2),\n            value: [1, 2, 3, 4],\n            disabled: !this.isAuthenticated\n          },\n          {\n            label: this.$tc('urgencies.flash', 2),\n            value: [1],\n            disabled: !this.isAuthenticated\n          },\n          {\n            label: this.$tc('urgencies.alertes', 2),\n            value: [1, 2],\n            disabled: !this.isAuthenticated\n          },\n          {\n            label: this.$tc('urgencies.urgents', 2),\n            value: [1, 2, 3],\n            disabled: !this.isAuthenticated\n          }\n        ]\n      }\n      return [\n        {\n          label: this.$t('urgencies.all'),\n          value: [],\n          disabled: !this.isAuthenticated\n        }\n      ]\n    },\n    urgency: {\n      get () {\n        return this.params.urgencies\n      },\n      set (urgencies) {\n        this.updateParams({ urgencies })\n      }\n    },\n    topics () {\n      // VARIABLIZE THESE DATA\n      if ((this.product[0] === 'news' || this.product[0] === 'multimedia') && this.lang[0] === 'fr') {\n        return [\n          {\n            label: this.$t('topics.all', 'fr'),\n            value: []\n          },\n          {\n            label: this.$t('topics.a-la-une', 'fr'),\n            value: ['La une'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.derniere-minute', 'fr'),\n            value: ['Dernire Minute'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.documentation', 'fr'),\n            value: ['Documentation'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.monde', 'fr'),\n            value: ['Monde'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.afrique', 'fr'),\n            value: ['Afrique'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.politique', 'fr'),\n            value: ['Politique'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.elections', 'fr'),\n            value: ['Elections'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.faits-divers', 'fr'),\n            value: ['Faits-divers'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.economie', 'fr'),\n            value: ['Economie/Finances']\n          },\n          {\n            label: this.$t('topics.environnement', 'fr'),\n            value: ['Environnement/Mto', 'Environnement'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.sport', 'fr'),\n            value: ['Sport'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.football', 'fr'),\n            value: ['Football'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.people', 'fr'),\n            value: ['People'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.tech', 'fr'),\n            value: ['High Tech'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.sciences', 'fr'),\n            value: ['Sciences'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: 'France',\n            value: ['France'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.insolite', 'fr'),\n            value: ['Insolite'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.medias', 'fr'),\n            value: ['Mdias'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.sante', 'fr'),\n            value: ['Mdecine/Sant'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.mode-de-vie', 'fr'),\n            value: ['Socit/Modes de vie'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.art-de-vivre', 'fr'),\n            value: ['Culture/Art de vivre'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.galerie-photos', 'fr'),\n            value: ['Galerie Photos'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.galerie-photos-insolites', 'fr'),\n            value: ['Galerie Photos Insolites'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.videographies', 'fr'),\n            value: ['Vidographies'],\n            disabled: this.product[0] === 'news'\n          },\n          {\n            label: this.$t('topics.videos-monde', 'fr'),\n            value: ['Vidos Monde'],\n            disabled: this.product[0] === 'news'\n          }\n        ]\n      }\n      if (this.product[0] === 'multimedia' && this.lang[0] === 'en') {\n        return [\n          {\n            label: this.$t('topics.all', 'en'),\n            value: []\n          },\n          {\n            label: this.$t('topics.a-la-une', 'en'),\n            value: ['Top Stories']\n          },\n          {\n            label: this.$t('topics.derniere-minute', 'en'),\n            value: ['Breaking News']\n          },\n          {\n            label: this.$t('topics.documentation', 'en'),\n            value: ['Doc']\n          },\n          {\n            label: this.$t('topics.monde', 'en'),\n            value: ['International News']\n          },\n          {\n            label: this.$t('topics.us-news', 'en'),\n            value: ['US News']\n          },\n          {\n            label: this.$t('topics.us-politics'),\n            value: ['US Politics']\n          },\n          {\n            label: this.$t('topics.us-sports'),\n            value: ['US Sports']\n          },\n          {\n            label: this.$t('topics.uk-news'),\n            value: ['UK News']\n          },\n          {\n            label: this.$t('topics.middle-east', 'en'),\n            value: ['Middle East']\n          },\n          {\n            label: this.$t('topics.south-asia-news', 'en'),\n            value: ['South Asia News']\n          },\n          {\n            label: this.$t('topics.asia-business', 'en'),\n            value: ['Asia Business']\n          },\n          {\n            label: this.$t('topics.business-tech', 'en'),\n            value: ['Business and Tech']\n          },\n          {\n            label: this.$t('topics.science-environment', 'en'),\n            value: ['Science-Environment']\n          },\n          {\n            label: this.$t('topics.offbeat', 'en'),\n            value: ['Offbeat']\n          },\n          {\n            label: this.$t('topics.health-lifestyle', 'en'),\n            value: ['Health and Lifestyle']\n          },\n          {\n            label: this.$t('topics.sport', 'en'),\n            value: ['Sports']\n          },\n          {\n            label: this.$t('topics.cricket', 'en'),\n            value: ['Cricket']\n          },\n          {\n            label: this.$t('topics.football', 'en'),\n            value: ['Football']\n          },\n          {\n            label: this.$t('topics.olympics', 'en'),\n            value: ['Olympics']\n          },\n          {\n            label: this.$t('topics.people', 'en'),\n            value: ['People and Entertainment']\n          },\n          {\n            label: this.$t('topics.lifestyle', 'en'),\n            value: ['Lifestyle']\n          },\n          {\n            label: this.$t('topics.photo-gallery', 'en'),\n            value: ['Photo Gallery']\n          },\n          {\n            label: this.$t('topics.videographics', 'en'),\n            value: ['Videographics']\n          },\n          {\n            label: this.$t('topics.video-gallery', 'en'),\n            value: ['Video Gallery Complete']\n          }\n        ]\n      }\n      return [\n        {\n          label: this.$t('topics.all'),\n          value: []\n        }\n      ]\n    },\n    topic: {\n      get () {\n        return this.params.topics\n      },\n      set (topics) {\n        this.updateParams({ topics })\n      }\n    },\n    query () {\n      return this.params.query\n    },\n    dateTo: {\n      get () {\n        return this.params.dateTo\n      },\n      set (dateTo) {\n        this.updateParams({ dateTo })\n      }\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'updateColumnParams',\n      'openColumnSettings',\n      'closeColumnSettings'\n    ]),\n    ...mapActions([\n      'refreshColumn'\n    ]),\n    updateParams (newParams) {\n      const params = {\n        ...this.params,\n        ...newParams\n      }\n      this.updateColumnParams({ indexCol: this.columnId, params })\n      this.$emit('reset')\n    },\n    onQueryChange (query) {\n      this.$ga.event('search', 'set query', query)\n      this.updateParams({ query })\n    },\n    toggleFilters () {\n      this.paramsOpen = this.paramsOpen ? false : true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n\n$input-height : 59px;\nbutton {\n  &.margin-left-auto {\n    margin-left: auto;\n  }\n  &.margin-right-auto {\n    margin-right: auto;\n  }\n}\nheader {\n  position: relative;\n  padding: 0px 17px 0px 12px;\n  .actions {\n    display: flex;\n  }\n\n  &.search-params{\n    .header{\n      align-items: center;\n      background: $light;\n      padding: 0 .5rem;\n      height: 49px;\n      display: flex;\n      font-size: 18px;\n      font-weight: 600;\n      border: 1px solid #dbdbdb;\n      border-radius: 0;\n      svg{\n        height: 22px;\n        fill: $dark;\n      }\n\n      .icon{\n        margin-right: 7px;\n      }\n      .search-input{\n        background: transparent;\n        outline: none;\n        margin-bottom: 0;\n      }\n\n      .settings{\n        justify-content: flex-end;\n        margin-left: auto;\n        cursor: pointer;\n        transform: translateY(5px);\n      }\n    }\n\n    .filters{\n      &:focus {\n          outline: none;\n      }\n      .field{\n        margin-bottom: 0;\n        height: $input-height;\n        .control{\n          height: $input-height;\n          .select{\n              height: $input-height;\n            &:not(.is-multiple):not(.is-loading)::after {\n                border-color: #757575;\n                right: 1.125em;\n                z-index: 4;\n            }\n            &:not(.is-multiple):not(.is-loading)::after, .navbar-link:not(.is-arrowless)::after {\n              border-width: 2px;\n            }\n            select{\n              color: $primary;\n              font-weight: 600;\n              height: $input-height;\n              border-radius: 0;\n            }\n          }\n          .icon{\n            transform: translateY(9px);\n            svg{\n              height: 22px;\n              fill: #757575;\n            }\n          }\n        }\n      }\n      .button{\n        height: $input-height;\n        color: $danger;\n        font-weight: 600;\n        justify-content: left;\n        border-radius: 0;\n        .icon{\n          svg{\n            height: 22px;\n            fill: $danger;\n          }\n        }\n      }\n      .move-column{\n        height: $input-height;\n        display: flex;\n        background: $light;\n        border: 1px solid #dbdbdb;\n        border-radius: 0;\n        padding-left: 5px;\n        .btn-icon{\n          padding: 5px;\n          svg{\n            height: 22px;\n            fill: #757575;\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchParams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchParams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchParams.vue?vue&type=template&id=c660f670&scoped=true&\"\nimport script from \"./SearchParams.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchParams.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchParams.vue?vue&type=style&index=0&id=c660f670&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c660f670\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-recyclist\"},[_c('div',{ref:\"list\",staticClass:\"vue-recyclist-items\",style:({ height: (_vm.height + \"px\") })},[_vm._l((_vm.visibleItems),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.height > 0),expression:\"height > 0\"}],key:index,staticClass:\"vue-recyclist-item\",style:({\n        transform: (\"translate3d(0,\" + (item.top) + \"px,0)\")\n      })},[(!item.data)?_vm._t(\"tombstone\"):_vm._t(\"item\",null,{\"data\":item.data})],2)}),_c('div',{staticClass:\"vue-recyclist-pool\"},[_vm._l((_vm.poolItems),function(item,index){return _c('div',{key:index,ref:item.data,refInFor:true,staticClass:\"vue-recyclist-item\"},[_vm._t(\"item\",null,{\"data\":item.data})],2)}),(_vm.tombHeight === 0)?_c('div',{ref:\"tomb\",staticClass:\"vue-recyclist-item\"},[_vm._t(\"tombstone\")],2):_vm._e()],2)],2),(!_vm.isLoading && _vm.noMore)?_c('div',{staticClass:\"vue-recyclist-nomore\"},[_vm._t(\"nomore\",[_c('div',[_vm._v(\"End of list\")])])],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import FontFaceObserver from 'fontfaceobserver'\n\nconst fonts = [\n  new FontFaceObserver('Poppins', { weight: 400, style: 'normal', stretch: 'normal' }),\n  new FontFaceObserver('Poppins', { weight: 600, style: 'normal', stretch: 'normal' })\n]\n\nexport default () => Promise.all(fonts.map(d => d.load()))\n","<!-- Inspired by vue-recyclist from xtongs (https://github.com/xtongs/vue-recyclist) -->\n<template>\n  <div class=\"vue-recyclist\">\n    <div\n      ref=\"list\"\n      :style=\"{ height: `${height}px` }\"\n      class=\"vue-recyclist-items\"\n    >\n      <div\n        v-for=\"(item, index) in visibleItems\"\n        v-show=\"height > 0\"\n        :key=\"index\"\n        :style=\"{\n          transform: `translate3d(0,${item.top}px,0)`\n        }\"\n        class=\"vue-recyclist-item\"\n      >\n        <slot\n          v-if=\"!item.data\"\n          name=\"tombstone\"\n        />\n        <slot\n          v-else\n          :data=\"item.data\"\n          name=\"item\"\n        />\n      </div>\n\n      <!--get tombstone and item heights from these invisible doms-->\n      <div class=\"vue-recyclist-pool\">\n        <div\n          v-for=\"(item, index) in poolItems\"\n          :key=\"index\"\n          :ref=\"item.data\"\n          class=\"vue-recyclist-item\"\n        >\n          <slot\n            :data=\"item.data\"\n            name=\"item\"\n          />\n        </div>\n        <div\n          v-if=\"tombHeight === 0\"\n          ref=\"tomb\"\n          class=\"vue-recyclist-item\"\n        >\n          <slot name=\"tombstone\" />\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"!isLoading && noMore\"\n      class=\"vue-recyclist-nomore\"\n    >\n      <slot name=\"nomore\">\n        <div>End of list</div>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport waitForFonts from '@/plugins/waitForFonts'\n\nexport default {\n  name: 'Recyclist',\n  props: {\n    list: {\n      type: Array,\n      required: true\n    },\n    size: {\n      type: Number,\n      default: 20 // The number of items added each time.\n    },\n    offset: {\n      type: Number,\n      default: 200 // The number of pixels of additional length to allow scrolling to.\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    noMore: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      items: [], // Wrapped full list items\n      height: 0, // Full list height\n      start: 0, // Visible items start index\n      containerHeight: 0,\n      tombHeight: 0\n    }\n  },\n  computed: {\n    visibleItems () {\n      return this.items.slice(Math.max(0, this.start - this.size), Math.min(this.items.length, this.start + this.size))\n    },\n    poolItems () {\n      return this.items.filter(d => d.data && d.gotHeight === false)\n    }\n  },\n  watch: {\n    start (newVal, oldVal) {\n      if (newVal === 0 && oldVal > newVal) {\n        this.$emit('loadTop')\n      }\n    },\n    list () {\n      this.loadList()\n    },\n    noMore (newVal) {\n      if (newVal === true) {\n        this.items = this.items.filter(d => d.data)\n        this.updateItemTop()\n      }\n    }\n  },\n  mounted () {\n    this.$el.addEventListener('scroll', this.onScroll, { capture: true, passive: true })\n    this.tombHeight = this.$refs.tomb && this.$refs.tomb.offsetHeight\n    this.containerHeight = this.$el && this.$el.offsetHeight\n    if (this.list.length > 0) {\n      this.loadList()\n      if (this.list.length < this.size) {\n        this.loadMoreItems()\n      }\n    } else {\n      this.loadMoreItems()\n    }\n  },\n  destroyed () {\n    this.$el.removeEventListener('scroll', this.onScroll)\n  },\n  methods: {\n    async reset () {\n      this.items = []\n      this.height = this.start = this.$el.scrollTop = 0\n      await this.$nextTick()\n      this.loadMoreItems()\n    },\n    async loadList () {\n      this.items = this.list.map(this.renderItem)\n\n      await waitForFonts()\n      await this.$nextTick()\n\n      for (let i = 0; i < this.items.length; i++) {\n        this.updateItemHeight(i)\n      }\n\n      this.updateItemTop()\n    },\n    async loadMoreItems () {\n      if (this.noMore) return false\n      const end = this.items.length + this.size\n      for (let i = this.items.length; i < end; i++) {\n        this.setItem(i, null)\n      }\n\n      this.updateItemTop()\n\n      // Load elements\n      this.$emit('load-bottom')\n    },\n    setItem (index, data) {\n      this.$set(this.items, index, this.renderItem(data))\n    },\n    renderItem (data) {\n      return {\n        data,\n        top: 0,\n        height: this.tombHeight,\n        gotHeight: false\n      }\n    },\n    updateItemTop () {\n      // loop all items to update item top and list height\n      this.height = 0\n      for (let i = 0; i < this.items.length; i++) {\n        const pre = this.items[i - 1]\n        this.$set(this.items[i], 'top', pre ? pre.top + pre.height : 0)\n        this.height += this.items[i].height\n      }\n      this.updateIndex()\n    },\n    updateIndex () {\n      // update visible items start index\n      const top = this.$el.scrollTop\n      for (let i = 0; i < this.items.length; i++) {\n        if (this.items[i].top > top) {\n          this.start = Math.max(0, i - 1)\n          break\n        }\n      }\n    },\n    updateItemHeight (index) {\n      // update item height\n      const cur = this.items[index]\n      if (!cur.data) return\n      const [el] = this.$refs[cur.data]\n      if (el) {\n        this.$set(this.items[index], 'height', el.offsetHeight)\n        this.$set(this.items[index], 'gotHeight', el.offsetHeight > 0)\n      }\n    },\n    onScroll () {\n      if (this.$el.scrollTop + this.$el.offsetHeight > this.height - this.offset) {\n        this.loadMoreItems()\n      }\n      this.updateIndex()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n$duration: 500ms;\n.vue-recyclist {\n  overflow-x: hidden;\n  overflow-y: auto;\n  overscroll-behavior-y: contain;\n  contain: strict;\n  -webkit-overflow-scrolling: touch;\n\n  .vue-recyclist-items {\n    position: relative;\n    .vue-recyclist-item {\n      position: absolute;\n      width: 100%;\n    }\n    .vue-recyclist-pool {\n      .vue-recyclist-item {\n        visibility: hidden;\n      }\n    }\n  }\n  .vue-recyclist-nomore {\n    overflow: hidden;\n    margin: 10px auto;\n    height: 20px;\n    text-align: center;\n  }\n  /* width */\n  &::-webkit-scrollbar {\n    width: 0.3em;\n  }\n\n  /* Track */\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  /* Handle */\n  &::-webkit-scrollbar-thumb {\n    background-color: darken($background-color, 5);\n    border-radius: 4px;\n  }\n\n  /* Handle on hover */\n  &::-webkit-scrollbar-thumb:hover {\n    background: darken($background-color, 15);\n  }\n}\n.night-mode {\n  .vue-recyclist {\n    &::-webkit-scrollbar-thumb {\n      background-color: darken($background-color-night, 5);\n    }\n    &::-webkit-scrollbar-thumb:hover {\n      background: darken($background-color-night, 15);\n    }\n    .vue-recyclist-nomore {\n      color: $grey-cold-5;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recyclist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recyclist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recyclist.vue?vue&type=template&id=47f9749e&scoped=true&\"\nimport script from \"./Recyclist.vue?vue&type=script&lang=js&\"\nexport * from \"./Recyclist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recyclist.vue?vue&type=style&index=0&id=47f9749e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47f9749e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"column\">\n    <search-params\n      :column-id=\"columnId\"\n      :column-type=\"columnType\"\n      @reset=\"reset\"\n      @close=\"close\"\n      @move=\"dir => move(dir)\"\n    />\n    <recyclist\n      ref=\"recyclist\"\n      :list=\"documents\"\n      :size=\"10\"\n      :offset=\"200\"\n      :is-loading=\"$wait.is(`column.refreshing.${column.id}`)\"\n      :no-more=\"noMore\"\n      class=\"documents\"\n      @load-top=\"loadAfter\"\n      @load-bottom=\"loadBefore\"\n    >\n      <template v-slot:tombstone>\n        <content-placeholders\n          :animated=\"true\"\n          :rounded=\"true\"\n          :centered=\"false\"\n          class=\"tombstone\"\n        >\n          <content-placeholders-heading :img=\"false\" />\n          <content-placeholders-img />\n          <content-placeholders-text :lines=\"2\" />\n        </content-placeholders>\n      </template>\n      <template v-slot:item=\"{ data }\">\n        <div\n          v-if=\"data.includes('documents-gap')\"\n          class=\"documents-gap\"\n        >\n          <p>\n            {{ $tc('column.documents-gap', parseInt(data.split('|')[2]), { count: parseInt(data.split('|')[2]) }) }}\n            <router-link\n              to=\"/\"\n              @click.native=\"reset\"\n            >\n              {{ $t('column.refresh') }}\n            </router-link>\n          </p>\n        </div>\n        <card\n          v-else\n          :doc-id=\"data\"\n          :index-col=\"columnId\"\n        />\n      </template>\n      <template v-slot:nomore>\n        <span>{{ $t('column.no-result') }}</span>\n      </template>\n    </recyclist>\n  </section>\n</template>\n\n<script>\nimport SearchParams from '@/components/SearchParams'\nimport Recyclist from '@/components/Recyclist'\nimport { ContentPlaceholders, ContentPlaceholdersHeading, ContentPlaceholdersImg, ContentPlaceholdersText } from 'vue-content-placeholders'\nimport Card from '@/components/Card'\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'Column',\n  components: {\n    Card,\n    Recyclist,\n    ContentPlaceholders,\n    ContentPlaceholdersHeading,\n    ContentPlaceholdersImg,\n    ContentPlaceholdersText,\n    SearchParams\n  },\n  props: {\n    columnId: {\n      type: Number,\n      required: true\n    },\n    columnType: {\n      type: String,\n      required: true\n    }\n  },\n  data () {\n    return {\n      noMore: false\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'getColumnByIndex',\n      'getDocumentsIdsByColumnId',\n      'isAuthenticated'\n    ]),\n    column () {\n      return this.getColumnByIndex(this.columnId)\n    },\n    documents () {\n      return this.getDocumentsIdsByColumnId(this.columnId)\n    },\n    params () {\n      return this.column.params\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'resetColumn',\n      'moveColumn',\n      'closeColumn'\n    ]),\n    ...mapActions([\n      'refreshColumn'\n    ]),\n    reset () {\n      this.noMore = false\n      this.resetColumn({ indexCol: this.columnId })\n      this.$refs.recyclist.reset()\n    },\n    async loadBefore () {\n      try {\n        const gotNewDocuments = await this.refreshColumn({ indexCol: this.columnId, mode: 'before' })\n        if (gotNewDocuments === false) {\n          this.noMore = true\n        }\n      } catch (error) {\n        this.$toasted.global.apiError(error)\n      }\n    },\n    loadAfter () {\n      try {\n        return this.refreshColumn({ indexCol: this.columnId, mode: 'after' })\n      } catch (error) {\n        this.$toasted.global.apiError(error)\n      }\n    },\n    move (dir) {\n      this.moveColumn({ indexCol: this.columnId, dir })\n    },\n    close () {\n      this.closeColumn({ indexCol: this.columnId })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n.column {\n  min-width: $column-size;\n  width: $column-size;\n  height: 100%;\n  margin-right: 5px;\n  display: flex;\n  flex-direction: column;\n  scroll-snap-align: start;\n\n  h2.error {\n    text-align: center;\n    padding: 5px;\n  }\n\n  .documents {\n    flex: 1;\n    padding: 4px 12px 12px 12px;\n\n    .tombstone {\n      padding: 12px;\n      user-select: none;\n    }\n\n    .documents-gap {\n      padding: 12px;\n      text-align: center;\n      a, a:visited {\n        color: #aaa;\n      }\n    }\n  }\n}\n\n.night-mode {\n  .documents-gap {\n    color: #eee;\n    a, a:visited {\n      color: #aaa;\n    }\n  }\n}\n\n.curtain-enter {\n  opacity: 0;\n  transform: translateY(-30px);\n}\n.curtain-enter-active {\n  transition: opacity 0.5s, transform 0.5s;\n}\n.curtain-enter-to {\n  opacity: 1;\n  transform: translateY(0px);\n}\n\n@keyframes move {\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/variables.scss\";\n.night-mode {\n  .tombstone {\n    .vue-content-placeholders-heading__title,\n    .vue-content-placeholders-heading__subtitle,\n    .vue-content-placeholders-img,\n    .vue-content-placeholders-text__line {\n      background: $font-color;\n      &:before {\n        background: linear-gradient(to right, transparent 0%, lighten($font-color, 2) 15%, transparent 30%);\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Column.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Column.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Column.vue?vue&type=template&id=2b911d6a&scoped=true&\"\nimport script from \"./Column.vue?vue&type=script&lang=js&\"\nexport * from \"./Column.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Column.vue?vue&type=style&index=0&id=2b911d6a&lang=scss&scoped=true&\"\nimport style1 from \"./Column.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b911d6a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar is-primary is-fixed-top\",attrs:{\"role\":\"navigation\",\"aria-label\":\"main navigation\"}},[_vm._m(0),_c('div',{staticClass:\"navbar-menu\"},[_c('div',{staticClass:\"navbar-end\"},[_c('router-link',{key:\"about\",staticClass:\"navbar-item\",attrs:{\"to\":{ name: 'about' },\"name\":\"about\",\"aria-label\":\"about\"}},[_c('svg',{attrs:{\"id\":\"PICTOGRAMMES\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 300 300\"}},[_c('defs'),_c('title',[_vm._v(\"help-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M150,30.769A119.231,119.231,0,1,0,269.231,150,119.232,119.232,0,0,0,150,30.769Zm0,215.462A96.231,96.231,0,1,1,246.231,150,96.34,96.34,0,0,1,150,246.231Z\"}}),_c('rect',{staticClass:\"cls-1\",attrs:{\"x\":\"138.488\",\"y\":\"192.393\",\"width\":\"23\",\"height\":\"22.992\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M150,76.962c-25.329,0-42.347,15.41-42.347,38.346h23c0-12.684,10.521-15.346,19.347-15.346,9.343,0,19.347,5.9,19.347,14.692,0,10.511-4.035,13.623-11.359,19.275-8.238,6.354-19.519,15.058-19.519,35.3h23c0-8.938,3.532-11.663,10.568-17.091,8.571-6.613,20.31-15.669,20.31-37.485C192.347,93.871,173.35,76.962,150,76.962Z\"}})]),_vm._v(\" \"+_vm._s(_vm.$t('about.name'))+\" \")]),(_vm.isAuthenticated)?_c('a',{staticClass:\"navbar-item\",attrs:{\"aria-label\":\"Log out\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logoutHandler($event)}}},[_c('svg',{attrs:{\"id\":\"Calque_1\",\"data-name\":\"Calque 1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 500 500\"}},[_c('defs'),_c('title',[_vm._v(\"Log-out\")]),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"313.72 345.03 388.74 265.92 167.23 265.92 167.23 233.21 388.5 233.21 313.72 154.82 313.72 108.06 451 249.71 313.72 391.37 313.72 345.03\"}}),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"282.81 450.95 57.24 450.95 57.24 48.48 282.81 48.48 282.81 86.38 95.14 86.38 95.14 413.05 282.81 413.05 282.81 450.95\"}})]),_vm._v(\" \"+_vm._s(_vm.$t('auth.logout'))+\" \")]):_vm._e(),(!_vm.isAuthenticated)?_c('router-link',{key:\"authenticate\",staticClass:\"navbar-item\",attrs:{\"to\":{ name: 'login' },\"name\":\"authenticate\",\"aria-label\":\"Authenticate\"}},[_c('svg',{attrs:{\"id\":\"Calque_1\",\"data-name\":\"Calque 1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 500 500\"}},[_c('defs'),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"180.1 350.04 259.02 266.82 53.37 266.82 53.37 232.4 258.77 232.4 180.1 149.95 180.1 100.75 324.51 249.76 180.1 398.78 180.1 350.04\"}}),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"440.93 451 215.35 451 215.35 413.1 403.03 413.1 403.03 86.43 215.35 86.43 215.35 48.53 440.93 48.53 440.93 451\"}})]),_vm._v(\" \"+_vm._s(_vm.$t('auth.login'))+\" \")]):_vm._e(),_c('div',{staticClass:\"navbar-item has-dropdown is-hoverable\"},[_c('a',{staticClass:\"navbar-link\"},[_vm._v(\" \"+_vm._s(_vm._f(\"capitalize\")(_vm.currentUILanguage))+\" \")]),_c('div',{staticClass:\"navbar-dropdown is-right\"},[_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.changeLanguage('fr')}}},[_vm._v(\" FR \")]),_c('a',{staticClass:\"navbar-item\",on:{\"click\":function($event){return _vm.changeLanguage('en')}}},[_vm._v(\" EN \")])])])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar-brand\"},[_c('a',{staticClass:\"navbar-item\",attrs:{\"href\":\"#\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/afp_logo.png\")}})]),_c('a',{staticClass:\"navbar-burger burger\",attrs:{\"role\":\"button\",\"aria-label\":\"menu\",\"aria-expanded\":\"false\",\"data-target\":\"navbarBasicExample\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}}),_c('span',{attrs:{\"aria-hidden\":\"true\"}}),_c('span',{attrs:{\"aria-hidden\":\"true\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\n    <nav class=\"navbar is-primary is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\n        <div class=\"navbar-brand\">\n            <a class=\"navbar-item\" href=\"#\">\n                <img src=\"@/assets/img/afp_logo.png\">\n            </a>\n\n            <a role=\"button\" class=\"navbar-burger burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarBasicExample\">\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n                <span aria-hidden=\"true\"></span>\n            </a>\n        </div>\n\n        <div class=\"navbar-menu\">\n            <div class=\"navbar-end\">\n                <router-link class=\"navbar-item\" key=\"about\" :to=\"{ name: 'about' }\" name=\"about\" aria-label=\"about\">\n                    <svg id=\"PICTOGRAMMES\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\"><defs></defs><title>help-blue</title><path class=\"cls-1\" d=\"M150,30.769A119.231,119.231,0,1,0,269.231,150,119.232,119.232,0,0,0,150,30.769Zm0,215.462A96.231,96.231,0,1,1,246.231,150,96.34,96.34,0,0,1,150,246.231Z\"/><rect class=\"cls-1\" x=\"138.488\" y=\"192.393\" width=\"23\" height=\"22.992\"/><path class=\"cls-1\" d=\"M150,76.962c-25.329,0-42.347,15.41-42.347,38.346h23c0-12.684,10.521-15.346,19.347-15.346,9.343,0,19.347,5.9,19.347,14.692,0,10.511-4.035,13.623-11.359,19.275-8.238,6.354-19.519,15.058-19.519,35.3h23c0-8.938,3.532-11.663,10.568-17.091,8.571-6.613,20.31-15.669,20.31-37.485C192.347,93.871,173.35,76.962,150,76.962Z\"/></svg>\n                    {{ $t('about.name') }}\n                </router-link>\n\n                <a v-if=\"isAuthenticated\" class=\"navbar-item\"  aria-label=\"Log out\" @click.prevent=\"logoutHandler\">\n                    <svg id=\"Calque_1\" data-name=\"Calque 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><defs></defs><title>Log-out</title><polygon class=\"cls-1\" points=\"313.72 345.03 388.74 265.92 167.23 265.92 167.23 233.21 388.5 233.21 313.72 154.82 313.72 108.06 451 249.71 313.72 391.37 313.72 345.03\"/><polygon class=\"cls-1\" points=\"282.81 450.95 57.24 450.95 57.24 48.48 282.81 48.48 282.81 86.38 95.14 86.38 95.14 413.05 282.81 413.05 282.81 450.95\"/></svg>\n                    {{ $t('auth.logout') }}\n                </a>\n                \n                <router-link v-if=\"!isAuthenticated\" key=\"authenticate\" :to=\"{ name: 'login' }\" name=\"authenticate\" aria-label=\"Authenticate\" class=\"navbar-item\" >\n                    <svg id=\"Calque_1\" data-name=\"Calque 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><defs></defs><polygon class=\"cls-1\" points=\"180.1 350.04 259.02 266.82 53.37 266.82 53.37 232.4 258.77 232.4 180.1 149.95 180.1 100.75 324.51 249.76 180.1 398.78 180.1 350.04\"/><polygon class=\"cls-1\" points=\"440.93 451 215.35 451 215.35 413.1 403.03 413.1 403.03 86.43 215.35 86.43 215.35 48.53 440.93 48.53 440.93 451\"/></svg>\n                    {{ $t('auth.login') }}\n                </router-link>\n\n                <div class=\"navbar-item has-dropdown is-hoverable\">\n                    <a class=\"navbar-link\">\n                    {{currentUILanguage | capitalize}}\n                    </a>\n\n                    <div class=\"navbar-dropdown is-right\">\n                        <a @click=\"changeLanguage('fr')\" class=\"navbar-item\">\n                            FR\n                        </a>\n                        <a @click=\"changeLanguage('en')\" class=\"navbar-item\">\n                            EN\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </nav>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n    name: 'Navbar',\n    methods: {\n        ...mapActions([\n        'changeLocale', 'logout'\n        ]),\n        changeLanguage (newLanguage) {\n            this.changeLocale(newLanguage)\n        },\n        logoutHandler () {\n            this.$toasted.show(this.$t('auth.not-authenticated.toast').toString(), {\n                position: 'bottom-center',\n                duration: 1500,\n                type: 'info'\n            })\n            this.logout()\n        }\n    },\n    computed: {\n        currentUILanguage () {\n            return this.$store.state.locale\n        },\n        ...mapGetters([\n        'isAuthenticated'\n        ])\n    },\n    filters: {\n        capitalize (value) {\n            if (!value) return ''\n            value = value.toString()\n            return value.toUpperCase()\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n    .navbar{\n        .navbar-brand{\n            .navbar-item{\n                img{\n                    max-height: none;\n                    width: 115px;\n                }\n                &:hover{\n                    background: $primary-hovered;\n                }\n            }\n        }\n\n        .navbar-end{\n            background: $dark;\n            .navbar-item{\n                text-transform: uppercase;    \n                padding: 0.5rem 1.75rem;\n\n                svg{\n                    fill: $light;\n                    height: 24px;\n                    margin-right: 5px;\n                }\n\n                &:hover{\n                    background-color: $dark-hovered !important;\n                }\n\n                &.is-hoverable{\n                    &:hover{\n                        .navbar-link{\n                            background: $dark-hovered !important;\n                        }\n                    }\n\n                    &::after{\n                        content: '';\n                        position: absolute;\n                        width: 1px;\n                        height: 50%;\n                        background: $white;\n                        top: 50%;\n                        left: 0;\n                        transform: translateY(-50%);\n                    }\n                }\n\n                .navbar-dropdown{\n                    background: $dark-hovered;\n                    border: $dark-hovered;\n                    a{\n                        color: white;\n\n                        &:hover{\n                            background: $dark !important;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=cfe50ac0&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=cfe50ac0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cfe50ac0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shortcuts\"},[_c('div',{staticClass:\"shortcuts-start\"},[_c('p',[_vm._v(\"Changer la langue de tous les contenus :\")]),_c('select',{on:{\"change\":function($event){return _vm.changeAllContentLanguage($event)}}},[_c('option',{attrs:{\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"Choix de la langue\")]),_vm._l((_vm.languages),function(ref){\nvar label = ref.label;\nvar value = ref.value;\nvar disabled = ref.disabled;\nreturn _c('option',{key:value.join('|'),attrs:{\"disabled\":disabled},domProps:{\"value\":value}},[_vm._v(\" \"+_vm._s(label)+\" \")])})],2)]),_c('div',{staticClass:\"shortcuts-end\"},[_c('a',{staticClass:\"reset\",on:{\"click\":function($event){return _vm.resetAllColumns()}}},[_vm._v(\"Rinitialiser tous les contenus\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"shortcuts\">\n        <div class=\"shortcuts-start\">\n            <p>Changer la langue de tous les contenus :</p>\n            <select @change=\"changeAllContentLanguage($event)\">\n                <option disabled selected>Choix de la langue</option>\n                \n                <option\n                v-for=\"{ label, value, disabled } in languages\"\n                :key=\"value.join('|')\"\n                :value=\"value\"\n                :disabled=\"disabled\"\n                >\n                {{ label }}\n                </option>\n            </select>\n        </div>\n        <div class=\"shortcuts-end\">\n            <a class=\"reset\" @click=\"resetAllColumns()\">Rinitialiser tous les contenus</a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport config from '@/config/topics'\nimport { v4 as uuidv4 } from 'uuid'\nimport afpNews from '@/plugins/api'\n\nexport default {\n    name: 'Shortcuts',\n    computed: {\n        languages () {\n        return [\n            {\n            label: this.$t('languages.en'),\n            value: ['en'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.fr'),\n            value: ['fr'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.de'),\n            value: ['de'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.es'),\n            value: ['es'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.pt'),\n            value: ['pt'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.ar'),\n            value: ['ar'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.zh-tw'),\n            value: ['zh-tw'],\n            disabled: false\n            },\n            {\n            label: this.$t('languages.zh-cn'),\n            value: ['zh-cn'],\n            disabled: false\n            }\n        ]\n        }\n    },\n    methods: {\n        ...mapMutations([\n        'resetAllColumns',\n        'addColumn'\n        ]),\n        changeAllContentLanguage (e) {\n            this.resetAllColumns()\n            const lang = e.target.value\n            const topics = config[lang]\n\n            for (const topic of topics) {\n                const column = {id: uuidv4(), params: Object.assign({}, afpNews.defaultSearchParams, { products: ['multimedia'], topics: topic.value, langs: [lang], size: 10, sources: ['afp', 'AFPTV', 'AFP Vidographie', 'AFP Videographics', 'AFP Vidographic', 'AFPTV / AFP Videografik'] }), documentsIds: [] }\n                this.addColumn(column)\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"@/assets/scss/variables.scss\";\n    .shortcuts{\n        position: fixed;\n        width: 100%;\n        display: flex;\n        align-items: stretch;\n        flex-grow: 1;\n        flex-shrink: 0;\n        top: 7rem;\n        padding: 0 2.5rem;\n        .shortcuts-start{\n            justify-content: flex-start;\n            display: flex;\n\n            select{\n                background: transparent;\n                border: none;\n                color: $primary;\n                outline: none;\n                margin-left: 10px;\n            }\n        }\n        .shortcuts-end{\n            margin-left: auto;\n            justify-content: flex-end;\n            display: flex;\n\n            .reset{\n                color: $dark;\n                text-decoration: underline;\n\n                &:hover{\n                    text-decoration: none;\n                }\n            }\n            \n            @media screen and (max-width: 800px) {\n                display: none !important;\n            }\n        }\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shortcuts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shortcuts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shortcuts.vue?vue&type=template&id=4067b2bd&scoped=true&\"\nimport script from \"./Shortcuts.vue?vue&type=script&lang=js&\"\nexport * from \"./Shortcuts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shortcuts.vue?vue&type=style&index=0&id=4067b2bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4067b2bd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.close),expression:\"close\"}],staticClass:\"addColumn\"},[_c('div',{staticClass:\"dropdown\",attrs:{\"id\":\"addColumn\"},on:{\"click\":_vm.triggerDropdown}},[_c('div',{staticClass:\"dropdown-trigger\"},[_c('button',{staticClass:\"button\",attrs:{\"aria-haspopup\":\"true\",\"aria-controls\":\"dropdown-menu2\"}},[_c('span',{staticClass:\"icon\"},[_c('svg',{attrs:{\"id\":\"PICTOGRAMMES\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"plus-blue\")]),_c('polygon',{staticClass:\"cls-1\",attrs:{\"points\":\"138.5 246.16 161.5 246.16 161.5 161.5 246.159 161.5 246.159 138.5 161.5 138.5 161.5 53.84 138.5 53.84 138.5 138.5 53.841 138.5 53.841 161.5 138.5 161.5 138.5 246.16\"}})])]),_c('span',[_vm._v(\"Ajouter une colonne\")])])]),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"id\":\"dropdown-menu2\",\"role\":\"menu\"}},[_c('div',{staticClass:\"dropdown-content\"},[_c('a',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.search('search')}}},[_c('p',[_c('svg',{attrs:{\"id\":\"PICTOGRAMMES\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 300 300\"}},[_c('title',[_vm._v(\"search-blue\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z\"}})]),_vm._v(\" Rechercher \")]),_c('p',[_vm._v(\"Raliser une recherche sur le catalogue de lAFP\")])]),_c('hr',{staticClass:\"dropdown-divider\"}),_c('a',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.search('topic')}}},[_c('p',[_c('svg',{attrs:{\"id\":\"Calque_1\",\"data-name\":\"Calque 1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 500 500\"}},[_c('title',[_vm._v(\"rubrique\")]),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"}}),_c('path',{staticClass:\"cls-1\",attrs:{\"d\":\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"}})]),_vm._v(\" Choisir une rubrique \")]),_c('p',[_vm._v(\"Choisir une rubrique parmi la liste propose\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"addColumn\"  v-on-clickaway=\"close\">\n    <div id=\"addColumn\" class=\"dropdown\" @click=\"triggerDropdown\">\n      <div class=\"dropdown-trigger\">\n        <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu2\">\n          <span class=\"icon\">\n            <svg id=\"PICTOGRAMMES\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\"><title>plus-blue</title><polygon class=\"cls-1\" points=\"138.5 246.16 161.5 246.16 161.5 161.5 246.159 161.5 246.159 138.5 161.5 138.5 161.5 53.84 138.5 53.84 138.5 138.5 53.841 138.5 53.841 161.5 138.5 161.5 138.5 246.16\"/></svg>\n          </span>\n          <span>Ajouter une colonne</span>\n        </button>\n      </div>\n      <div class=\"dropdown-menu\" id=\"dropdown-menu2\" role=\"menu\">\n        <div class=\"dropdown-content\">\n          <a class=\"dropdown-item\" @click=\"search('search')\">\n            <p>\n              <svg id=\"PICTOGRAMMES\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\"><title>search-blue</title><path class=\"cls-1\" d=\"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z\"/></svg>\n              Rechercher\n            </p>\n            <p>Raliser une recherche sur le catalogue de lAFP</p>\n          </a>\n          <hr class=\"dropdown-divider\">\n          <a class=\"dropdown-item\" @click=\"search('topic')\">\n            <p>\n              <svg id=\"Calque_1\" data-name=\"Calque 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><title>rubrique</title><path class=\"cls-1\" d=\"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z\"/><path class=\"cls-1\" d=\"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z\"/><path class=\"cls-1\" d=\"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z\"/></svg>\n              Choisir une rubrique\n            </p>\n            <p>Choisir une rubrique parmi la liste propose</p>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport { directive as onClickaway } from 'vue-clickaway'\n\nexport default {\n  name: 'AddColumn',\n  directives: {\n    onClickaway\n  },\n  methods: {\n    ...mapMutations([\n      'addColumn'\n    ]),\n\n    search (type) {\n      if (this.$route.name !== 'deck') this.$router.push({ name: 'deck' })\n      const column = {type}\n      this.addColumn(column)\n    },\n    triggerDropdown (e) {\n      const dropdown = e.target.closest('.dropdown')\n\n      dropdown.classList.toggle('is-active')\n    },\n    close () {\n      const dropdown = document.getElementById('addColumn')\n      dropdown.classList.remove('is-active')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import \"@/assets/scss/colors.scss\";\n  @import \"@/assets/scss/variables.scss\";\n  .addColumn{\n    .dropdown{\n      &.is-active{\n        .button{\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: 0;\n        }\n      }\n      .dropdown-trigger{\n        .button{\n          background: #F5F6F6;\n          width: 280px;\n          height: 49px;\n          justify-content: left;\n          outline: none;\n          &:focus{\n            border-color: transparent;\n          }\n          &:focus:not(:active){\n            box-shadow: none;\n          }\n        }\n      }\n      .icon{\n        svg{\n          height: 15px;\n        }\n      }\n    }\n    .dropdown-menu{\n      padding-top: 0px;\n      .dropdown-content{\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n      }\n      hr{\n        width: 50%;\n        transform: translateX(50%);\n      }\n      .dropdown-item{\n        max-width: 280px;\n        p{\n          font-size: 12px;\n        }\n        p:first-child{\n          font-size: 18px;\n          svg{\n            height: 15px;\n          }\n        }\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddColumn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddColumn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddColumn.vue?vue&type=template&id=0ce0c902&\"\nimport script from \"./AddColumn.vue?vue&type=script&lang=js&\"\nexport * from \"./AddColumn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddColumn.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition-group',{attrs:{\"id\":\"sidebar\",\"name\":\"appear\",\"tag\":\"nav\",\"appear\":\"\"}},[_c('button',{key:\"new-column\",staticClass:\"btn btn-circle btn-icon\",attrs:{\"name\":\"new-column\",\"aria-label\":\"Add new column\"},on:{\"click\":_vm.search}},[_c('i',{staticClass:\"UI-icon UI-plus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition-group\n    id=\"sidebar\"\n    name=\"appear\"\n    tag=\"nav\"\n    appear\n  >\n    <button\n      key=\"new-column\"\n      name=\"new-column\"\n      aria-label=\"Add new column\"\n      class=\"btn btn-circle btn-icon\"\n      @click=\"search\"\n    >\n      <i class=\"UI-icon UI-plus\" />\n    </button>\n  </transition-group>\n</template>\n\n<script>\nimport { mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'SideBar',\n  methods: {\n    ...mapMutations([\n      'addColumn'\n    ]),\n    search () {\n      if (this.$route.name !== 'deck') {\n        this.$router.push({ name: 'deck' })\n      }\n      this.addColumn()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/variables.scss\";\n\n#sidebar {\n  display: flex;\n  flex-direction: column-reverse;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 29px;\n  right: 24px;\n\n  button {\n    margin: 4px;\n    i.UI-icon.UI-plus {\n      top: -3px;\n    }\n    i.UI-icon {\n      left: 1px;\n    }\n    &[name=\"new-column\"] {\n      display: none;\n      @include breakpoint(mobile) {\n        display: block;\n      }\n    }\n  }\n}\n\n.appear-enter, .appear-leave-to {\n  opacity: 0;\n  transform: scale(0);\n}\n.appear-enter-active, .appear-leave-active {\n  transition: transform 0.2s;\n}\n.appear-enter-to, .appear-leave {\n  opacity: 1;\n  transform: scale(1);\n}\n\n@media print {\n  #sidebar {\n    display: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideBar.vue?vue&type=template&id=a70769d0&scoped=true&\"\nimport script from \"./SideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./SideBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideBar.vue?vue&type=style&index=0&id=a70769d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a70769d0\",\n  null\n  \n)\n\nexport default component.exports","import { mapActions } from 'vuex'\n\nexport default {\n  name: 'AutoRefreshVisibility',\n  mounted () {\n    this.visibilityChanged()\n    document.addEventListener('visibilitychange', this.visibilityChanged, false)\n  },\n  beforeDestroy () {\n    document.removeEventListener('visibilitychange', this.visibilityChanged, false)\n  },\n  methods: {\n    ...mapActions([\n      'refreshAllColumns'\n    ]),\n    visibilityChanged () {\n      if (document.hidden === true) return\n      this.$root.$now = new Date()\n      if (navigator.onLine === false) return\n      this.refreshAllColumns()\n    }\n  }\n}\n","export default {\n  name: 'AutoRefreshTimer',\n  data () {\n    return {\n      autoRefreshTimer: null,\n      autoRefreshDelay: 10000\n    }\n  },\n  mounted () {\n    this.startAutoRefresh()\n  },\n  beforeDestroy () {\n    this.stopAutoRefresh()\n  },\n  methods: {\n    startAutoRefresh () {\n      this.autoRefreshTimer = window.setInterval(async () => {\n        if (document.hidden === true) return\n        this.$root.$now = new Date()\n        if (navigator.onLine === false) return\n        await this.refreshAllColumns()\n      }, this.autoRefreshDelay)\n    },\n    stopAutoRefresh () {\n      if (this.autoRefreshTimer) clearInterval(this.autoRefreshTimer)\n    }\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Column from '@/components/Column.vue'\nimport Navbar from '@/components/Navbar.vue'\nimport Shortcuts from '@/components/Shortcuts.vue'\nimport AddColumn from '@/components/AddColumn.vue'\nimport SideBar from '@/components/SideBar.vue'\nimport autoRefreshVisibility from '@/mixins/autoRefreshVisibility'\nimport autoRefreshTimer from '@/mixins/autoRefreshTimer'\nimport { mapState, mapActions, mapGetters } from 'vuex'\nimport Hotjar from 'vue-hotjar'\n\nVue.use (Hotjar, {\n  id: '2108306'\n})\n\nexport default Vue.extend({\n  name: 'Deck',\n  metaInfo: {\n    titleTemplate: titleChunk => titleChunk ? `${titleChunk} | AFP Deck` : 'AFP Deck'\n  },\n  components: {\n    Column,\n    AddColumn,\n    SideBar,\n    Navbar,\n    Shortcuts\n  },\n  mixins: [\n    autoRefreshVisibility,\n    autoRefreshTimer\n  ],\n  computed: {\n    ...mapState([\n      'authType',\n      'columns'\n    ]),\n    ...mapGetters([\n    'isAuthenticated'\n    ])\n  },\n  watch: {\n    authType (newVal, oldVal) {\n      if (newVal !== 'credentials' && oldVal === 'credentials') {\n        this.$router.push({\n          name: 'login',\n          query: {\n            redirect: this.$route.path\n          }\n        })\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deck.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deck.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Deck.vue?vue&type=template&id=53e7c40c&scoped=true&\"\nimport script from \"./Deck.vue?vue&type=script&lang=ts&\"\nexport * from \"./Deck.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Deck.vue?vue&type=style&index=0&id=53e7c40c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53e7c40c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'\nimport Deck from '@/views/Deck.vue'\nimport { Route, RouteConfig } from 'vue-router/types/index'\n\nVue.use(VueRouter)\n\nfunction wrapDoubleQuotes (str: string): string {\n  if (str.includes(' ')) {\n    return `\"${str}\"`\n  }\n  return str\n}\n\nconst routes: RouteConfig[] = [\n  {\n    name: 'login',\n    path: '/',\n    component: () => import(/* webpackChunkName: \"login\" */ /* webpackPrefetch: true */ '@/views/Login.vue'),\n    meta: {\n      analytics: {\n        pageviewTemplate (route: Route) {\n          return {\n            title: 'AFP Deck - Login',\n            page: route.path,\n            location: window.location.href,\n            dimension2: navigator.onLine.toString(),\n            dimension3: store.getters.isAuthenticated.toString()\n          }\n        }\n      }\n    }\n  },\n  {\n    name: 'deck',\n    path: 'deck',\n    component: Deck,\n    meta: {\n      analytics: {\n        pageviewTemplate (route: Route) {\n          return {\n            title: 'AFP Deck',\n            page: route.path,\n            location: window.location.href,\n            dimension2: navigator.onLine.toString(),\n            dimension3: store.getters.isAuthenticated.toString()\n          }\n        }\n      }\n    },\n    children: [\n      {\n        path: 'doc',\n        redirect: '/'\n      },\n      {\n        name: 'document',\n        path: 'doc/:docId',\n        component: () =>\n          import(/* webpackChunkName: \"viewer\" */ /* webpackPrefetch: true */ '@/views/Viewer/index.vue'),\n        props: true,\n        meta: {\n          analytics: {\n            pageviewTemplate (route: Route) {\n              const doc = store.getters.getDocumentById(route.params.docId)\n              if (!doc) return\n              return {\n                title: doc.headline,\n                page: route.path,\n                location: window.location.href,\n                dimension1: doc.product,\n                dimension2: navigator.onLine.toString(),\n                dimension3: store.getters.isAuthenticated.toString()\n              }\n            }\n          }\n        }\n      },\n      {\n        name: 'slug',\n        path: 'slug/:slugs',\n        beforeEnter: (to, _, next) => {\n          store.commit('addColumn', {\n            params: {\n              query: to.params.slugs.split(',').map(d => `slug:${wrapDoubleQuotes(d)}`).join(' AND ')\n            }\n          })\n          next({ name: 'deck' })\n        }\n      },\n      {\n        name: 'place',\n        path: 'place/:country/:city?',\n        beforeEnter: (to, _, next) => {\n          store.commit('addColumn', {\n            params: {\n              query: to.params.city ? `country:${wrapDoubleQuotes(to.params.country)} AND city:${wrapDoubleQuotes(to.params.city)}` : `country:${wrapDoubleQuotes(to.params.country)}`\n            }\n          })\n          next({ name: 'deck' })\n        }\n      },\n      {\n        name: 'genre',\n        path: 'genre/:genre',\n        beforeEnter: (to, _, next) => {\n          store.commit('addColumn', {\n            params: {\n              query: `genre:${wrapDoubleQuotes(to.params.genre)}`\n            }\n          })\n          next({ name: 'deck' })\n        }\n      },\n      {\n        name: 'event',\n        path: 'event/:event',\n        beforeEnter: (to, _, next) => {\n          store.commit('addColumn', {\n            params: {\n              query: `event:\"afpevent:${to.params.event}\"`\n            }\n          })\n          next({ name: 'deck' })\n        }\n      },\n      {\n        name: 'creator',\n        path: 'creator/:creator',\n        beforeEnter: (to, _, next) => {\n          store.commit('addColumn', {\n            params: {\n              query: `creator:${wrapDoubleQuotes(to.params.creator)}`\n            }\n          })\n          next({ name: 'deck' })\n        }\n      },\n      {\n        name: 'about',\n        path: 'about',\n        component: () => import(/* webpackChunkName: \"about\" */ /* webpackPrefetch: true */ '@/views/About.vue'),\n        meta: {\n          analytics: {\n            pageviewTemplate (route: Route) {\n              return {\n                title: 'AFP Deck - About',\n                page: route.path,\n                location: window.location.href,\n                dimension2: navigator.onLine.toString(),\n                dimension3: store.getters.isAuthenticated.toString()\n              }\n            }\n          }\n        }\n      }\n    ]\n  }\n]\n\nexport default new VueRouter({\n  routes\n})\n","import Vue, { PluginFunction } from 'vue'\nimport VueAnalytics from 'vue-analytics'\nimport router from '@/router'\n\ndeclare module 'vue-analytics' {\n  class VueAnalytics {\n    public install: PluginFunction<never>\n  }\n}\n\nVue.use(VueAnalytics, {\n  id: 'UA-127064867-1',\n  disabled: true,\n  router,\n  autoTracking: {\n    pageviewOnLoad: true,\n    exception: true\n  },\n  debug: {\n    enabled: process.env.NODE_ENV === 'development',\n    sendHitTask: process.env.NODE_ENV === 'production'\n  },\n  anonymizeIp: true,\n  forceSSL: true\n})\n","import Vue from 'vue'\nimport { VueHammer } from 'vue2-hammer'\nimport Hammer from 'hammerjs'\n\ndelete Hammer.defaults.cssProps.userSelect // allow user to select text on desktop\nHammer.defaults.touchAction = 'pan-y'\n\nVue.use(VueHammer)\n","import VueWait from 'vue-wait'\nimport Vue from 'vue'\n\ndeclare module 'vue/types/options' {\n  interface ComponentOptions<V extends Vue> {\n    wait?: VueWait\n  }\n}\n\nVue.use(VueWait)\n\nexport default new VueWait({\n  useVuex: true\n})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\nimport { event } from 'vue-analytics'\nimport store from '@/store'\nimport Vue from 'vue'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}sw.min.js`, {\n    ready () {\n      console.log('Service worker is active.')\n    },\n    registered (registration) {\n      console.log('Service worker has been registered.')\n    },\n    cached (registration) {\n      console.log('version has been cached for offline use.')\n    },\n    updatefound (registration) {\n      console.log('New version is downloading.')\n    },\n    updated (registration) {\n      console.log('New version is available; Ask for refresh.')\n      Vue.toasted.show('New version available !', {\n        action: [\n          {\n            text: 'Update',\n            onClick: () => {\n              registration.waiting.postMessage({ command: 'skipWaiting' })\n            }\n          }\n        ],\n        position: 'bottom-right'\n      })\n    },\n    offline () {\n      Vue.toasted.show('No internet connection found. App is running in offline mode.', {\n        position: 'bottom-center',\n        duration: 1500\n      })\n    },\n    error (error) {\n      Vue.toasted.global.error(error)\n    }\n  })\n}\n\nif ('serviceWorker' in navigator) {\n  // reload once when the new Service Worker starts activating\n  let refreshing\n  navigator.serviceWorker.addEventListener('controllerchange',\n    async () => {\n      if (refreshing) return\n      store.commit('clearDocuments')\n      event('service-worker', 'controllerchange')\n      window.location.reload()\n      refreshing = true\n    }\n  )\n}\n\nfunction getServiceWorkerSupport () {\n  if ('serviceWorker' in navigator) {\n    return navigator.serviceWorker.controller ? 'controlled' : 'supported'\n  } else {\n    return 'unsupported'\n  }\n}\n\nevent('service-worker', 'support', getServiceWorkerSupport())\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'night-mode': !_vm.useLightTheme\n  },attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState, mapMutations } from 'vuex'\n\nconst connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection\n\nexport default {\n  name: 'CheckConnection',\n  computed: {\n    ...mapState([\n      'isOnline'\n    ])\n  },\n  watch: {\n    isOnline (newVal, oldVal) {\n      if (newVal === false) {\n        this.$toasted.clear()\n        this.$toasted.show(this.$t('connectivity.messageOff'), {\n          duration: null,\n          type: 'info',\n          position: 'bottom-center'\n        })\n      } else if (oldVal === false) {\n        this.$toasted.clear()\n        this.$toasted.show(this.$t('connectivity.messageOn'), {\n          duration: 2000,\n          type: 'info',\n          position: 'bottom-center'\n        })\n      }\n    }\n  },\n  mounted () {\n    if (!connection) return false\n    this.checkConnection()\n    connection.addEventListener('change', this.checkConnection)\n  },\n  methods: {\n    ...mapMutations([\n      'setConnectivityStatus'\n    ]),\n    checkConnection () {\n      const isOnline = navigator.onLine === true\n      this.setConnectivityStatus(isOnline)\n    }\n  }\n}\n","import daynight from 'daynight/dist/index.es'\n\nexport default {\n  name: 'NightMode',\n  data () {\n    return {\n      useLightTheme: true\n    }\n  },\n  mounted () {\n    this.checkDayNight()\n    document.addEventListener('visibilitychange', this.checkDayNight, false)\n  },\n  beforeDestroy () {\n    document.removeEventListener('visibilitychange', this.checkDayNight, false)\n  },\n  methods: {\n    checkDayNight () {\n      try {\n        const result = daynight()\n        if (result.error) {\n          throw new Error(result.error)\n        }\n        this.useLightTheme = result.light\n      } catch (err) {\n        console.error(err)\n        const hours = new Date().getHours()\n        this.useLightTheme = hours > 6 && hours < 20\n      }\n    }\n  }\n}\n","<template>\n  <div\n    id=\"app\"\n    :class=\"{\n      'night-mode': !useLightTheme\n    }\"\n  >\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport CheckConnection from '@/mixins/checkConnection'\nimport NightMode from '@/mixins/nightMode'\n\nexport default {\n  name: 'App',\n  mixins: [\n    CheckConnection,\n    NightMode\n  ]\n}\n</script>\n\n<style lang=\"scss\" src=\"@/assets/scss/main.scss\"></style>\n\n<style lang=\"scss\" scoped>\n  @import \"@/assets/scss/variables.scss\";\n  #app {\n    height: 100%;\n    overflow: hidden;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7e3b9ef6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"@/assets/scss/main.scss?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=7e3b9ef6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e3b9ef6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport 'pwacompat'\nimport '@/plugins/meta'\nimport '@/plugins/toasted'\nimport '@/plugins/analytics'\nimport router from '@/router'\nimport store, { initStore } from '@/store'\nimport i18n from '@/plugins/i18n'\nimport '@/plugins/touchGestures'\nimport '@/plugins/installApp'\nimport '@/plugins/dayjs'\nimport wait from '@/plugins/wait'\nimport '@/registerServiceWorker'\nimport App from '@/views/index.vue'\n\nVue.config.productionTip = false\n\nVue.config.errorHandler = (err: Error) => {\n  Vue.toasted.global.error(err)\n}\n\nVue.config.warnHandler = (message: string) => {\n  Vue.toasted.global.warn(message)\n}\n\nrouter.beforeEach(async (to, _, next) => {\n  if (to.name === 'document') {\n    if (!store.getters.getDocumentById(to.params.docId)) {\n      try {\n        await store.dispatch('getDocument', to.params.docId)\n      } catch (error) {\n        if (store.state.authType !== 'credentials') {\n          return next({ name: 'login', query: { redirect: `doc/${to.params.docId}` } })\n        }\n        return next({ name: 'deck' })\n      }\n    }\n  }\n  next()\n})\n\nstore.dispatch('changeLocale', i18n.locale)\n\nfunction init () {\n  new Vue({\n    router,\n    store,\n    i18n,\n    wait,\n    render: h => h(App)\n  }).$mount('#app')\n\n  if (router.currentRoute.name === 'deck' && !store.getters.isAuthenticated) {\n    router.replace({\n      name: 'login'\n    })\n  }\n\n  if (store.getters.isAuthenticated) {\n    Vue.$ga.enable()\n  }\n}\n\ninitStore().then(init)\n","var map = {\n\t\"./en\": \"edd4\",\n\t\"./en.json\": \"edd4\",\n\t\"./fr\": \"f693\",\n\t\"./fr.json\": \"f693\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"fca5\";","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport { Locale } from '@/types'\n\nVue.use(VueI18n)\n\nconst locales = ['en', 'fr']\nconst fallbackLocale = locales[0]\n\nconst messages = {\n  [fallbackLocale]: require(`@/locales/${fallbackLocale}`)\n}\n\nconst defaultDateTimeFormats = {\n  [fallbackLocale]: messages[fallbackLocale].dateTimeFormats\n}\n\nfunction getNavigatorLanguage () {\n  const language = navigator.language && navigator.language.substring(0, 2)\n  if (language && locales.includes(language)) {\n    return language\n  }\n  return false\n}\n\nconst i18n = new VueI18n({\n  locale: getNavigatorLanguage() || fallbackLocale,\n  fallbackLocale,\n  messages,\n  dateTimeFormats: defaultDateTimeFormats\n})\n\nfunction setI18nLanguage (lang: Locale): Locale {\n  i18n.locale = lang\n  const htmlDocument = document.querySelector('html')\n  if (htmlDocument) {\n    htmlDocument.setAttribute('lang', lang)\n  }\n  return lang\n}\n\nexport async function loadLanguageAsync (lang: Locale): Promise<Locale> {\n  if (i18n.locale !== lang || !i18n.messages[lang]) {\n    const importedMessages = await import(/* webpackChunkName: \"lang-[request]\" */ `@/locales/${lang}.json`)\n    const { dateTimeFormats, ...rest } = importedMessages.default\n    i18n.setLocaleMessage(lang, rest)\n    i18n.setDateTimeFormat(lang, dateTimeFormats)\n    return setI18nLanguage(lang)\n  }\n  return setI18nLanguage(lang)\n}\n\nexport default i18n\n"],"sourceRoot":""}