(function(e){function t(t){for(var r,o,u=t[0],l=t[1],d=t[2],p=t[3]||[],m=0,h=[];m<u.length;m++)o=u[m],i[o]&&h.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);f&&f(t);var v=document.getElementsByTagName("head")[0];p.forEach(function(e){if(void 0===i[e]){i[e]=null;var t=document.createElement("link");c.nc&&t.setAttribute("nonce",c.nc),t.rel="prefetch",t.as="script",t.href=s(e),v.appendChild(t)}});while(h.length)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i={app:0},a=[];function s(e){return c.p+"js/"+({about:"about","browser-warning":"browser-warning",login:"login",tour:"tour",viewer:"viewer"}[e]||e)+"-legacy."+{about:"1eef1be2","browser-warning":"5c762fbd",login:"28a42f2a",tour:"54158436",viewer:"b922545a"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,"browser-warning":1,login:1,tour:1,viewer:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({about:"about","browser-warning":"browser-warning",login:"login",tour:"tour",viewer:"viewer"}[e]||e)+"."+{about:"74a677bd","browser-warning":"715da67d",login:"893941da",tour:"30e31a74",viewer:"5e541569"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var s=i[a],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===r||u===o))return t()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){s=l[a],u=s.getAttribute("data-href");if(u===r||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,n(i)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[e]=0}));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,n){r=i[e]=[t,n]});t.push(r[2]=a);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e),u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}i[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;t([[],{},0,["viewer","about","login"]]),a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3995:function(e,t,n){"use strict";var r=n("eacc"),o=n.n(r);o.a},"39c3":function(e,t,n){var r={"./en.json":["edd4"],"./fr.json":["f693"]};function o(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){var e=t[0];return n.t(e,3)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}o.keys=function(){return Object.keys(r)},o.id="39c3",e.exports=o},4415:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("6762"),n("2fdb"),n("7f7f"),n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=n("2f62"),i=function(){return{columns:[],credentials:{client:null,clientId:null,clientSecret:null},clients:[],documents:{},authType:"unknown",connectivity:{isConnected:!0},wantTour:!0,autoRefresh:!1,locale:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_LOCALE||"en"}},a=(n("20d6"),{getDocumentById:function(e){return function(t){return e.documents[t]}},getColumnByIndex:function(e){return function(t){return e.columns[t]}},getDocumentsByColumnId:function(e,t){return function(e){return t.getColumnByIndex(e).documentsIds.map(function(e){return t.getDocumentById(e)})}},isAnonymous:function(e){return"anonymous"===e.authType},isAuthenticated:function(e){return"credentials"===e.authType},getPreviousDocumentIdInColById:function(e,t){return function(e,n){if(null===e||void 0===n)return!1;var r=t.getDocumentsByColumnId(e),o=r.findIndex(function(e){return e.uno===n}),i=r[o+1];return i&&i.uno||!1}},getNextDocumentIdInColById:function(e,t){return function(e,n){if(null===e||void 0===n)return!1;var r=t.getDocumentsByColumnId(e),o=r.findIndex(function(e){return e.uno===n}),i=r[o-1];return i&&i.uno||!1}}}),s=(n("ac6a"),n("4f7f"),n("f210")),c=(n("7514"),n("f751"),n("cdba")),u=n("b9a2"),l=n("104e"),d=n("2a04"),f=n("2a30"),p=n("2691"),m=n("e134"),h=n("f426"),v=function(e){function t(){var e,n;Object(c["a"])(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=Object(d["a"])(this,(e=Object(p["a"])(t)).call.apply(e,[this].concat(o))),n.clients=["afpdeck","other"],n}return Object(l["a"])(t,[{key:"client",get:function(){return this._client},set:function(e){this._client=e}},{key:"authUrl",get:function(){return this.client?"https://3o3qoiah2e.execute-api.eu-central-1.amazonaws.com/".concat(this.client):Object(m["a"])(Object(p["a"])(t.prototype),"authUrl",this)}},{key:"apiKey",get:function(){return this._apiKey},set:function(e){var n=e.client,r=e.clientId,o=e.clientSecret;n&&"other"!==n?(this._apiKey="unset",this.client=n):r&&o?(Object(f["a"])(Object(p["a"])(t.prototype),"apiKey",{clientId:r,clientSecret:o},this,!0),delete this._client):(delete this._client,delete this._apiKey)}},{key:"authorizationBasicHeaders",get:function(){return this.client?{}:Object(m["a"])(Object(p["a"])(t.prototype),"authorizationBasicHeaders",this)}}]),Object(u["a"])(t,e),t}(h["a"]),g=new v,b=n("c64e"),y=n.n(b),w={addColumn:function(e,t){var n={id:y()(),params:Object.assign({},g.defaultSearchParams,{size:20}),documentsIds:[],processing:!1,error:!1,lastTimeLoading:0},r=Object.assign({},n,t);e.columns.find(function(e){return e.id===r.id})||e.columns.push(r)},moveColumn:function(e,t){var n=t.indexCol,r=t.dir,o="left"===r?n-1:n+1,i=e.columns[n];e.columns.splice(n,1),e.columns.splice(o,0,i)},closeColumn:function(e,t){var n=t.indexCol;e.columns.splice(n,1)},resetColumn:function(e,t){var n=t.indexCol;e.columns[n].documentsIds=[]},updateColumnParams:function(e,t){var n=t.indexCol,r=t.params;e.columns[n].params=r},updateClient:function(e,t){e.credentials.client=t,g.apiKey=e.credentials},updateClientId:function(e,t){e.credentials.clientId=t,g.apiKey=e.credentials},updateClientSecret:function(e,t){e.credentials.clientSecret=t,g.apiKey=e.credentials},setClientCredentials:function(e,t){var n=t.client,r=t.clientId,o=t.clientSecret;e.credentials.client=n,e.credentials.clientId=r,e.credentials.clientSecret=o,g.apiKey=e.credentials},resetClientCredentials:function(e){e.credentials.client=null,e.credentials.clientId=null,e.credentials.clientSecret=null,g.apiKey=e.credentials},initClients:function(e){e.clients=g.clients},setAuthType:function(e,t){e.authType=t},setProcessing:function(e,t){var n=t.indexCol,r=t.value;if(!e.columns[n])return!1;e.columns[n].processing=r,!1===r&&(e.columns[n].lastTimeLoading=Date.now())},setError:function(e,t){var n=t.indexCol,r=t.value;if(!e.columns[n])return!1;e.columns[n].error=r},addDocuments:function(e,t){var n=t.reduce(function(e,t){return e[t.uno]=t,e},{});e.documents=Object.assign({},n,e.documents)},cleanDocuments:function(e){var t=Object(s["a"])(new Set([].concat.apply([],e.columns.map(function(e){return e.documentsIds}))));for(var n in e.documents)-1===t.indexOf(n)&&delete e.documents[n]},clearDocuments:function(e){e.documents={}},clearColumnDocumentsIds:function(e,t){var n=t.indexCol;e.columns[n].documentsIds=[]},prependDocumentsToCol:function(e,t){var n=t.indexCol,r=t.documents;if(!e.columns[n])return!1;var o=e.columns[n].documentsIds;e.columns[n].documentsIds=Object(s["a"])(new Set(r.map(function(e){return e.uno}).concat(o)))},appendDocumentsToCol:function(e,t){var n=t.indexCol,r=t.documents;if(!e.columns[n])return!1;var o=e.columns[n].documentsIds;e.columns[n].documentsIds=Object(s["a"])(new Set(o.concat(r.map(function(e){return e.uno}))))},setDocumentViewed:function(e,t){e.documents[t].viewed=!0},setConnectivityStatus:function(e,t){var n=t.isConnected;e.connectivity.isConnected=n},setWantTour:function(e,t){e.wantTour=t},setAutoRefresh:function(e,t){e.autoRefresh=t},setLocale:function(e,t){e.locale=t},resetState:function(e){Object.assign(e,i())}},x=(n("386d"),n("9395")),C=(n("96cf"),n("cb0c")),k=n("a002"),A=n.n(k),I={columns:"afpnews-deck-columns",token:"afpnews-deck-token",client:"afpnews-deck-client",clientId:"afpnews-deck-client-id",clientSecret:"afpnews-deck-client-secret",autoRefresh:"afpnews-deck-auto-refresh",wantTour:"afpnews-deck-want-tour",locale:"afpnews-deck-locale"},T=A.a.createInstance({name:"userStore"}),_=A.a.createInstance({name:"documentsStore"}),O=(n("55dd"),function(e){return{uno:e.uno,headline:Array.isArray(e.title)?e.title.join(" - "):e.title,published:e.published,lang:e.lang,product:e.product,urgency:e.urgency,news:e.news,slugs:e.slug,medias:e.bagItem?e.bagItem.map(function(e){return{sizes:e.medias.sort(function(e,t){return e.width-t.width}),creator:e.creator,provider:e.provider,caption:e.caption,source:e.source,uno:e.uno}}):[],viewed:!1}}),j=n("9161"),S=n("88d8"),R=n("a925");r["default"].use(R["a"]);var P=["en","fr"],z=P[0],$=Object(S["a"])({},z,n("fca5")("./".concat(z))),D=Object(S["a"])({},z,$[z].dateTimeFormats);function E(){var e=navigator.language&&navigator.language.substring(0,2);return!(!e||!P.includes(e))&&e}var L=new R["a"]({locale:E()||z,fallbackLocale:z,messages:$,dateTimeFormats:D});function B(e){return L.locale=e,document.querySelector("html").setAttribute("lang",e),e}function N(e){return q.apply(this,arguments)}function q(){return q=Object(C["a"])(regeneratorRuntime.mark(function e(t){var r,o,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(L.locale===t&&L.messages[t]){e.next=8;break}return e.next=3,n("39c3")("./".concat(t,".json"));case 3:return r=e.sent,o=r.default,i=o.dateTimeFormats,a=Object(j["a"])(o,["dateTimeFormats"]),L.setLocaleMessage(t,a),L.setDateTimeFormat(t,i),e.abrupt("return",B(t));case 8:return e.abrupt("return",Promise.resolve(B(t)));case 9:case"end":return e.stop()}},e,this)})),q.apply(this,arguments)}var F=L,M=n("5a0c"),U=n.n(M),H=n("4208"),V=n.n(H);n("e5b7");U.a.extend(V.a);var K={install:function(e,t){e.filter("fromNow",function(e){return U()(e).from(U()())})}};function W(e){U.a.locale(e)}r["default"].use(K);var Y={changeLocale:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,e.next=3,N(n);case 3:return W(n),r("setLocale",n),e.next=7,T.setItem(I.locale,o.locale);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),addColumn:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,r("addColumn",n),e.next=4,o("saveColumns");case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),closeColumn:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,i=n.indexCol,r("closeColumn",{indexCol:i}),e.next=5,o("saveColumns");case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),moveColumn:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,i=n.indexCol,a=n.dir,r("moveColumn",{indexCol:i,dir:a}),e.next=5,o("saveColumns");case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),resurrectColumns:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,T.getItem(I.columns);case 3:r=e.sent,Array.isArray(r)&&r.length>0?r.forEach(function(e){return n("addColumn",e)}):n("addColumn");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),resurrectDocuments:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=[],e.next=4,_.iterate(function(e,t,n){r.push(e)});case 4:n("addDocuments",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveColumns:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,T.setItem(I.columns,n.columns);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveDocuments:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,r=t.commit,r("cleanDocuments"),e.next=4,_.iterate(function(e,t,r){void 0===n.documents[e.uno]&&_.removeItem(t)});case 4:for(o in n.documents)_.setItem(n.documents[o].uno,n.documents[o]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initPreferences:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,e.next=3,T.getItem(I.wantTour);case 3:return o=e.sent,null!==o&&n("setWantTour",o),e.next=7,T.getItem(I.autoRefresh);case 7:return i=e.sent,null!==i&&n("setAutoRefresh",i),e.next=11,T.getItem(I.locale);case 11:a=e.sent,null!==a&&r("changeLocale",a);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setAutoRefresh:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,o=t.commit,o("setAutoRefresh",n),e.next=4,T.setItem(I.autoRefresh,r.autoRefresh);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),setWantTour:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,o=t.commit,o("setWantTour",n),e.next=4,T.setItem(I.wantTour,r.wantTour);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),initCredentials:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("initClients"),e.next=4,T.getItem(I.client);case 4:return r=e.sent,e.next=7,T.getItem(I.clientId);case 7:return o=e.sent,e.next=10,T.getItem(I.clientSecret);case 10:i=e.sent,n("setClientCredentials",{client:r,clientId:o,clientSecret:i});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveCredentials:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,T.setItem(I.client,n.credentials.client);case 3:return e.next=5,T.setItem(I.clientId,n.credentials.clientId);case 5:return e.next=7,T.setItem(I.clientSecret,n.credentials.clientSecret);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initToken:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,T.getItem(I.token);case 3:r=e.sent,r&&(g.token=r,n("setAuthType",g.token.authType));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveToken:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,T.setItem(I.token,n);case 3:r("setAuthType",n.authType);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),deleteToken:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,g.token={},n("setAuthType","unknown"),n("resetClientCredentials");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.commit,e.next=3,T.clear();case 3:return e.next=5,_.clear();case 5:n("deleteToken"),r("resetState"),r("addColumn");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),authenticate:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,t.commit,n=t.dispatch,r=s.length>1&&void 0!==s[1]?s[1]:{},o=r.username,i=r.password,e.prev=2,e.next=5,g.authenticate({username:o,password:i});case 5:return a=e.sent,e.next=8,n("saveToken",a);case 8:return e.next=10,n("saveCredentials");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](2),console.error(e.t0&&e.t0.message),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),refreshColumn:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f,p,m,h,v,b;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,o=t.commit,i=t.dispatch,a=t.getters,s=n.indexCol,c=n.more,e.prev=2,!(r.columns[s]&&Date.now()-r.columns[s].lastTimeLoading<10)){e.next=5;break}throw new Error("Refreshs are too frequent. Are you sure you're not in a infinite loop ?");case 5:o("setProcessing",{indexCol:s,value:!0}),u=Object(x["a"])({},a.getColumnByIndex(s).params),e.prev=7,a.getColumnByIndex(s).documentsIds.length>0&&("before"===c?(l=a.getColumnByIndex(s).documentsIds.slice(-1).pop(),d=a.getDocumentById(l),f=new Date(d.published),f.setSeconds(f.getSeconds()-1),u=Object.assign(u,{dateTo:f.toISOString()})):"after"===c&&(p=a.getColumnByIndex(s).documentsIds[0],m=a.getDocumentById(p),h=new Date(m.published),h.setSeconds(h.getSeconds()+1),u=Object.assign(u,{dateFrom:h.toISOString()}))),e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](7),console.error(e.t0.message),o("clearColumnDocumentsIds",{indexCol:s}),e.abrupt("return",i("refreshColumn",{indexCol:s,more:c}));case 16:return e.next=18,g.search(u);case 18:if(v=e.sent,b=v.documents,i("saveToken",g.token),0!==b.length){e.next=23;break}throw new Error("No more documents");case 23:return o("addDocuments",b.map(function(e){return O(e)})),o("before"===c?"appendDocumentsToCol":"prependDocumentsToCol",{indexCol:s,documents:b}),i("saveColumns"),i("saveDocuments"),o("setError",{indexCol:s,value:!1}),e.abrupt("return",!0);case 31:if(e.prev=31,e.t1=e["catch"](2),!e.t1.response){e.next=41;break}if(401!==e.t1.response.status){e.next=38;break}return e.next=37,i("logout");case 37:console.error("Authentication error. Please type your credentials.");case 38:console.error(e.t1.response),e.next=42;break;case 41:e.t1.request&&console.error(e.t1.request);case 42:return e.abrupt("return",!1);case 43:return e.prev=43,o("setProcessing",{indexCol:s,value:!1}),e.finish(43);case 46:case"end":return e.stop()}},e,this,[[2,31,43,46],[7,11]])}));return function(t,n){return e.apply(this,arguments)}}(),refreshAllColumns:function(e){var t=e.state,n=e.dispatch;return Promise.all(t.columns.map(function(e,t){return n("refreshColumn",{indexCol:t,more:"after"})}))}};r["default"].use(o["a"]);var G=new o["a"].Store({state:i(),getters:a,mutations:w,actions:Y,modules:{},strict:!1}),J=n("8c4f"),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("transition-group",{attrs:{id:"columns",name:"list",tag:"div"}},e._l(e.columns,function(e,t){return n("column",{key:"column-"+e.id,attrs:{"column-id":t}})})),n("router-view")],1)},X=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"column"},[n("header",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.clickAway,expression:"clickAway"}]},[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.query,expression:"query",modifiers:{lazy:!0}}],staticClass:"search",attrs:{placeholder:e.$t("column.search"),"data-v-step":"search",type:"text",name:"query","aria-label":"query",autocomplete:"off"},domProps:{value:e.query},on:{focus:function(t){e.paramsOpen=!0},change:function(t){e.query=t.target.value}}}),e.paramsOpen||"tour"===e.$route.name?n("form",{attrs:{tabindex:"-1"},on:{submit:function(e){e.stopPropagation(),e.preventDefault()},keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.stopPropagation(),t.preventDefault(),e.reset(t)):null}}},[n("div",{staticClass:"actions"},[n("button",{attrs:{name:"move-left"},on:{click:function(t){e.move("left")}}},[n("i",{staticClass:"UI-icon UI-slide-left"})]),n("button",{staticClass:"margin-right-auto",attrs:{name:"move-right"},on:{click:function(t){e.move("right")}}},[n("i",{staticClass:"UI-icon UI-slide-right"})]),n("button",{staticClass:"margin-left-auto",class:{processing:e.column.processing,danger:e.column.error},attrs:{name:"refresh"},on:{click:e.reset}},[n("i",{staticClass:"UI-icon UI-refresh"})]),n("button",{staticClass:"danger",attrs:{name:"close"},on:{click:e.close}},[n("i",{staticClass:"UI-icon UI-close-alt"})])]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.product,expression:"product"}],attrs:{name:"product","data-v-step":"products"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.product=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.$t("column.product")))]),e._l(e.products,function(t){return n("option",{key:t.value.join("|"),domProps:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{name:"lang","data-v-step":"languages"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.lang=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.$t("column.lang")))]),e._l(e.languages,function(t){return n("option",{key:t.value.join("|"),domProps:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.urgency,expression:"urgency"}],attrs:{name:"urgency","data-v-step":"urgencies"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.urgency=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.$t("column.urgency")))]),e._l(e.urgencies,function(t){return n("option",{key:t.value.join("|"),domProps:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})],2),n("datepicker",{attrs:{"monday-first":!0,"clear-button":!0,typeable:!0,"use-utc":!0,"disabled-dates":{from:new Date,to:new Date(2013,6,16)},placeholder:e.$t("column.until"),language:e.datePickerTranslate,"data-v-step":"date-picker"},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1):e._e()]),n("transition",{attrs:{name:"curtain-transform",mode:"out-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.column.processing,expression:"column.processing"}],staticClass:"loading-indicator"},[e._v("\n      "+e._s(e.$t("loading"))+"\n    ")])]),n("recyclist",{ref:"recyclist",staticClass:"documents",attrs:{list:e.documents,offset:200,"fetch-bottom":e.loadBefore,"fetch-top":e.loadAfter,"is-loading":e.column.processing},scopedSlots:e._u([{key:"tombstone",fn:function(t){return[n("article",{staticClass:"tombstone"},[n("p",{staticClass:"published"},[n("span",[e._v("Lorem ipsum")])]),n("h1",[n("span",[e._v("Lorem Ipsum")])]),n("p",{staticClass:"lead"},[n("span",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris in massa vel orci eleifend eleifend.")])])])]}},{key:"item",fn:function(t){return["string"===typeof t.data?n("card",{attrs:{"doc-id":t.data,"index-col":e.columnId}}):e._e()]}}])},[n("div",{attrs:{slot:"nomore"},slot:"nomore"},[e._v(e._s(e.$t("column.no-result")))])])],1)},ee=[],te=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-recyclist vue-recyclist-scrollable"},[n("div",{ref:"list",staticClass:"vue-recyclist-items",style:{height:e.height+"px"}},[e._l(e.visibleItems,function(t,r){return n("div",{key:r,staticClass:"vue-recyclist-item",style:{transform:"translate3d(0,"+t.top+"px,0)"}},[n("div",{staticClass:"vue-recyclist-transition",style:{opacity:+!t.loaded}},[e._t("tombstone")],2),n("div",{staticClass:"vue-recyclist-transition",style:{opacity:+t.loaded}},[e._t("item",null,{data:t.data,index:r})],2)])}),n("div",{staticClass:"vue-recyclist-pool"},[e._l(e.items,function(t,r){return t.tomb||t.gotHeight?e._e():n("div",{key:r,ref:"item"+r,refInFor:!0,staticClass:"vue-recyclist-item vue-recyclist-invisible"},[e._t("item",null,{data:t.data})],2)}),n("div",{ref:"tomb",staticClass:"vue-recyclist-item vue-recyclist-invisible"},[e._t("tombstone")],2)],2)],2),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&e.noMore,expression:"!isLoading && noMore"}],staticClass:"vue-recyclist-nomore"},[e._t("nomore",[n("div",[e._v("End of list")])])],2)])}),ne=[],re={props:{list:{type:Array,required:!0},size:{type:Number,default:20},offset:{type:Number,default:200},fetchBottom:{type:Function,required:!0},fetchTop:{type:Function,required:!0},isLoading:{type:Boolean,default:!1}},data:function(){return{name:"Recyclist",items:[],height:0,start:0,loadings:0,noMore:!1}},computed:{visibleItems:function(){return this.items.slice(Math.max(0,this.start-this.size),Math.min(this.items.length,this.start+this.size))},containerHeight:function(){return this.$el&&this.$el.offsetHeight||0},tombHeight:function(){return this.$refs.tomb&&this.$refs.tomb.offsetHeight}},watch:{start:function(e,t){0===e&&t>e&&this.loadTop()},list:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t[0]===n[0]){e.next=7;break}return this.items=this.list.map(function(e,t){return o.renderItem(t,e,null)}),e.next=4,this.$nextTick();case 4:for(r=0;r<this.items.length;r++)this.updateItemHeight(r);this.updateItemTop(),this.updateIndex();case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},mounted:function(){this.$el.addEventListener("scroll",this.onScroll,{capture:!0,passive:!0}),this.init()},destroyed:function(){this.$el.removeEventListener("scroll",this.onScroll)},methods:{init:function(){this.reset(),this.loadMoreItems()},reset:function(){this.noMore=!1,this.items=[],this.height=this.start=this.$el.scrollTop=0},loadMoreItems:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==this.noMore){e.next=2;break}return e.abrupt("return",!1);case 2:for(t=this.loadings++,n=[],r=this.items.length+this.size,o=this.items.length;o<r;o++)this.setItem(o,null,t),n.push(o);return e.next=8,this.$nextTick();case 8:this.updateItemTop(),this.loadBottom(t);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setItem:function(e,t,n){this.$set(this.items,e,this.renderItem(e,t,n))},renderItem:function(e,t,n){return{index:e,data:t||{},height:this.tombHeight,top:-1e3,tomb:!t,loaded:!!t,loadingIndex:n,gotHeight:!1}},updateItemTop:function(){for(var e=0,t=0;t<this.items.length;t++){var n=this.items[t-1];this.items[t].top=n?n.top+n.height:0,e+=this.items[t].height}this.height=e,this.updateIndex()},updateIndex:function(){for(var e=this.$el.scrollTop,t=0;t<this.items.length;t++)if(this.items[t].top>e){this.start=Math.max(0,t-1);break}},loadBottom:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBottom();case 2:return n=e.sent,!1===n&&(this.noMore=!0),r=this.items.filter(function(e){return e.loadingIndex===t}),r.forEach(function(e){o.setItem(e.index,o.list[e.index],t)}),e.next=8,this.$nextTick();case 8:r.forEach(function(e){o.updateItemHeight(e.index)}),this.items=this.items.filter(function(e){return!0===e.loaded}),this.updateItemTop();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),updateItemHeight:function(e){var t=this.items[e],n=this.$refs["item".concat(e)];n&&n[0]&&(t.height=n[0].offsetHeight,t.gotHeight=!0)},loadTop:function(){this.fetchTop()},onScroll:function(){this.$el.scrollTop+this.$el.offsetHeight>this.height-this.offset&&this.loadMoreItems(),this.updateIndex()}}},oe=re,ie=(n("d0f1"),n("2877")),ae=Object(ie["a"])(oe,te,ne,!1,null,"1ce75f60",null);ae.options.__file="Recyclist.vue";var se=ae.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.doc?n("router-link",{class:{flash:1===e.doc.urgency,alerte:2===e.doc.urgency,urgent:3===e.doc.urgency,viewed:e.doc.viewed},attrs:{lang:e.doc.lang,dir:"ar"===e.doc.lang?"rtl":"ltr",to:{name:"document",params:{indexCol:e.indexCol,docId:e.docId}},tag:"article"}},[n("p",{key:"date-"+e.locale,staticClass:"published"},[e._v("\n    "+e._s(e._f("fromNow")(e.doc.published))+"\n  ")]),"photo"!==e.doc.product?n("h1",[e._v("\n    "+e._s(e.doc.headline)+"\n  ")]):e._e(),e.doc.medias.length>0&&e.doc.medias[0].sizes.some(function(e){return"Preview"===e.role})?n("div",{staticClass:"img-container",style:{"background-image":"url("+e.doc.medias[0].sizes.find(function(e){return"Preview"===e.role}).href+")"}}):e._e(),e.doc.urgency>2&&e.doc.news&&e.doc.news[0]?n("p",{staticClass:"lead"},[e._v("\n    "+e._s(e.doc.news[0].substr(0,100)+"...")+"\n  ")]):e._e()]):e._e()},ue=[],le={name:"Card",props:{docId:{type:String,required:!0},indexCol:{type:Number,required:!0}},computed:Object(x["a"])({},Object(o["e"])(["locale"]),Object(o["c"])(["getDocumentById"]),{doc:function(){return this.getDocumentById(this.docId)}})},de=le,fe=(n("f9de"),Object(ie["a"])(de,ce,ue,!1,null,"2af6bfac",null));fe.options.__file="Card.vue";var pe=fe.exports,me=n("c7db"),he=n("fa33"),ve=n("2430"),ge={en:ve["a"],fr:ve["b"]},be={name:"Column",components:{Card:pe,Recyclist:se,Datepicker:he["a"]},mixins:[me["mixin"]],props:{columnId:{type:Number,required:!0}},data:function(){return{paramsOpen:!1}},computed:Object(x["a"])({},Object(o["e"])({column:function(e){return e.columns[this.columnId]}}),{datePickerTranslate:function(){return ge[this.$i18n.locale]||ge[this.$i18n.fallbackLocale]},documents:function(){return this.column.documentsIds},params:function(){return this.column.params},product:{get:function(){return this.params.products},set:function(e){if(!e[1]){if("photo"===e[0])return this.updateParams({products:e,langs:["en"],urgencies:[1,2,3,4,5]}),!0;if("news"===e[0])return this.updateParams({products:e,urgencies:[1,2,3,4]}),!0}this.updateParams({products:e,urgencies:[1,2,3,4,5]})}},lang:{get:function(){return this.params.langs},set:function(e){this.updateParams({langs:e})}},products:function(){return[{label:this.$t("products.all"),value:["news","multimedia","photo","infographie","sid","videographie","livereport","sidtv","parismode"]},{label:this.$t("products.news"),value:["news"]},{label:this.$t("products.multimedia"),value:["multimedia"]},{label:this.$t("products.photo"),value:["photo"]},{label:this.$t("products.infographie"),value:["infographie"]},{label:this.$t("products.videographie"),value:["videographie"]},{label:this.$t("products.livereport"),value:["livereport"]},{label:this.$t("products.parismode"),value:["parismode"]}]},languages:function(){return 0===this.product.length&&"photo"===this.product[0]?[{label:this.$t("languages.en"),value:["en"]}]:[{label:this.$t("languages.all"),value:["fr","en","es","de","pt","ar","zh-tw","zh-cn"]},{label:this.$t("languages.en"),value:["en"]},{label:this.$t("languages.fr"),value:["fr"]},{label:this.$t("languages.de"),value:["de"]},{label:this.$t("languages.es"),value:["es"]},{label:this.$t("languages.pt"),value:["pt"]},{label:this.$t("languages.ar"),value:["ar"]},{label:this.$t("languages.zh-tw"),value:["zh-tw"]},{label:this.$t("languages.zh-cn"),value:["zh-cn"]}]},urgencies:function(){return this.product.length>1?[{label:this.$tc("urgencies.flash",2),value:[1]},{label:this.$tc("urgencies.alertes",2),value:[1,2]},{label:this.$tc("urgencies.urgents",2),value:[1,2,3]},{label:this.$tc("urgencies.depeches",2),value:[1,2,3,4]},{label:this.$t("urgencies.all"),value:[1,2,3,4,5]}]:"photo"===this.product[0]?[{label:this.$tc("urgencies.topshots",2),value:[1]},{label:this.$t("urgencies.all-photos"),value:[1,2,3,4,5]}]:"news"===this.product[0]?[{label:this.$tc("urgencies.flash",2),value:[1]},{label:this.$tc("urgencies.alertes",2),value:[1,2]},{label:this.$tc("urgencies.urgents",2),value:[1,2,3]},{label:this.$tc("urgencies.depeches",2),value:[1,2,3,4]}]:[{label:this.$t("urgencies.all"),value:[1,2,3,4,5]}]},urgency:{get:function(){return this.params.urgencies},set:function(e){this.updateParams({urgencies:e})}},query:{get:function(){return this.params.query},set:function(e){this.updateParams({query:e})}},dateTo:{get:function(){return this.params.dateTo},set:function(e){this.updateParams({dateTo:e})}}}),methods:Object(x["a"])({},Object(o["d"])(["updateColumnParams","resetColumn"]),Object(o["b"])(["moveColumn","closeColumn","refreshColumn"]),{clickAway:function(){this.paramsOpen=!1},updateParams:function(e){var t=Object.assign({},this.params,e);this.updateColumnParams({indexCol:this.columnId,params:t}),this.reset()},reset:function(){this.resetColumn({indexCol:this.columnId}),this.$refs.recyclist.init()},loadBefore:function(){return this.refreshColumn({indexCol:this.columnId,more:"before"})},loadAfter:function(){return this.refreshColumn({indexCol:this.columnId,more:"after"})},move:function(e){this.moveColumn({indexCol:this.columnId,dir:e})},close:function(){this.closeColumn({indexCol:this.columnId})}})},ye=be,we=(n("9d0e"),n("6d95"),Object(ie["a"])(ye,Z,ee,!1,null,"057a370c",null));we.options.__file="Column.vue";var xe=we.exports,Ce={name:"Deck",components:{Column:xe},computed:Object(x["a"])({},Object(o["e"])(["columns"]))},ke=Ce,Ae=(n("f5fd"),Object(ie["a"])(ke,Q,X,!1,null,"1fb49f7a",null));Ae.options.__file="Deck.vue";var Ie=Ae.exports;r["default"].use(J["a"]);var Te=!0,_e=[{name:"deck",path:"/",component:Ie,beforeEnter:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Te){e.next=12;break}return Te=!1,e.next=4,G.dispatch("initCredentials");case 4:return e.next=6,G.dispatch("initToken");case 6:return e.next=8,G.dispatch("resurrectDocuments");case 8:return e.next=10,G.dispatch("resurrectColumns");case 10:return e.next=12,G.dispatch("initPreferences");case 12:r();case 13:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),children:[{path:"doc",redirect:"/"},{name:"document",path:"doc/:docId",component:function(){return n.e("viewer").then(n.bind(null,"f9ca"))},props:!0},{name:"login",path:"login",component:function(){return n.e("login").then(n.bind(null,"a55b"))}},{name:"browser-warning",path:"browser-warning",component:function(){return n.e("browser-warning").then(n.bind(null,"6580"))}},{name:"about",path:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{name:"tour",path:"tour",component:function(){return n.e("tour").then(n.bind(null,"37f6"))}}]}],Oe=new J["a"]({routes:_e}),je=n("b127"),Se=(n("ffc1"),n("8615"),n("aa90")),Re=n.n(Se),Pe=Object(x["a"])({supportAllFeatures:Object.values(Re.a).every(function(e){return e}),unsupportedFeatures:Object.entries(Re.a).filter(function(e){var t=Object(je["a"])(e,2),n=(t[0],t[1]);return!n})},Re.a),ze={install:function(e){e.prototype.$modernizr=Pe}};r["default"].use(ze);var $e=n("6591"),De=n("c8b5"),Ee=n.n(De);delete Ee.a.defaults.cssProps.userSelect,Ee.a.defaults.touchAction="pan-y",r["default"].use($e["VueHammer"]);var Le=n("0284"),Be=n.n(Le);r["default"].use(Be.a,{id:"UA-127064867-1",disabled:!1,router:Oe,autoTracking:{pageviewOnLoad:!0,exception:!0},debug:{enabled:!1,sendHitTask:!0},anonymizeIp:!0,forceSSL:!0});var Ne,qe=n("9483");Object(qe["a"])("".concat("","service-worker.js"),{ready:function(){console.log("Service worker is active.")},registered:function(e){console.log("Service worker has been registered.")},cached:function(e){console.log("Content has been cached for offline use.")},updatefound:function(e){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; Ask for refresh."),window.confirm("New version available! OK to refresh?")&&e.waiting.postMessage("skipWaiting")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),navigator.serviceWorker.addEventListener("controllerchange",function(){Ne||(Ne=!0,window.location.reload())});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("side-bar"),n("router-view"),n("connectivity")],1)},Me=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{attrs:{id:"sidebar"}},[n("button",{attrs:{name:"search","aria-label":"search","data-v-step":"new"},on:{click:e.search}},[n("i",{staticClass:"UI-icon UI-search"})]),n("button",{class:{success:e.autoRefresh,processing:e.processing},attrs:{name:"auto-refresh","aria-label":"auto refresh","data-v-step":"auto-refresh"},on:{click:e.toggleAutoRefresh}},[n("i",{staticClass:"UI-icon UI-refreshing"})]),n("router-link",{class:{success:e.isAuthenticated,error:!e.isAuthenticated},attrs:{to:{name:"login"},name:"authenticate","aria-label":"authenticate",tag:"button","data-v-step":"authenticate"}},[n("i",{staticClass:"UI-icon UI-user-male"})]),n("router-link",{attrs:{to:{name:"about"},name:"about","aria-label":"about",tag:"button"}},[n("i",{staticClass:"UI-icon UI-heart"})])],1)},He=[],Ve={name:"SideBar",data:function(){return{autoRefreshTimer:null,autoRefreshDelay:1e4,processing:!1}},computed:Object(x["a"])({},Object(o["c"])(["isAuthenticated"]),Object(o["e"])(["autoRefresh"])),watch:{autoRefresh:function(e){!0===e?this.startAutoRefresh():this.stopAutoRefresh()}},mounted:function(){document.addEventListener("visibilitychange",this.visibilityChanged,!1)},beforeDestroy:function(){this.stopAutoRefresh(),document.removeEventListener("visibilitychange",this.visibilityChanged,!1)},methods:Object(x["a"])({},Object(o["b"])(["addColumn","refreshAllColumns","savePreferences","setAutoRefresh","changeLocale"]),{search:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"deck"!==this.$route.name&&this.$router.push({name:"deck"}),this.addColumn(),e.next=4,this.$nextTick();case 4:document.querySelector(".column:last-child").scrollIntoView({behavior:"smooth",block:"center"});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),startAutoRefresh:function(){var e=this;this.refreshAllColumns(),this.autoRefreshTimer=setInterval(Object(C["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!document.hidden){t.next=2;break}return t.abrupt("return");case 2:e.processing=!0,e.refreshAllColumns(),e.processing=!1;case 5:case"end":return t.stop()}},t,this)})),this.autoRefreshDelay)},stopAutoRefresh:function(){this.autoRefreshTimer&&clearInterval(this.autoRefreshTimer)},visibilityChanged:function(){!1!==this.autoRefresh&&(!0===document.hidden?this.stopAutoRefresh():this.startAutoRefresh())},toggleAutoRefresh:function(){this.setAutoRefresh(!this.autoRefresh)}})},Ke=Ve,We=(n("87b7"),Object(ie["a"])(Ke,Ue,He,!1,null,"064b3265",null));We.options.__file="SideBar.vue";var Ye=We.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"curtain",appear:""}},[e.connectivity.isConnected?e._e():n("div",{attrs:{id:"connectivity"}},[e._v("\n    "+e._s(e.$t("connectivity.message"))+"\n  ")])])},Je=[],Qe=navigator.connection||navigator.mozConnection||navigator.webkitConnection,Xe={name:"Connectivity",computed:Object(x["a"])({},Object(o["e"])(["connectivity"])),mounted:function(){if(!Qe)return!1;this.checkConnection(),Qe.addEventListener("change",this.checkConnection)},methods:Object(x["a"])({},Object(o["d"])(["setConnectivityStatus"]),{checkConnection:function(){var e=!0===navigator.onLine;this.setConnectivityStatus({isConnected:e})}})},Ze=Xe,et=(n("3995"),Object(ie["a"])(Ze,Ge,Je,!1,null,"5db2fbcc",null));et.options.__file="Connectivity.vue";var tt=et.exports,nt={name:"App",components:{SideBar:Ye,Connectivity:tt}},rt=nt,ot=(n("c072"),Object(ie["a"])(rt,Fe,Me,!1,null,null,null));ot.options.__file="index.vue";var it=ot.exports;r["default"].config.productionTip=!1,Oe.beforeResolve(function(e,t,n){return t.name&&["login","tour","document","about"].includes(t.name)||"deck"!==e.name||G.getters.isAuthenticated?t.name&&["tour","document","about"].includes(t.name)||"deck"!==e.name||!G.state.wantTour?void n():n({name:"tour"}):n({name:"login"})}),G.dispatch("changeLocale",F.locale),new r["default"]({router:Oe,store:G,i18n:F,render:function(e){return e(it)}}).$mount("#app")},"6d95":function(e,t,n){"use strict";var r=n("ef23"),o=n.n(r);o.a},"87b7":function(e,t,n){"use strict";var r=n("d735"),o=n.n(r);o.a},"9bd1":function(e,t,n){},"9d0e":function(e,t,n){"use strict";var r=n("4415"),o=n.n(r);o.a},aa90:function(e,t){(function(t){var n="Modernizr"in t,r=t.Modernizr;!function(e,t,n){function r(e,t){return typeof e===t}function o(){var e,t,n,o,i,a,s;for(var c in C)if(C.hasOwnProperty(c)){if(e=[],t=C[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)a=e[i],s=a.split("."),1===s.length?A[s[0]]=o:(!A[s[0]]||A[s[0]]instanceof Boolean||(A[s[0]]=new Boolean(A[s[0]])),A[s[0]][s[1]]=o),I.push((o?"":"no-")+s.join("-"))}}function i(e){var t=T.className,n=A._config.classPrefix||"";if(_&&(t=t.baseVal),A._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}A._config.enableClasses&&(t+=" "+n+e.join(" "+n),_?T.className.baseVal=t:T.className=t)}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(e,t){return!!~(""+e).indexOf(t)}function c(){var e=t.body;return e||(e=a(_?"svg":"body"),e.fake=!0),e}function u(e,n,r,o){var i,s,u,l,d="modernizr",f=a("div"),p=c();if(parseInt(r,10))for(;r--;)u=a("div"),u.id=o?o[r]:d+(r+1),f.appendChild(u);return i=a("style"),i.type="text/css",i.id="s"+d,(p.fake?p:f).appendChild(i),p.appendChild(f),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),f.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",l=T.style.overflow,T.style.overflow="hidden",T.appendChild(p)),s=n(f,e),p.fake?(p.parentNode.removeChild(p),T.style.overflow=l,T.offsetHeight):f.parentNode.removeChild(f),!!s}function l(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(t,n,r){var o;if("getComputedStyle"in e){o=getComputedStyle.call(e,t,n);var i=e.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var a=i.error?"error":"log";i[a].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else o=!n&&t.currentStyle&&t.currentStyle[r];return o}function f(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(l(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];o--;)i.push("("+l(t[o])+":"+r+")");return i=i.join(" or "),u("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==d(e,null,"position")})}return n}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function m(e,t,o,i){function c(){l&&(delete R.style,delete R.modElem)}if(i=!r(i,"undefined")&&i,!r(o,"undefined")){var u=f(e,o);if(!r(u,"undefined"))return u}for(var l,d,m,h,v,g=["modernizr","tspan","samp"];!R.style&&g.length;)l=!0,R.modElem=a(g.shift()),R.style=R.modElem.style;for(m=e.length,d=0;m>d;d++)if(h=e[d],v=R.style[h],s(h,"-")&&(h=p(h)),R.style[h]!==n){if(i||r(o,"undefined"))return c(),"pfx"!=t||h;try{R.style[h]=o}catch(e){}if(R.style[h]!=v)return c(),"pfx"!=t||h}return c(),!1}function h(e,t){return function(){return e.apply(t,arguments)}}function v(e,t,n){var o;for(var i in e)if(e[i]in t)return!1===n?e[i]:(o=t[e[i]],r(o,"function")?h(o,n||t):o);return!1}function g(e,t,n,o,i){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+j.join(a+" ")+a).split(" ");return r(t,"string")||r(t,"undefined")?m(s,t,o,i):(s=(e+" "+P.join(a+" ")+a).split(" "),v(s,t,n))}function b(e,t,r){return g(e,n,n,t,r)}function y(e,t){return e-1===t||e===t||e+1===t}function w(e,t){if("object"==typeof e)for(var n in e)B(e,n)&&w(n,e[n]);else{e=e.toLowerCase();var r=e.split("."),o=A[r[0]];if(2==r.length&&(o=o[r[1]]),"undefined"!=typeof o)return A;t="function"==typeof t?t():t,1==r.length?A[r[0]]=t:(!A[r[0]]||A[r[0]]instanceof Boolean||(A[r[0]]=new Boolean(A[r[0]])),A[r[0]][r[1]]=t),i([(t&&0!=t?"":"no-")+r.join("-")]),A._trigger(e,t)}return A}function x(e,t){var n=e.deleteDatabase(t);n.onsuccess=function(){w("indexeddb.deletedatabase",!0)},n.onerror=function(){w("indexeddb.deletedatabase",!1)}}var C=[],k={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){C.push({name:e,fn:t,options:n})},addAsyncTest:function(e){C.push({name:null,fn:e})}},A=function(){};A.prototype=k,A=new A;var I=[],T=t.documentElement,_="svg"===T.nodeName.toLowerCase();A.addTest("bgpositionshorthand",function(){var e=a("a"),t=e.style,n="right 10px bottom 10px";return t.cssText="background-position: "+n+";",t.backgroundPosition===n});var O="Moz O ms Webkit",j=k._config.usePrefixes?O.split(" "):[];k._cssomPrefixes=j;var S={elem:a("modernizr")};A._q.push(function(){delete S.elem});var R={style:S.elem.style};A._q.unshift(function(){delete R.style});var P=k._config.usePrefixes?O.toLowerCase().split(" "):[];k._domPrefixes=P,k.testAllProps=g,k.testAllProps=b,A.addTest("bgpositionxy",function(){return b("backgroundPositionX","3px",!0)&&b("backgroundPositionY","5px",!0)}),A.addTest("bgrepeatround",b("backgroundRepeat","round")),A.addTest("bgrepeatspace",b("backgroundRepeat","space")),A.addTest("backgroundsize",b("backgroundSize","100%",!0)),A.addTest("bgsizecover",b("backgroundSize","cover")),A.addTest("borderradius",b("borderRadius","0px",!0)),A.addTest("boxshadow",b("boxShadow","1px 1px",!0)),A.addTest("boxsizing",b("boxSizing","border-box",!0)&&(t.documentMode===n||t.documentMode>7)),A.addTest("flexbox",b("flexBasis","1px",!0));var z=k.testStyles=u,$=function(){var e=navigator.userAgent,t=e.match(/w(eb)?osbrowser/gi),n=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return t||n}();$?A.addTest("fontface",!1):z('@font-face {font-family:"font";src:url("https://")}',function(e,n){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,i=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"",a=/src/i.test(i)&&0===i.indexOf(n.split(" ")[0]);A.addTest("fontface",a)});var D=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return u("@media "+t+" { #modernizr { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position}),n}}();k.mq=D,A.addTest("mediaqueries",D("only all"));var E=k._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];k._prefixes=E,A.addTest("opacity",function(){var e=a("a").style;return e.cssText=E.join("opacity:.55;"),/^0.55$/.test(e.opacity)}),A.addTest("csspointerevents",function(){var e=a("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),A.addTest("rgba",function(){var e=a("a").style;return e.cssText="background-color:rgba(150,255,150,.5)",(""+e.backgroundColor).indexOf("rgba")>-1});var L=k.testProp=function(e,t,r){return m([e],n,t,r)};A.addTest("textshadow",L("textShadow","1px 1px")),A.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&b("transform","scale(1)",!0)});var B,N="CSS"in e&&"supports"in e.CSS,q="supportsCSS"in e;A.addTest("supports",N||q),A.addTest("csstransforms3d",function(){return!!b("perspective","1px",!0)}),A.addTest("csstransitions",b("transition","all",!0)),z("#modernizr { width: 50vw; }",function(t){var n=parseInt(e.innerWidth/2,10),r=parseInt(d(t,null,"width"),10);A.addTest("cssvwunit",y(r,n))}),A.addTest("willchange","willChange"in T.style),function(){var e={}.hasOwnProperty;B=r(e,"undefined")||r(e.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),k._l={},k.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),A.hasOwnProperty(e)&&setTimeout(function(){A._trigger(e,A[e])},0)},k._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},A._q.push(function(){k.addTest=w}),A.addAsyncTest(function(){var e,t,n,r=a("img"),o="sizes"in r;!o&&"srcset"in r?(t="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=function(){w("sizes",2==r.width)},r.onload=n,r.onerror=n,r.setAttribute("sizes","9px"),r.srcset=e+" 1w,"+t+" 8w",r.src=e):w("sizes",o)}),A.addTest("srcset","srcset"in a("img"));var F=function(t){var r,o=E.length,i=e.CSSRule;if("undefined"==typeof i)return n;if(!t)return!1;if(t=t.replace(/^@/,""),r=t.replace(/-/g,"_").toUpperCase()+"_RULE",r in i)return"@"+t;for(var a=0;o>a;a++){var s=E[a],c=s.toUpperCase()+"_"+r;if(c in i)return"@-"+s.toLowerCase()+"-"+t}return!1};k.atRule=F;var M=k.prefixed=function(e,t,n){return 0===e.indexOf("@")?F(e):(-1!=e.indexOf("-")&&(e=p(e)),t?g(e,t,n):g(e,"pfx"))};A.addAsyncTest(function(){var t;try{t=M("indexedDB",e)}catch(e){}if(t){var n="modernizr-"+Math.random(),r=t.open(n);r.onerror=function(){r.error&&"InvalidStateError"===r.error.name?w("indexeddb",!1):(w("indexeddb",!0),x(t,n))},r.onsuccess=function(){w("indexeddb",!0),x(t,n)}}else w("indexeddb",!1)}),A.addTest("pagevisibility",!!M("hidden",t,!1)),A.addTest("serviceworker","serviceWorker"in navigator),A.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),o(),i(I),delete k.addTest,delete k.addAsyncTest;for(var U=0;U<A._q.length;U++)A._q[U]();e.Modernizr=A}(t,document),e.exports=t.Modernizr,n?t.Modernizr=r:delete t.Modernizr})(window)},c072:function(e,t,n){"use strict";var r=n("f8dc"),o=n.n(r);o.a},d0f1:function(e,t,n){"use strict";var r=n("f32c"),o=n.n(r);o.a},d735:function(e,t,n){},eacc:function(e,t,n){},edd4:function(e){e.exports={"back-to-home":"Back to home",submit:"Submit",loading:"Loading...",column:{search:"Search...",product:"Choose a product",lang:"Choose a lang",urgency:"Choose an urgency",until:"Until","no-result":"No result"},about:{title:"About AFP Deck",description:["AFP News Deck is a reader for AFP feeds. It allows you to fetch and read stories, multimedia articles and photos directly in your browser.","Made with love by AFP Dataviz team, on a original idea by the Medialab. Data is provided by API AFP."],version:"Version"},auth:{success:{title:"You're correctly logged in.",description:"Enjoy AFP Deck !"},logout:"Logout",clientId:"Client ID",clientSecret:"Client Secret",username:"Username",password:"Password","not-authenticated":{title:"Log in to enjoy fresh news",external:"If you don't work at AFP and you want to connect using a specific client id, {0}.",afp:"If you want to log in using the AFP account, {0}.",click:"click here"}},products:{all:"All products",news:"News",multimedia:"Multimedia",photo:"Photo",infographie:"Graphics",videographie:"Videographics",livereport:"Live Report",parismode:"Paris mode"},languages:{all:"All languages",en:"English",fr:"French",de:"German",es:"Spanish",pt:"Portuguese",ar:"Arab","zh-tw":"Traditionnal chinese","zh-cn":"Simplified chinese"},urgencies:{all:"All urgencies","all-photos":"All photos",flash:"Flash | Flashs",alertes:"Alert | Alerts",urgents:"Urgent | Urgents",depeches:"News | News",topshots:"Topshot | Topshots"},connectivity:{message:"Your device lost its internet connection."},dateTimeFormats:{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}},tour:{goto:"Getting started",search:"Type your search terms here, then enter. <p><small>You can use conditional operatos like AND and OR, or search in specific fields using title:Worldcup by example</small></p>",products:"News, photos, graphics : decide what product you want. <p><small>When you're not logged in, you only view multimedia news wire from the previous day.</small></p>",languages:"6 languages are available. Select yours <p><small>Photos are only available in English</small></p>",urgencies:"You can decide to only display important article like alerts, flashs, or topshots for photos.","date-picker":"Articles are sorted from the youngest to the oldest. <p><small>Use this selector if you search for a specific date.</small></p>",new:"Click here to add a column and start a new search.","auto-refresh":"Control the auto-refresh functionnality, to automatically fetch new articles.",authenticate:"Log in with your AFP credentials to start reading fresh articles."},"browser-warning":{title:"Warning",description:"Your browser is not compatible with this app. Use a recent browser for an optimal experience.","unsupported-features":"Unsupported features"}}},ef23:function(e,t,n){},f32c:function(e,t,n){},f5fd:function(e,t,n){"use strict";var r=n("fe42"),o=n.n(r);o.a},f693:function(e){e.exports={"back-to-home":"Retour  l'accueil",submit:"Valider",loading:"Chargement...",column:{search:"Rechercher...",product:"Slectionnez un produit",lang:"Slectionnez une langue",urgency:"Slectionnez une urgence",until:"Jusqu'","no-result":"Pas de rsultats"},about:{title:" propos d'AFP Deck",description:["AFP News Deck permet de lire les dpches, photos et vidos diffuses par l'AFP, directement dans votre navigateur.","Conu par l'quipe Dataviz de l'AFP, sur une ide originale du Mdialab. Les donnes proviennent de l'API AFP."],version:"Version"},auth:{success:{title:"Vous tes connect",description:"Profitez d'AFP Deck !"},logout:"Se dconnecter",clientId:"ID Client",clientSecret:"Secret Client",username:"Nom d'utilisateur",password:"Mot de passe","not-authenticated":{title:"Connectez-vous pour bnficier des dernires nouvelles",external:"Si vous ne travaillez pas  l'AFP et dsirez vous connecter avec un compte client spcifique, {0}.",afp:"Si vous souhaitez vous connecter avec le compte AFP, {0}.",click:"cliquez ici"}},products:{all:"Tous produits",news:"Dpches",multimedia:"Multimdia",photo:"Photo",infographie:"Infographie",videographie:"Vidographie",livereport:"Lives",parismode:"Paris mode"},languages:{all:"Tous langages",en:"Anglais",fr:"Franais",de:"Allemand",es:"Espagnol",pt:"Portugais",ar:"Arabe","zh-tw":"Chinois traditionnel","zh-cn":"Chinois simplifi"},urgencies:{all:"Toutes urgences","all-photos":"Toutes",flash:"Flash | Flashs",alertes:"Alerte | Alertes",urgents:"Urgent | Urgents",depeches:"Dpche | Dpches",topshots:"Topshot | Topshots"},connectivity:{message:"Votre appareil a perdu la connexion."},dateTimeFormats:{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}},tour:{goto:"Faire la visite guide",search:"Tapez votre recherche ici, puis faites entrer pour valider. <p><small>Vous pouvez utiliser les oprateurs AND et OR, ou des recherches spcifiques dans le titre comme title:Mondial</small></p>",products:"Dpches, photos, infographies : slectionnez le contenu que vous recherchez. <p><small>Lorsque vous n'tes pas connects, vous n'avez accs qu'au fil multimdia, avec 24h de dlai.</small></p>",languages:"6 langues sont gnralement disponibles. <p><small>Les photos ne sont en revanche disponibles que sur le fil anglais.</small></p>",urgencies:"Vous pouvez dcider de n'afficher que les informations les plus importantes, commes les alertes et les flashs, ou les topshots pour les photos.","date-picker":"Les articles sont classs du plus rcent au plus ancien, et dfilent  l'infini. <p><small>Slectionnez une date ici si vous souhaitez recherche jusqu' une date particulire.</small></p>",new:"Cliquez ici pour ajouter une nouvelle colonne de contenus, et faire de nouvelles recherches.","auto-refresh":"Contrlez ici la mise  jour automatique des articles.",authenticate:"Authentifiez-vous avec vos identifiants AFP pour accder  tous les contenus, y compris les plus rcents."},"browser-warning":{title:"Attention",description:"Votre navigateur est incompatible avec certaines fonctionnalits de cette application. Essayez d'utiliser un navigateur plus moderne pour une exprience optimale.","unsupported-features":"Fonctionnalits non supportes"}}},f8dc:function(e,t,n){},f9de:function(e,t,n){"use strict";var r=n("9bd1"),o=n.n(r);o.a},fca5:function(e,t,n){var r={"./en":"edd4","./en.json":"edd4","./fr":"f693","./fr.json":"f693"};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="fca5"},fe42:function(e,t,n){}});
//# sourceMappingURL=app-legacy.05bea0d5.js.map