(function(e){function t(t){for(var r,o,u=t[0],l=t[1],d=t[2],p=t[3]||[],f=0,h=[];f<u.length;f++)o=u[f],a[o]&&h.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t),p.forEach(function(e){if(void 0===a[e]){a[e]=null;var t=document.createElement("link");c.nc&&t.setAttribute("nonce",c.nc),t.rel="prefetch",t.as="script",t.href=s(e),document.head.appendChild(t)}});while(h.length)h.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({about:"about",login:"login",viewer:"viewer"}[e]||e)+"-legacy."+{about:"1fa126f8",login:"a427d4c1",viewer:"b542e8ef"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={about:1,login:1,viewer:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({about:"about",login:"login",viewer:"viewer"}[e]||e)+"."+{about:"2c211d5a",login:"0f3c4fc2",viewer:"2c4e95ef"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],m.parentNode.removeChild(m),n(i)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e),u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");i.type=r,i.request=o,n[1](i)}a[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;t([[],{},0,["about","login","viewer"]]),i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"01f1":function(e,t,n){},"0613":function(e,t,n){"use strict";n("ac6a"),n("5df3"),n("96cf");var r=n("3b8d"),o=n("2b0e"),a=n("2f62"),i=(n("f400"),n("d225")),s=function e(){Object(i["a"])(this,e),this.columns=[],this.documents=new Map,this.authType="unknown",this.isOnline=!0,this.displayInstallApp=!1,this.locale="fr"===Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_LOCALE?"fr":"en"},c=(n("8e6e"),n("456d"),n("bd86"));n("20d6"),n("6762"),n("2fdb");function u(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var l={getDocumentById:function(e){return function(t){return e.documents.get(t)}},getColumnByIndex:function(e){return function(t){return e.columns[t]}},getDocumentsIdsByColumnId:function(e,t){return function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.getColumnByIndex(e).documentsIds.filter(function(e){return n||!e.includes("documents-gap")})}},getDocumentsByColumnId:function(e,t){return function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.getDocumentsIdsByColumnId(e,n).map(function(e){return t.getDocumentById(e)})}},isAnonymous:function(e){return"anonymous"===e.authType},isAuthenticated:function(e){return"credentials"===e.authType},getPreviousDocumentIdInColById:function(e,t){return function(e,n){var r=t.getDocumentsByColumnId(e,!1),o=r.findIndex(function(e){return e.uno===n}),a=r[o+1];return a&&a.uno||!1}},getNextDocumentIdInColById:function(e,t){return function(e,n){var r=t.getDocumentsByColumnId(e,!1),o=r.findIndex(function(e){return e.uno===n}),a=r[o-1];return a&&a.uno||!1}},getFirstDocumentInCol:function(e,t){return function(e){var n=t.getDocumentsIdsByColumnId(e,!1)[0];return t.getDocumentById(n)}},getLastDocumentInCol:function(e,t){return function(e){var n=t.getDocumentsIdsByColumnId(e,!1).pop();return t.getDocumentById(n)}},getRefreshParamsByMode:function(e,t){return function(e,n){switch(n){case"reset":return t.getColumnByIndex(e).params;case"before":var r=t.getLastDocumentInCol(e),o=new Date(r.published);return o.setSeconds(o.getSeconds()-1),u({},t.getColumnByIndex(e).params,{dateTo:o.toISOString()});case"after":var a=t.getFirstDocumentInCol(e),i=new Date(a.published);return i.setSeconds(i.getSeconds()+1),u({},t.getColumnByIndex(e).params,{dateFrom:i.toISOString()});default:throw new Error("Invalid mode")}}}},d=(n("4f7f"),n("75fc")),m=(n("55dd"),n("7514"),n("90a2")),p=n.n(m),f=new p.a({customAuthUrl:"https://3o3qoiah2e.execute-api.eu-central-1.amazonaws.com/afpdeck",saveToken:function(e){e&&q.commit("setToken",e)}}),h=f,g=n("c64e"),b=n.n(g),v=n("b0b4");function y(e){if(void 0!==e){var t=new Date(e);return t instanceof Date&&!isNaN(t.valueOf())?t:void 0}}var w=function(){function e(t){Object(i["a"])(this,e),this.docSource=t}return Object(v["a"])(e,[{key:"toObject",value:function(){return{uno:this.docSource.uno,headline:this.headline,published:this.published,embargoed:this.embargoed,lang:this.docSource.lang,product:this.docSource.product,urgency:this.docSource.urgency,news:this.docSource.news,slugs:this.docSource.slug,medias:this.medias,iptc:this.docSource.iptc,source:this.docSource.source,creator:this.docSource.creator,provider:this.docSource.provider,city:this.docSource.city,country:this.docSource.country,advisory:this.docSource.advisory,status:this.docSource.status,summary:this.docSource.summary,genre:this.docSource.genre}}},{key:"headline",get:function(){var e=this.docSource.headline||this.docSource.title||this.docSource.news;return Array.isArray(e)?e.join(" - "):e}},{key:"embargoed",get:function(){return y(this.docSource.embargoed)}},{key:"published",get:function(){var e=y(this.docSource.published);if(!e)throw new Error("Doc ".concat(this.docSource.uno," doesn't contain a valid published date"));return e}},{key:"medias",get:function(){var e=this.docSource.bagItem;if(!e)return[];var t,n=this.docSource.entity_faces,r=e[0].medias.find(function(e){return"HighDef"===e.role});if(n&&n[0]&&r){var o=n[0].faces[0].offsetY;t=o/r.height}return e.map(function(e){return{sizes:e.medias.sort(function(e,t){return e.width-t.width}),creator:e.creator,provider:e.provider,caption:e.caption,source:e.source,uno:e.uno,faceYOffsetPercent:t}})}}]),e}(),C={addColumn:function(e,t){var n={id:b()(),params:Object.assign({},h.defaultSearchParams,{products:[],size:10}),documentsIds:[]};t&&t.params&&(t.params=Object.assign(n.params,t.params));var r=Object.assign({},n,t);e.columns.find(function(e){return e.id===r.id})||e.columns.push(r)},moveColumn:function(e,t){var n=t.indexCol,r=t.dir,o=e.columns.map(function(e){return e.id}),a="left"===r?n-1:n+1,i=o[n];o.splice(n,1),o.splice(a,0,i),e.columns.sort(function(e,t){return o.indexOf(e.id)-o.indexOf(t.id)})},closeColumn:function(e,t){var n=t.indexCol;e.columns=e.columns.filter(function(e,t){return t!==n})},resetColumn:function(e,t){var n=t.indexCol;e.columns[n].documentsIds=[]},updateColumnParams:function(e,t){var n=t.indexCol,r=t.params;e.columns[n].params=r},setToken:function(e,t){e.authType=t.authType},unsetToken:function(e){e.authType="unknown"},addDocuments:function(e,t){t.map(function(e){return new w(e).toObject()}).forEach(function(t){return e.documents.set(t.uno,t)})},clearDocuments:function(e){e.columns.forEach(function(e){e.documentsIds=[]}),e.documents.clear()},prependDocumentsIdsToCol:function(e,t){var n=t.indexCol,r=t.documentsIds,o=e.columns[n].documentsIds,a=o.findIndex(function(e){return!e.includes("documents-gap")});a>0&&o.splice(0,a),e.columns[n].documentsIds=Object(d["a"])(new Set(r.concat(o)))},appendDocumentsIdsToCol:function(e,t){var n=t.indexCol,r=t.documentsIds,o=e.columns[n].documentsIds;e.columns[n].documentsIds=Object(d["a"])(new Set(o.concat(r)))},setConnectivityStatus:function(e,t){e.isOnline=t},setLocale:function(e,t){e.locale=t},resetState:function(e){Object.assign(e,new s)},displayInstallApp:function(e,t){e.displayInstallApp=t}},O=(n("386d"),n("fe0b")),k=n("70cb"),x={changeLocale:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(O["b"])(n);case 3:Object(k["a"])(n),r("setLocale",n);case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit,n=e.dispatch;return t("unsetToken"),t("clearDocuments"),n("refreshAllColumns")},authenticate:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,s,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=c.length>1&&void 0!==c[1]?c[1]:{},i=a.username,s=a.password,e.prev=2,e.next=5,h.authenticate({username:i,password:s});case 5:n("clearDocuments"),r("refreshAllColumns",{mode:"reset"}),e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](2),o["default"].toasted.global.apiError(e.t0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[2,9]])}));function t(t){return e.apply(this,arguments)}return t}(),searchDocuments:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,e.prev=1,o("wait/start","documents.search",{root:!0}),e.next=5,h.search(n);case 5:if(a=e.sent,i=a.documents,i){e.next=9;break}return e.abrupt("return",[]);case 9:return r("addDocuments",i),e.abrupt("return",i.map(function(e){return new w(e).toObject()}));case 11:return e.prev=11,o("wait/end","documents.search",{root:!0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,,11,14]])}));function t(t,n){return e.apply(this,arguments)}return t}(),refreshColumn:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s,c,u,l,d,m,p,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.state,o=t.commit,a=t.dispatch,i=t.getters,s=t.rootGetters,c=n.indexCol,u=n.mode,!s["wait/is"]("column.refreshing.".concat(r.columns[c].id))){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,"reset"===u?o("resetColumn",{indexCol:c}):0===i.getDocumentsIdsByColumnId(c,!1).length&&(u="reset"),l=i.getRefreshParamsByMode(c,u),a("wait/start","column.refreshing.".concat(r.columns[c].id),{root:!0}),e.next=10,h.search(l);case 10:if(d=e.sent,m=d.documents,p=d.count,m&&0!==m.length){e.next=15;break}return e.abrupt("return",!1);case 15:o("addDocuments",m),f=m.map(function(e){return e.uno}),e.t0=u,e.next="reset"===e.t0?20:"before"===e.t0?20:"after"===e.t0?22:25;break;case 20:return o("appendDocumentsIdsToCol",{indexCol:c,documentsIds:f}),e.abrupt("break",25);case 22:return p>m.length&&f.push("documents-gap|".concat(+new Date,"|").concat(p-m.length)),o("prependDocumentsIdsToCol",{indexCol:c,documentsIds:f}),e.abrupt("break",25);case 25:return e.abrupt("return",!0);case 26:return e.prev=26,a("wait/end","column.refreshing.".concat(r.columns[c].id),{root:!0}),e.finish(26);case 29:case"end":return e.stop()}},e,null,[[4,,26,29]])}));function t(t,n){return e.apply(this,arguments)}return t}(),refreshAllColumns:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,s,c,u=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=t.dispatch,a=t.rootGetters,i=u.length>1&&void 0!==u[1]?u[1]:{},s=i.mode,c=void 0===s?"after":s,!a["wait/is"]("column.refreshing.all")){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,r("wait/start","column.refreshing.all",{root:!0}),e.next=8,Promise.all(n.columns.map(function(e,t){return r("refreshColumn",{indexCol:t,mode:c})}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),o["default"].toasted.global.apiError(e.t0);case 13:return e.prev=13,r("wait/end","column.refreshing.all",{root:!0}),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[4,10,13,16]])}));function t(t){return e.apply(this,arguments)}return t}(),getDocument:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,h.get(n);case 4:a=e.sent,i=a.document,r("addDocuments",[i]),e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](1),o["default"].toasted.global.apiError(e.t0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,n){return e.apply(this,arguments)}return t}()},A=x,P=n("a002"),I=n.n(P),S=(n("f79f"),n("a98c"),{columns:"afpnews-deck-columns",token:"afpnews-deck-token",client:"afpnews-deck-client",clientId:"afpnews-deck-client-id",clientSecret:"afpnews-deck-client-secret",autoRefresh:"afpnews-deck-auto-refresh",locale:"afpnews-deck-locale"}),j=I.a.createInstance({name:"userStore"}),T=I.a.createInstance({name:"documentsStore"}),D=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.getItem(S.token);case 2:n=e.sent,n&&(h.token=n,t.commit("setToken",n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(e){e.subscribe(function(e,t){var n=e.type,r=e.payload;switch(n){case"setToken":"credentials"===r.authType?j.setItem(S.token,r):j.removeItem(S.token);break;case"unsetToken":h.resetToken(),j.removeItem(S.token);break;default:}})},R=(n("8615"),n("768b"));function E(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var $=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([S.locale,S.columns].map(function(e){return j.getItem(e)}));case 2:if(n=e.sent,r=Object(R["a"])(n,2),o=r[0],a=r[1],null===o||t.state.locale===o){e.next=9;break}return e.next=9,t.dispatch("changeLocale",o);case 9:return e.next=11,T.getItems();case 11:i=e.sent,t.commit("addDocuments",Object.values(i)),Array.isArray(a)&&a.length>0?a.forEach(function(e){return t.commit("addColumn",E({},e,{documentsIds:e.documentsIds.filter(function(e){return e.includes("documents-gap")||i[e]})}))}):t.commit("addColumn");case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(e){e.subscribe(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n,r){var o,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=n.type,a=n.payload,t.t0=o,t.next="setLocale"===t.t0?4:"addColumn"===t.t0?6:"moveColumn"===t.t0?6:"updateColumnParams"===t.t0?6:"appendDocumentsIdsToCol"===t.t0?6:"prependDocumentsIdsToCol"===t.t0?6:"closeColumn"===t.t0?8:"resetColumn"===t.t0?8:"resetState"===t.t0?16:"clearDocuments"===t.t0?20:"addDocuments"===t.t0?23:25;break;case 4:return j.setItem(S.locale,a),t.abrupt("break",25);case 6:return j.setItem(S.columns,r.columns),t.abrupt("break",25);case 8:return i=[],i.concat.apply([],r.columns.map(function(e){return e.documentsIds})),t.next=12,T.keys();case 12:return s=t.sent,s.filter(function(e){return!i.includes(e)}).forEach(function(e){return T.removeItem(e)}),j.setItem(S.columns,r.columns),t.abrupt("break",25);case 16:return j.clear(),T.clear(),e.commit("addColumn"),t.abrupt("break",25);case 20:return T.clear(),j.setItem(S.columns,r.columns),t.abrupt("break",25);case 23:return T.setItems(a.map(function(e){return{key:e.uno,value:e}})),t.abrupt("break",25);case 25:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},B=function(e){e.subscribe(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.type,e.t0=r,e.next="addColumn"===e.t0?4:9;break;case 4:return e.next=6,o["default"].nextTick();case 6:return a=document.querySelector(".column:last-of-type"),a&&a.scrollIntoView({behavior:"smooth",block:"center"}),e.abrupt("break",9);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())};n.d(t,"b",function(){return F}),o["default"].use(a["b"]);var z=new a["a"]({state:new s,getters:l,mutations:C,actions:A,modules:{},plugins:[_,L,B],strict:!1}),q=t["a"]=z,F=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([D(z),$(z)]);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},"13a5":function(e,t,n){"use strict";var r=n("1472"),o=n.n(r);o.a},1472:function(e,t,n){},"190c":function(e,t,n){},"39c3":function(e,t,n){var r={"./en.json":["edd4"],"./fr.json":["f693"]};function o(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){var e=t[0];return n.t(e,3)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}o.keys=function(){return Object.keys(r)},o.id="39c3",e.exports=o},"3db3":function(e,t,n){"use strict";var r=n("544f"),o=n.n(r);o.a},"449d":function(e,t,n){},"544f":function(e,t,n){},5602:function(e,t,n){},"56c5":function(e,t,n){},"60fc":function(e,t,n){"use strict";var r=n("d3ba"),o=n.n(r);o.a},"6d95":function(e,t,n){"use strict";var r=n("56c5"),o=n.n(r);o.a},"70cb":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("2b0e"),o=n("5a0c"),a=n.n(o),i=n("4208"),s=n.n(i);n("e5b7");a.a.extend(s.a);var c={install:function(e){e.filter("fromNow",function(e,t){return a()(e).from(a()(t))})}};function u(e){a.a.locale(e)}r["default"].use(c)},a90f:function(e,t,n){"use strict";var r=n("190c"),o=n.n(r);o.a},aa90:function(e,t){(function(t){var n="Modernizr"in t,r=t.Modernizr;!function(e,t,n){function r(e,t){return typeof e===t}function o(e){var t=A.className,n=k._config.classPrefix||"";if(P&&(t=t.baseVal),k._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}k._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),P?A.className.baseVal=t:A.className=t)}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):P?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function i(e,t){return!!~(""+e).indexOf(t)}function s(){var e=t.body;return e||(e=a(P?"svg":"body"),e.fake=!0),e}function c(e,n,r,o){var i,c,u,l,d="modernizr",m=a("div"),p=s();if(parseInt(r,10))for(;r--;)u=a("div"),u.id=o?o[r]:d+(r+1),m.appendChild(u);return i=a("style"),i.type="text/css",i.id="s"+d,(p.fake?p:m).appendChild(i),p.appendChild(m),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),m.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",l=A.style.overflow,A.style.overflow="hidden",A.appendChild(p)),c=n(m,e),p.fake?(p.parentNode.removeChild(p),A.style.overflow=l,A.offsetHeight):m.parentNode.removeChild(m),!!c}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function l(t,n,r){var o;if("getComputedStyle"in e){o=getComputedStyle.call(e,t,n);var a=e.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(a){var i=a.error?"error":"log";a[i].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else o=!n&&t.currentStyle&&t.currentStyle[r];return o}function d(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(u(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];o--;)a.push("("+u(t[o])+":"+r+")");return a=a.join(" or "),c("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"===l(e,null,"position")})}return n}function m(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function p(e,t,o,s){function c(){l&&(delete T.style,delete T.modElem)}if(s=!r(s,"undefined")&&s,!r(o,"undefined")){var u=d(e,o);if(!r(u,"undefined"))return u}for(var l,p,f,h,g,b=["modernizr","tspan","samp"];!T.style&&b.length;)l=!0,T.modElem=a(b.shift()),T.style=T.modElem.style;for(f=e.length,p=0;p<f;p++)if(h=e[p],g=T.style[h],i(h,"-")&&(h=m(h)),T.style[h]!==n){if(s||r(o,"undefined"))return c(),"pfx"!==t||h;try{T.style[h]=o}catch(e){}if(T.style[h]!==g)return c(),"pfx"!==t||h}return c(),!1}function f(e,t){return function(){return e.apply(t,arguments)}}function h(e,t,n){var o;for(var a in e)if(e[a]in t)return!1===n?e[a]:(o=t[e[a]],r(o,"function")?f(o,n||t):o);return!1}function g(e,t,n,o,a){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+S.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?p(s,t,o,a):(s=(e+" "+D.join(i+" ")+i).split(" "),h(s,t,n))}function b(e,t,r){return g(e,n,n,t,r)}function v(e,t){return e-1===t||e===t||e+1===t}function y(e,t){if("object"==typeof e)for(var n in e)L(e,n)&&y(n,e[n]);else{e=e.toLowerCase();var r=e.split("."),a=k[r[0]];if(2===r.length&&(a=a[r[1]]),void 0!==a)return k;t="function"==typeof t?t():t,1===r.length?k[r[0]]=t:(!k[r[0]]||k[r[0]]instanceof Boolean||(k[r[0]]=new Boolean(k[r[0]])),k[r[0]][r[1]]=t),o([(t&&!1!==t?"":"no-")+r.join("-")]),k._trigger(e,t)}return k}function w(e,t){var n=e.deleteDatabase(t);n.onsuccess=function(){y("indexeddb.deletedatabase",!0)},n.onerror=function(){y("indexeddb.deletedatabase",!1)}}var C=[],O={_version:"3.7.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){C.push({name:e,fn:t,options:n})},addAsyncTest:function(e){C.push({name:null,fn:e})}},k=function(){};k.prototype=O,k=new k;var x=[],A=t.documentElement,P="svg"===A.nodeName.toLowerCase();k.addTest("bgpositionshorthand",function(){var e=a("a"),t=e.style,n="right 10px bottom 10px";return t.cssText="background-position: "+n+";",t.backgroundPosition===n});var I="Moz O ms Webkit",S=O._config.usePrefixes?I.split(" "):[];O._cssomPrefixes=S;var j={elem:a("modernizr")};k._q.push(function(){delete j.elem});var T={style:j.elem.style};k._q.unshift(function(){delete T.style});var D=O._config.usePrefixes?I.toLowerCase().split(" "):[];O._domPrefixes=D,O.testAllProps=g,O.testAllProps=b,k.addTest("bgpositionxy",function(){return b("backgroundPositionX","3px",!0)&&b("backgroundPositionY","5px",!0)}),k.addTest("bgrepeatround",b("backgroundRepeat","round")),k.addTest("bgrepeatspace",b("backgroundRepeat","space")),k.addTest("backgroundsize",b("backgroundSize","100%",!0)),k.addTest("bgsizecover",b("backgroundSize","cover")),k.addTest("borderradius",b("borderRadius","0px",!0)),k.addTest("boxshadow",b("boxShadow","1px 1px",!0)),k.addTest("boxsizing",b("boxSizing","border-box",!0)&&(t.documentMode===n||t.documentMode>7)),k.addTest("flexbox",b("flexBasis","1px",!0));var _=O.testStyles=c;!function(){var e=navigator.userAgent,t=e.match(/w(eb)?osbrowser/gi),n=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return t||n}()?_('@font-face {font-family:"font";src:url("https://")}',function(e,n){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"",i=/src/i.test(a)&&0===a.indexOf(n.split(" ")[0]);k.addTest("fontface",i)}):k.addTest("fontface",!1);var R=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return c("@media "+t+" { #modernizr { position: absolute; } }",function(t){n="absolute"===(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position}),n}}();O.mq=R,k.addTest("mediaqueries",R("only all"));var E=O._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];O._prefixes=E,k.addTest("opacity",function(){var e=a("a").style;return e.cssText=E.join("opacity:.55;"),/^0.55$/.test(e.opacity)}),k.addTest("csspointerevents",function(){var e=a("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),k.addTest("rgba",function(){var e=a("a").style;return e.cssText="background-color:rgba(150,255,150,.5)",(""+e.backgroundColor).indexOf("rgba")>-1});var $=O.testProp=function(e,t,r){return p([e],n,t,r)};k.addTest("textshadow",$("textShadow","1px 1px")),k.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&b("transform","scale(1)",!0)});var L,B="CSS"in e&&"supports"in e.CSS,z="supportsCSS"in e;k.addTest("supports",B||z),k.addTest("csstransforms3d",function(){return!!b("perspective","1px",!0)}),k.addTest("csstransitions",b("transition","all",!0)),_("#modernizr { width: 50vw; }",function(t){var n=parseInt(e.innerWidth/2,10),r=parseInt(l(t,null,"width"),10);k.addTest("cssvwunit",v(r,n))}),k.addTest("willchange","willChange"in A.style),function(){var e={}.hasOwnProperty;L=r(e,"undefined")||r(e.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),O._l={},O.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),k.hasOwnProperty(e)&&setTimeout(function(){k._trigger(e,k[e])},0)},O._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},k._q.push(function(){O.addTest=y}),k.addAsyncTest(function(){var e,t,n,r=a("img"),o="sizes"in r;!o&&"srcset"in r?(t="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=function(){y("sizes",2===r.width)},r.onload=n,r.onerror=n,r.setAttribute("sizes","9px"),r.srcset=e+" 1w,"+t+" 8w",r.src=e):y("sizes",o)}),k.addTest("srcset","srcset"in a("img"));var q=function(t){var r,o=E.length,a=e.CSSRule;if(void 0===a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),(r=t.replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var i=0;i<o;i++){var s=E[i];if(s.toUpperCase()+"_"+r in a)return"@-"+s.toLowerCase()+"-"+t}return!1};O.atRule=q;var F=O.prefixed=function(e,t,n){return 0===e.indexOf("@")?q(e):(-1!==e.indexOf("-")&&(e=m(e)),t?g(e,t,n):g(e,"pfx"))};k.addAsyncTest(function(){var t;try{t=F("indexedDB",e)}catch(e){}if(t){var n,r="modernizr-"+Math.random();try{n=t.open(r)}catch(e){return void y("indexeddb",!1)}n.onerror=function(e){!n.error||"InvalidStateError"!==n.error.name&&"UnknownError"!==n.error.name?(y("indexeddb",!0),w(t,r)):(y("indexeddb",!1),e.preventDefault())},n.onsuccess=function(){y("indexeddb",!0),w(t,r)}}else y("indexeddb",!1)}),k.addTest("pagevisibility",!!F("hidden",t,!1)),k.addTest("serviceworker","serviceWorker"in navigator),k.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),function(){var e,t,n,o,a,i,s;for(var c in C)if(C.hasOwnProperty(c)){if(e=[],t=C[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?k[s[0]]=o:(!k[s[0]]||k[s[0]]instanceof Boolean||(k[s[0]]=new Boolean(k[s[0]])),k[s[0]][s[1]]=o),x.push((o?"":"no-")+s.join("-"))}}(),o(x),delete O.addTest,delete O.addAsyncTest;for(var M=0;M<k._q.length;M++)k._q[M]();e.Modernizr=k}(t,document),e.exports=t.Modernizr,n?t.Modernizr=r:delete t.Modernizr})(window)},ae8d:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.doc?n("router-link",{staticClass:"article",class:{flash:1===e.doc.urgency,alerte:"photo"!==e.doc.product&&2===e.doc.urgency,urgent:"photo"!==e.doc.product&&3===e.doc.urgency,photo:"photo"===e.doc.product,canceled:"Canceled"===e.doc.status},attrs:{lang:e.doc.lang,dir:"ar"===e.doc.lang?"rtl":"ltr",to:{name:"document",params:{indexCol:e.indexCol,docId:e.docId}}}},[e.doc.medias.length>0&&e.doc.medias[0].sizes.some(function(e){return"Preview"===e.role})?n("div",{staticClass:"img-container",style:{backgroundImage:"url("+e.doc.medias[0].sizes.find(function(e){return"Preview"===e.role}).href+")",backgroundPosition:e.doc.medias[0].faceYOffsetPercent?"0px "+100*e.doc.medias[0].faceYOffsetPercent+"%":null}},[["sidtv","parismode","afptvweb","afptv1st","videographie"].includes(e.doc.product)?n("i",{staticClass:"UI-icon UI-play-video"}):e._e()]):e._e(),n("div",{staticClass:"cols"},[e.doc.embargoed&&e.doc.embargoed>new Date?n("p",{key:"date-"+e.locale,staticClass:"date embargo"},[e._v("\n      Embargo : "+e._s(e._f("fromNow")(e.doc.embargoed,e.$root.$now))+"\n    ")]):n("p",{key:"date-"+e.locale,staticClass:"date"},[e._v("\n      "+e._s(e._f("fromNow")(e.doc.published,e.$root.$now))+"\n    ")]),"photo"===e.doc.product&&1===e.doc.urgency?n("p",{staticClass:"genre"},[e._v("\n      Topshot\n    ")]):e.doc.genre?n("p",{staticClass:"genre"},[e._v("\n      "+e._s(e.$t("genres."+e.doc.genre))+"\n    ")]):e._e()]),"photo"!==e.doc.product?n("h2",[e._v("\n    "+e._s(e.doc.headline)+"\n  ")]):e._e(),["news","multimedia"].includes(e.doc.product)&&e.doc.urgency>2&&e.doc.news&&e.doc.news[0]&&"Usable"===e.doc.status?n("p",{staticClass:"lead"},[e._v("\n    "+e._s(e.doc.news[0].substr(0,100)+"...")+"\n  ")]):e._e()]):e._e()},o=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),i=(n("c5f6"),n("2f62"));function s(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(a["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var c={name:"Card",props:{docId:{type:String,required:!0},indexCol:{type:Number,required:!1,default:null}},computed:s({},Object(i["f"])(["locale"]),{},Object(i["d"])(["getDocumentById"]),{doc:function(){return this.getDocumentById(this.docId)}})},u=c,l=(n("3db3"),n("2877")),d=Object(l["a"])(u,r,o,!1,null,"948d76f0",null);t["a"]=d.exports},b258:function(e,t,n){},b814:function(e,t,n){"use strict";var r,o=n("0613"),a=n("0284");window.addEventListener("beforeinstallprompt",function(e){r=e,o["a"].commit("displayInstallApp",!0),r.userChoice.then(function(e){var t=e.outcome;"accepted"===t&&o["a"].commit("displayInstallApp",!1),Object(a["event"])("pwa","installation",t)})}),window.addEventListener("appinstalled",function(e){Object(a["event"])("pwa","installation","installed")}),t["a"]=function(){r.prompt()}},cd49:function(e,t,n){"use strict";n.r(t);n("a481"),n("7f7f"),n("96cf");var r=n("3b8d"),o=(n("14c6"),n("08c1"),n("4842"),n("d9fc"),n("2b0e")),a=(n("eb2f"),n("58ca"));o["default"].use(a["a"]);var i=n("a65d"),s=n.n(i),c=n("0613");o["default"].use(s.a),o["default"].toasted.register("error",function(e){return console.error(e),e.message?"Oops.. ".concat(e.message):"Oops.. Something went wrong.."},{type:"error",position:"bottom-center",duration:1500,singleton:!0}),o["default"].toasted.register("warn",function(e){return console.warn(e),"Oops.. ".concat(e)},{type:"error",position:"bottom-center",duration:1500,singleton:!0}),o["default"].toasted.register("apiError",function(e){return 401===e.code?c["a"].dispatch("logout"):console.error(e),e.message?"Oops.. ".concat(e.message):"Oops.. Something went wrong with the API.."},{type:"error",position:"bottom-center",duration:1e3,singleton:!0});var u=n("0284"),l=n.n(u),d=(n("28a5"),n("6b54"),n("6762"),n("2fdb"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("transition-group",{attrs:{id:"columns",name:"list",tag:"div"}},[e._l(e.columns,function(e,t){return n("column",{key:"column-"+e.id,attrs:{"column-id":t}})}),n("add-column",{key:"add-column"})],2),n("side-bar"),n("router-view")],1)},p=[],f=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"column"},[n("header",[e.paramsOpen?n("div",{staticClass:"actions"},[n("button",{staticClass:"btn btn-icon",attrs:{name:"move-left","aria-label":"Move column to left"},on:{click:function(t){return e.move("left")}}},[n("i",{staticClass:"UI-icon UI-navigate-left"})]),n("button",{staticClass:"btn btn-icon margin-right-auto",attrs:{name:"move-right","aria-label":"Move column to right"},on:{click:function(t){return e.move("right")}}},[n("i",{staticClass:"UI-icon UI-navigate-right"})]),n("button",{staticClass:"btn btn-icon",attrs:{name:"close-params","aria-label":"Close column params"},on:{click:function(t){e.paramsOpen=!1}}},[n("i",{staticClass:"UI-icon UI-collapse"})])]):e._e(),n("div",{staticClass:"form-group inpt-icon"},[n("input",{ref:"search",staticClass:"search inpt inpt-large",attrs:{placeholder:e.$t("column.search"),"aria-label":e.$t("column.search"),type:!0===e.paramsOpen?"search":"text",autocomplete:"off",name:"query"},on:{change:e.onQueryChange,focus:e.onQueryFocus}}),!1===e.paramsOpen?n("button",{staticClass:"btn btn-icon",attrs:{name:"expand","aria-label":"Open column params"},on:{click:e.openParams}},[n("i",{staticClass:"UI-icon UI-expand icon-small"})]):e._e()]),n("transition-group",{staticClass:"form",attrs:{name:"curtain",tabindex:"-1",tag:"div"}},[e.paramsOpen?n("select",{directives:[{name:"model",rawName:"v-model",value:e.product,expression:"product"}],key:"product",staticClass:"slct slct-large",attrs:{name:"product","aria-label":"Select a product"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.product=t.target.multiple?n:n[0]}}},e._l(e.products,function(t){var r=t.label,o=t.value,a=t.disabled;return n("option",{key:o.join("|"),attrs:{disabled:a},domProps:{value:o}},[e._v("\n          "+e._s(r)+"\n        ")])}),0):e._e(),e.paramsOpen?n("select",{directives:[{name:"show",rawName:"v-show",value:e.languages.length>1,expression:"languages.length > 1"},{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],key:"lang",staticClass:"slct slct-large",attrs:{name:"lang","aria-label":"Select a language"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.lang=t.target.multiple?n:n[0]}}},e._l(e.languages,function(t){var r=t.label,o=t.value,a=t.disabled;return n("option",{key:o.join("|"),attrs:{disabled:a},domProps:{value:o}},[e._v("\n          "+e._s(r)+"\n        ")])}),0):e._e(),e.paramsOpen?n("select",{directives:[{name:"show",rawName:"v-show",value:e.urgencies.length>1,expression:"urgencies.length > 1"},{name:"model",rawName:"v-model",value:e.urgency,expression:"urgency"}],key:"urgency",staticClass:"slct slct-large",attrs:{name:"urgency","aria-label":"Select an urgency"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.urgency=t.target.multiple?n:n[0]}}},e._l(e.urgencies,function(t){var r=t.label,o=t.value,a=t.disabled;return n("option",{key:o.join("|"),attrs:{disabled:a},domProps:{value:o}},[e._v("\n          "+e._s(r)+"\n        ")])}),0):e._e(),e.paramsOpen?n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateTo,expression:"dateTo"}],key:"datepicker",staticClass:"inpt inpt-large",attrs:{placeholder:e.$t("column.until"),type:"date","aria-label":"Select a date",name:"date-picker"},domProps:{value:e.dateTo},on:{input:function(t){t.target.composing||(e.dateTo=t.target.value)}}}):e._e(),e.paramsOpen?n("button",{key:"close",staticClass:"btn btn-large danger",attrs:{name:"close","aria-label":"Delete the column"},on:{click:e.close}},[e._v("\n        "+e._s(e.$t("column.delete"))+"\n      ")]):e._e()])],1),n("recyclist",{ref:"recyclist",staticClass:"documents",attrs:{list:e.documents,size:10,offset:200,"is-loading":e.$wait.is("column.refreshing."+e.column.id),"no-more":e.noMore},on:{"load-top":e.loadAfter,"load-bottom":e.loadBefore},scopedSlots:e._u([{key:"tombstone",fn:function(){return[n("content-placeholders",{staticClass:"tombstone",attrs:{animated:!0,rounded:!0,centered:!1}},[n("content-placeholders-heading",{attrs:{img:!1}}),n("content-placeholders-img"),n("content-placeholders-text",{attrs:{lines:2}})],1)]},proxy:!0},{key:"item",fn:function(t){var r=t.data;return[r.includes("documents-gap")?n("div",{staticClass:"documents-gap"},[n("p",[e._v("\n          "+e._s(e.$tc("column.documents-gap",parseInt(r.split("|")[2]),{count:parseInt(r.split("|")[2])}))+"\n          "),n("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){return e.reset(t)}}},[e._v("\n            "+e._s(e.$t("column.refresh"))+"\n          ")])],1)]):n("card",{attrs:{"doc-id":r,"index-col":e.columnId}})]}},{key:"nomore",fn:function(){return[n("span",[e._v(e._s(e.$t("column.no-result")))])]},proxy:!0}])})],1)},g=[],b=(n("386d"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-recyclist"},[n("div",{ref:"list",staticClass:"vue-recyclist-items",style:{height:e.height+"px"}},[e._l(e.visibleItems,function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.height>0,expression:"height > 0"}],key:r,staticClass:"vue-recyclist-item",style:{transform:"translate3d(0,"+t.top+"px,0)"}},[t.data?e._t("item",null,{data:t.data}):e._t("tombstone")],2)}),n("div",{staticClass:"vue-recyclist-pool"},[e._l(e.poolItems,function(t,r){return n("div",{key:r,ref:t.data,refInFor:!0,staticClass:"vue-recyclist-item"},[e._t("item",null,{data:t.data})],2)}),0===e.tombHeight?n("div",{ref:"tomb",staticClass:"vue-recyclist-item"},[e._t("tombstone")],2):e._e()],2)],2),!e.isLoading&&e.noMore?n("div",{staticClass:"vue-recyclist-nomore"},[e._t("nomore",[n("div",[e._v("End of list")])])],2):e._e()])}),v=[],y=n("768b"),w=(n("5df3"),n("0342")),C=n.n(w),O=[new C.a("Poppins",{weight:400,style:"normal",stretch:"normal"}),new C.a("Poppins",{weight:600,style:"normal",stretch:"normal"})],k=function(){return Promise.all(O.map(function(e){return e.load()}))},x={name:"Recyclist",props:{list:{type:Array,required:!0},size:{type:Number,default:20},offset:{type:Number,default:200},isLoading:{type:Boolean,default:!1},noMore:{type:Boolean,default:!1}},data:function(){return{items:[],height:0,start:0,containerHeight:0,tombHeight:0}},computed:{visibleItems:function(){return this.items.slice(Math.max(0,this.start-this.size),Math.min(this.items.length,this.start+this.size))},poolItems:function(){return this.items.filter(function(e){return e.data&&!1===e.gotHeight})}},watch:{start:function(e,t){0===e&&t>e&&this.$emit("loadTop")},list:function(){this.loadList()},noMore:function(e){!0===e&&(this.items=this.items.filter(function(e){return e.data}),this.updateItemTop())}},mounted:function(){this.$el.addEventListener("scroll",this.onScroll,{capture:!0,passive:!0}),this.tombHeight=this.$refs.tomb&&this.$refs.tomb.offsetHeight,this.containerHeight=this.$el&&this.$el.offsetHeight,this.list.length>0?(this.loadList(),this.list.length<this.size&&this.loadMoreItems()):this.loadMoreItems()},destroyed:function(){this.$el.removeEventListener("scroll",this.onScroll)},methods:{reset:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.items=[],this.height=this.start=this.$el.scrollTop=0,e.next=4,this.$nextTick();case 4:this.loadMoreItems();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.items=this.list.map(this.renderItem),e.next=3,k();case 3:return e.next=5,this.$nextTick();case 5:for(t=0;t<this.items.length;t++)this.updateItemHeight(t);this.updateItemTop();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadMoreItems:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.noMore){e.next=2;break}return e.abrupt("return",!1);case 2:for(t=this.items.length+this.size,n=this.items.length;n<t;n++)this.setItem(n,null);this.updateItemTop(),this.$emit("load-bottom");case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setItem:function(e,t){this.$set(this.items,e,this.renderItem(t))},renderItem:function(e){return{data:e,top:0,height:this.tombHeight,gotHeight:!1}},updateItemTop:function(){this.height=0;for(var e=0;e<this.items.length;e++){var t=this.items[e-1];this.$set(this.items[e],"top",t?t.top+t.height:0),this.height+=this.items[e].height}this.updateIndex()},updateIndex:function(){for(var e=this.$el.scrollTop,t=0;t<this.items.length;t++)if(this.items[t].top>e){this.start=Math.max(0,t-1);break}},updateItemHeight:function(e){var t=this.items[e];if(t.data){var n=Object(y["a"])(this.$refs[t.data],1),r=n[0];r&&(this.$set(this.items[e],"height",r.offsetHeight),this.$set(this.items[e],"gotHeight",r.offsetHeight>0))}},onScroll:function(){this.$el.scrollTop+this.$el.offsetHeight>this.height-this.offset&&this.loadMoreItems(),this.updateIndex()}}},A=x,P=(n("a90f"),n("2877")),I=Object(P["a"])(A,b,v,!1,null,"47f9749e",null),S=I.exports,j=n("967d"),T=n("ae8d"),D=n("2f62");function _(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var R={name:"Column",components:{Card:T["a"],Recyclist:S,ContentPlaceholders:j["ContentPlaceholders"],ContentPlaceholdersHeading:j["ContentPlaceholdersHeading"],ContentPlaceholdersImg:j["ContentPlaceholdersImg"],ContentPlaceholdersText:j["ContentPlaceholdersText"]},props:{columnId:{type:Number,required:!0}},data:function(){return{paramsOpen:!1,noMore:!1}},computed:_({},Object(D["d"])(["getColumnByIndex","getDocumentsIdsByColumnId","isAuthenticated"]),{column:function(){return this.getColumnByIndex(this.columnId)},documents:function(){return this.getDocumentsIdsByColumnId(this.columnId)},params:function(){return this.column.params},product:{get:function(){return this.params.products},set:function(e){if(1===e.length){if("photo"===e[0])return this.updateParams({products:e,langs:["en"],urgencies:[]});if("news"===e[0])return this.updateParams({products:e,urgencies:[1,2,3,4]})}this.updateParams({products:e,urgencies:[]})}},lang:{get:function(){return this.params.langs},set:function(e){this.updateParams({langs:e})}},products:function(){return[{label:this.$t("products.all"),value:[],disabled:!this.isAuthenticated},{label:this.$t("products.news"),value:["news"],disabled:!this.isAuthenticated},{label:this.$t("products.multimedia"),value:["multimedia"],disabled:!1},{label:this.$t("products.photo"),value:["photo"],disabled:!this.isAuthenticated},{label:this.$t("products.video"),value:["sidtv","parismode","afptvweb","afptv1st"],disabled:!this.isAuthenticated},{label:this.$t("products.infographie"),value:["infographie"],disabled:!this.isAuthenticated},{label:this.$t("products.videographie"),value:["videographie"],disabled:!this.isAuthenticated}]},languages:function(){return 1===this.product.length&&"photo"===this.product[0]?[{label:this.$t("languages.en"),value:["en"],disabled:!1}]:[{label:this.$t("languages.all"),value:[],disabled:!1},{label:this.$t("languages.en"),value:["en"],disabled:!1},{label:this.$t("languages.fr"),value:["fr"],disabled:!1},{label:this.$t("languages.de"),value:["de"],disabled:!1},{label:this.$t("languages.es"),value:["es"],disabled:!1},{label:this.$t("languages.pt"),value:["pt"],disabled:!1},{label:this.$t("languages.ar"),value:["ar"],disabled:!1},{label:this.$t("languages.zh-tw"),value:["zh-tw"],disabled:!1},{label:this.$t("languages.zh-cn"),value:["zh-cn"],disabled:!1}]},urgencies:function(){return"photo"===this.product[0]?[{label:this.$t("urgencies.all-photos"),value:[],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.topshots",2),value:[1],disabled:!this.isAuthenticated}]:"news"===this.product[0]?[{label:this.$tc("urgencies.depeches",2),value:[1,2,3,4],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.flash",2),value:[1],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.alertes",2),value:[1,2],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.urgents",2),value:[1,2,3],disabled:!this.isAuthenticated}]:[{label:this.$t("urgencies.all"),value:[],disabled:!this.isAuthenticated}]},urgency:{get:function(){return this.params.urgencies},set:function(e){this.updateParams({urgencies:e})}},query:function(){return this.params.query},dateTo:{get:function(){return this.params.dateTo},set:function(e){this.updateParams({dateTo:e})}}}),mounted:function(){this.$refs.search.value=this.query},methods:_({},Object(D["e"])(["updateColumnParams","resetColumn","moveColumn","closeColumn","openColumnSettings","closeColumnSettings"]),{},Object(D["c"])(["refreshColumn"]),{updateParams:function(e){1===this.params.products.length&&"photo"===this.params.products[0]&&(""===this.params.query&&e.urgencies&&e.urgencies[0]&&1===e.urgencies[0]&&(this.$refs.search.value=e["query"]="source:AFP"),"source:AFP"===this.params.query&&e.urgencies&&0===e.urgencies.length&&(this.$refs.search.value=e["query"]=""));var t=_({},this.params,{},e);this.updateColumnParams({indexCol:this.columnId,params:t}),this.reset()},reset:function(){this.noMore=!1,this.resetColumn({indexCol:this.columnId}),this.$refs.recyclist.reset()},loadBefore:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.refreshColumn({indexCol:this.columnId,mode:"before"});case 3:t=e.sent,!1===t&&(this.noMore=!0),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$toasted.global.apiError(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),loadAfter:function(){try{return this.refreshColumn({indexCol:this.columnId,mode:"after"})}catch(e){this.$toasted.global.apiError(e)}},move:function(e){this.moveColumn({indexCol:this.columnId,dir:e})},close:function(){this.closeColumn({indexCol:this.columnId})},openParams:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.paramsOpen=!0,e.next=3,this.$nextTick();case 3:this.$refs.search.focus();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onQueryChange:function(e){var t=e.target.value;this.$ga.event("search","set query",t),this.updateParams({query:t})},onQueryFocus:function(e){e.target.setSelectionRange(e.target.value.length,e.target.value.length)}})},E=R,$=(n("60fc"),n("6d95"),Object(P["a"])(E,h,g,!1,null,"1b9f77a4",null)),L=$.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-container"},[n("button",{staticClass:"btn",attrs:{id:"new-column",name:"new-column","aria-label":"Add new column"},on:{click:e.search}},[n("i",{staticClass:"UI-icon UI-plus"}),e._v(" "+e._s(e.$t("deck.add-column"))+"\n  ")])])},z=[];function q(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var F={name:"AddColumn",methods:q({},Object(D["e"])(["addColumn"]),{search:function(){"deck"!==this.$route.name&&this.$router.push({name:"deck"}),this.addColumn()}})},M=F,N=(n("da65"),Object(P["a"])(M,B,z,!1,null,"1ca59738",null)),U=N.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{id:"sidebar",name:"appear",tag:"nav",appear:""}},[n("button",{key:"new-column",staticClass:"btn btn-circle btn-icon",attrs:{name:"new-column","aria-label":"Add new column"},on:{click:e.search}},[n("i",{staticClass:"UI-icon UI-plus"})]),e.isAuthenticated?e._e():n("router-link",{key:"authenticate",staticClass:"btn btn-icon btn-circle danger",attrs:{to:{name:"login"},name:"authenticate","aria-label":"Authenticate",tag:"button"}},[n("i",{staticClass:"UI-icon UI-user-male"})]),n("router-link",{key:"about",staticClass:"btn btn-circle btn-icon",attrs:{to:{name:"about"},name:"about","aria-label":"about",tag:"button"}},[n("i",{staticClass:"UI-icon UI-heart icon-small"})])],1)},V=[];function G(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var W={name:"SideBar",computed:G({},Object(D["d"])(["isAuthenticated"])),methods:G({},Object(D["e"])(["addColumn"]),{search:function(){"deck"!==this.$route.name&&this.$router.push({name:"deck"}),this.addColumn()}})},Q=W,Y=(n("ef09"),Object(P["a"])(Q,H,V,!1,null,"57a60094",null)),J=Y.exports;function K(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var X={name:"AutoRefreshVisibility",mounted:function(){this.visibilityChanged(),document.addEventListener("visibilitychange",this.visibilityChanged,!1)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.visibilityChanged,!1)},methods:K({},Object(D["c"])(["refreshAllColumns"]),{visibilityChanged:function(){!0!==document.hidden&&(this.$root.$now=new Date,!1!==navigator.onLine&&this.refreshAllColumns())}})},Z={name:"AutoRefreshTimer",data:function(){return{autoRefreshTimer:null,autoRefreshDelay:1e4}},mounted:function(){this.startAutoRefresh()},beforeDestroy:function(){this.stopAutoRefresh()},methods:{startAutoRefresh:function(){var e=this;this.autoRefreshTimer=window.setInterval(Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==document.hidden){t.next=2;break}return t.abrupt("return");case 2:if(e.$root.$now=new Date,!1!==navigator.onLine){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.refreshAllColumns();case 7:case"end":return t.stop()}},t)})),this.autoRefreshDelay)},stopAutoRefresh:function(){this.autoRefreshTimer&&clearInterval(this.autoRefreshTimer)}}};function ee(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var te=o["default"].extend({name:"Deck",metaInfo:{titleTemplate:function(e){return e?"".concat(e," | AFP Deck"):"AFP Deck"}},components:{Column:L,AddColumn:U,SideBar:J},mixins:[X,Z],computed:ee({},Object(D["f"])(["authType","columns"])),watch:{authType:function(e,t){"credentials"!==e&&"credentials"===t&&this.$router.push({name:"login",query:{redirect:this.$route.path}})}}}),ne=te,re=(n("f9a6"),Object(P["a"])(ne,m,p,!1,null,"6ebb6eac",null)),oe=re.exports;function ae(e){return e.includes(" ")?'"'.concat(e,'"'):e}o["default"].use(d["a"]);var ie=[{name:"deck",path:"/",component:oe,meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}},children:[{path:"doc",redirect:"/"},{name:"document",path:"doc/:docId",component:function(){return n.e("viewer").then(n.bind(null,"f9ca"))},props:!0,meta:{analytics:{pageviewTemplate:function(e){var t=c["a"].getters.getDocumentById(e.params.docId);if(t)return{title:t.headline,page:e.path,location:window.location.href,dimension1:t.product,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}},{name:"slug",path:"slug/:slugs",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:e.params.slugs.split(",").map(function(e){return"slug:".concat(ae(e))}).join(" AND ")}}),n({name:"deck"})}},{name:"place",path:"place/:country/:city?",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:e.params.city?"country:".concat(ae(e.params.country)," AND city:").concat(ae(e.params.city)):"country:".concat(ae(e.params.country))}}),n({name:"deck"})}},{name:"genre",path:"genre/:genre",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:"genre:".concat(ae(e.params.genre))}}),n({name:"deck"})}},{name:"creator",path:"creator/:creator",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:"creator:".concat(ae(e.params.creator))}}),n({name:"deck"})}},{name:"login",path:"login",component:function(){return n.e("login").then(n.bind(null,"a55b"))},meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck - Login",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}},{name:"about",path:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck - About",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}}]}],se=new d["a"]({routes:ie});o["default"].use(l.a,{id:"UA-127064867-1",disabled:!0,router:se,autoTracking:{pageviewOnLoad:!0,exception:!0},debug:{enabled:!1,sendHitTask:!0},anonymizeIp:!0,forceSSL:!0});var ce=n("fe0b"),ue=(n("ffc1"),n("8615"),n("aa90")),le=n.n(ue);function de(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var me=de({supportAllFeatures:Object.values(le.a).every(function(e){return!0===e}),unsupportedFeatures:Object.entries(le.a).filter(function(e){var t=Object(y["a"])(e,2),n=(t[0],t[1]);return!n})},le.a),pe={install:function(e){e.prototype.$modernizr=me}};o["default"].use(pe);var fe=n("6591"),he=n("c8b5"),ge=n.n(he);delete ge.a.defaults.cssProps.userSelect,ge.a.defaults.touchAction="pan-y",o["default"].use(fe["VueHammer"]);n("b814"),n("70cb");var be=n("f2d6"),ve=n.n(be);o["default"].use(ve.a);var ye,we=new ve.a({useVuex:!0}),Ce=n("9483");(Object(Ce["a"])("".concat("","sw.min.js"),{ready:function(){console.log("Service worker is active.")},registered:function(e){console.log("Service worker has been registered.")},cached:function(e){console.log("version has been cached for offline use.")},updatefound:function(e){console.log("New version is downloading.")},updated:function(e){console.log("New version is available; Ask for refresh."),o["default"].toasted.show("New version available !",{action:[{text:"Update",onClick:function(){e.waiting.postMessage({command:"skipWaiting"})}}],position:"bottom-right"})},offline:function(){o["default"].toasted.show("No internet connection found. App is running in offline mode.",{position:"bottom-center",duration:1500})},error:function(e){o["default"].toasted.global.error(e)}}),"serviceWorker"in navigator)&&navigator.serviceWorker.addEventListener("controllerchange",Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!ye){e.next=2;break}return e.abrupt("return");case 2:c["a"].commit("clearDocuments"),Object(u["event"])("service-worker","controllerchange"),window.location.reload(),ye=!0;case 6:case"end":return e.stop()}},e)})));function Oe(){return"serviceWorker"in navigator?navigator.serviceWorker.controller?"controlled":"supported":"unsupported"}Object(u["event"])("service-worker","support",Oe());var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"night-mode":!e.useLightTheme},attrs:{id:"app"}},[n("router-view")],1)},xe=[];function Ae(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(f["a"])(e,t,n[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var Pe=navigator.connection||navigator.mozConnection||navigator.webkitConnection,Ie={name:"CheckConnection",computed:Ae({},Object(D["f"])(["isOnline"])),watch:{isOnline:function(e,t){!1===e?(this.$toasted.clear(),this.$toasted.show(this.$t("connectivity.messageOff"),{duration:null,type:"info",position:"bottom-center"})):!1===t&&(this.$toasted.clear(),this.$toasted.show(this.$t("connectivity.messageOn"),{duration:2e3,type:"info",position:"bottom-center"}))}},mounted:function(){if(!Pe)return!1;this.checkConnection(),Pe.addEventListener("change",this.checkConnection)},methods:Ae({},Object(D["e"])(["setConnectivityStatus"]),{checkConnection:function(){var e=!0===navigator.onLine;this.setConnectivityStatus(e)}})},Se=n("e2b7"),je={name:"NightMode",data:function(){return{useLightTheme:!0}},mounted:function(){this.checkDayNight(),document.addEventListener("visibilitychange",this.checkDayNight,!1)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.checkDayNight,!1)},methods:{checkDayNight:function(){try{var e=Object(Se["a"])();if(e.error)throw new Error(e.error);this.useLightTheme=e.light}catch(n){console.error(n);var t=(new Date).getHours();this.useLightTheme=t>6&&t<20}}}},Te={name:"App",mixins:[Ie,je]},De=Te,_e=(n("13a5"),n("fd80"),Object(P["a"])(De,ke,xe,!1,null,"56e4e561",null)),Re=_e.exports;function Ee(){new o["default"]({router:se,store:c["a"],i18n:ce["a"],wait:we,render:function(e){return e(Re)}}).$mount("#app"),"deck"!==se.currentRoute.name||c["a"].getters.isAuthenticated||se.replace({name:"login"}),c["a"].getters.isAuthenticated&&o["default"].$ga.enable()}o["default"].config.productionTip=!1,o["default"].config.errorHandler=function(e){o["default"].toasted.global.error(e)},o["default"].config.warnHandler=function(e){o["default"].toasted.global.warn(e)},se.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("document"!==t.name){e.next=12;break}if(c["a"].getters.getDocumentById(t.params.docId)){e.next=12;break}return e.prev=2,e.next=5,c["a"].dispatch("getDocument",t.params.docId);case 5:e.next=12;break;case 7:if(e.prev=7,e.t0=e["catch"](2),"credentials"===c["a"].state.authType){e.next=11;break}return e.abrupt("return",r({name:"login",query:{redirect:"doc/".concat(t.params.docId)}}));case 11:return e.abrupt("return",r({name:"deck"}));case 12:r();case 13:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,n,r){return e.apply(this,arguments)}}()),c["a"].dispatch("changeLocale",ce["a"].locale),Object(c["b"])().then(Ee)},d3ba:function(e,t,n){},da65:function(e,t,n){"use strict";var r=n("449d"),o=n.n(r);o.a},edd4:function(e){e.exports={"back-to-home":"Back to home",submit:"Submit",loading:"Loading...","install-app":"Add to home screen",deck:{"add-column":"Add a new column"},column:{search:"Search...",product:"Select content",lang:"Document language",urgency:"Category of news story",until:"Until","no-result":"No result",delete:"Delete the column",refresh:"Refresh ?","documents-gap":"Since your last visit, you missed 1 document. | Since your last visit, you missed {count} documents."},about:{title:"About AFP Deck",description:["AFP News Deck is a reader for AFP feeds. It allows you to find and read stories, multimedia articles and photos directly in your browser.","Made with love by the AFP Dataviz team, based on an original idea from the Medialab. Data is provided by the AFP Content API."],version:"Version"},auth:{success:{title:"You're logged in correctly.",description:"Enjoy AFP Deck !"},logout:"Logout",clientId:"Client ID",clientSecret:"Client Secret",username:"Username",password:"Password","not-authenticated":{title:"Log in to see the latest news",toast:"Good bye :)"},cookies:"By continuing your navigation on this site, you consent to the use of anonymous cookies for statistical purposes.","warning-email":"Please use your username instead of your email address"},products:{all:"in all products",news:"in the news",multimedia:"in multimedia articles",photo:"in photos",infographie:"in graphics",videographie:"in videographics",video:"in videos"},languages:{all:"in all languages",en:"in english",fr:"in french",de:"in german",es:"in spanish",pt:"in portuguese",ar:"in arabic","zh-tw":"in traditionnal Chinese","zh-cn":"in simplified Chinese"},urgencies:{all:"All news stories","all-photos":"All photos",flash:"Only flashes",alertes:"include alerts",urgents:"include urgents",depeches:"All news stories",topshots:"Only topshots"},connectivity:{messageOff:"Your device is offline",messageOn:"You device is online again"},dateTimeFormats:{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}},document:{share:"Share","related-articles":"Related articles",copied:"Copied in clipboard","read-more":"Full article:"},genres:{Program:"Program",Article:"Article",Insight:"Insights",Lead:"Lead","2ndlead":"2nd lead","3rdlead":"3rd lead","4thlead":"4th lead","5thlead":"5th lead","6thlead":"6th lead","7thlead":"7th lead","8thlead":"8th lead",SideBar:"Sidebar",QA:"Q&A",Prev:"Previsions",Testimony:"Testimony",Team:"Team",Agenda:"Agenda",Gossip:"Gossip",Profile:"Profile",PressRelease:"Press release",LeadGeneral:"General lead",Position:"Position",Interview:"Interview",Presentation:"Presentation",Feature:"Feature",Advancer:"Advancer",Analysis:"Analyse",Background:"Background",BioExpress:"Bio express",Wrap:"Wrap",Chrono:"Chronology",GoalsOrder:"Goals order",Comment:"Commentary",Synopsis:"Synopsis",Quote:"Quote",Archive:"Archive",Opinion:"Opinion",inquiry:"Inquiry",Factcheck:"Factcheck",Factfile:"Factfile",Tables:"Tables",Film:"Film",Dates:"Dates",DayGoalScorer:"Daily Goals",EditorsChoice:"Editor's choice",CurtainRaiser:"Curtain raiser",Obituary:"Obituary",Legend:"Legend",Polls:"Poll",MainPoints:"Main points",BioProfile:"Biography",Reaction:"Reaction",Recit:"Recit",reperes:"Reperes",Report:"Report",Result:"Result",YearRetro:"Retrospective",PressDigest:"Press digest",Scene:"Scene",Score:"Score",SpecialAnnouncement:"Announcement",squad:"Squad",Keyword:"Keyword",Summary:"Summary",RoundUp:"Round-up",Transcript:"Transcription",TQ:"3 questions",Verbatim:"Verbatim",Videoessay:"Video essay",WeekRetro:"Weekender",Review:"Review",Update:"Update",PhotoCombo:"Combo"}}},ef09:function(e,t,n){"use strict";var r=n("01f1"),o=n.n(r);o.a},f693:function(e){e.exports={"back-to-home":"Retour  l'accueil",submit:"Valider",loading:"Chargement...","install-app":"Installer sur l'cran d'accueil",deck:{"add-column":"Ajouter une colonne"},column:{search:"Rechercher...",product:"Slectionnez un produit",lang:"Slectionnez une langue",urgency:"Slectionnez une urgence",until:"Jusqu'au","no-result":"Pas de rsultats",delete:"Supprimer la colonne",refresh:"Rafrachir ?","documents-gap":"Depuis votre dernire visite, vous avez manqu 1 document. | Depuis votre dernire visite, vous avez manqu {count} documents."},about:{title:" propos d'AFP Deck",description:["AFP News Deck permet de lire les dpches, photos et vidos diffuses par l'AFP, directement dans votre navigateur.","Conu par l'quipe Dataviz de l'AFP, sur une ide originale du Mdialab. Les donnes proviennent de l'API AFP."],version:"Version"},auth:{success:{title:"Vous tes authentifi",description:"Profitez d'AFP Deck !"},logout:"Se dconnecter",clientId:"ID Client",clientSecret:"Secret Client",username:"Nom d'utilisateur",password:"Mot de passe","not-authenticated":{title:"Connectez-vous pour bnficier des dernires nouvelles",toast:" bientt :)"},cookies:"En poursuivant la navigation sur ce site, vous consentez  l'utilisation de cookies anonymes  des fins statistiques.","warning-email":"SVP, utilisez votre nom d'utilisateur et non votre adresse email"},products:{all:"dans tous les produits",news:"dans les dpches",multimedia:"dans le fil multimdia",photo:"dans les photos",infographie:"dans les infographies",videographie:"dans les vidographies",video:"dans les vidos"},languages:{all:"dans toutes les langues",en:"en anglais",fr:"en franais",de:"en allemand",es:"en espagnol",pt:"en portugais",ar:"en arabe","zh-tw":"en chinois traditionnel","zh-cn":"en chinois simplifi"},urgencies:{all:"Tout le contenu","all-photos":"Toutes les photos",flash:"Uniquement les flashs",alertes:"inclure les alertes",urgents:"inclure les urgents",depeches:"Tout le contenu",topshots:"Uniquement les topshots"},connectivity:{messageOff:"Votre appareil est hors connexion",messageOn:"Votre appareil est de nouveau connect"},dateTimeFormats:{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}},document:{share:"Partager","related-articles":"Sur la mme thmatique",copied:"Copi dans le presse-papier","read-more":"Article complet :"},genres:{Program:"Prvisions",Article:"Papier gnral",Insight:"Papier d'angle",Lead:"Lead","2ndlead":"2me lead","3rdlead":"3me lead","4thlead":"4me lead","5thlead":"5me lead","6thlead":"6me lead","7thlead":"7me lead","8thlead":"8me lead",SideBar:"Encadr",QA:"Questions rponses",Prev:"Prvisions",Testimony:"Tmoignage",Team:"quipe",Agenda:"Agenda",Gossip:"chos",Profile:"Portrait",PressRelease:"Communiqu",LeadGeneral:"Lead gnral",Position:"Classement",Interview:"Entretien",Presentation:"Prsentation",Feature:"Magazine",Advancer:"En avance",Analysis:"Analyse",Background:"Contexte",BioExpress:"Bio express",Wrap:"Chapeau",Chrono:"Chronologie",GoalsOrder:"Buteurs",Comment:"Commentaire",Synopsis:"Compte-rendu",Quote:"Dclarations",Archive:"Documentation",Opinion:"Editorial",Inquiry:"Enqute",Factcheck:"Vrification",Factfile:"Fiche pays",Tables:"Fiche technique",Film:"Film",Dates:"Grandes dates",DayGoalScorer:"Journe buteurs",EditorsChoice:"Choix de la rdaction",CurtainRaiser:"Lever de rideau",Obituary:"Dcs",Legend:"Photo-rcit",Polls:"Sondage",MainPoints:"Principaux points",BioProfile:"Biographie",Reaction:"Raction",Recit:"Rcit",reperes:"Repres",Report:"Reportage",Result:"Rsultat",YearRetro:"Rtrospective",PressDigest:"Revue de presse",Scene:"Terrain",Score:"Score",SpecialAnnouncement:"Annonce",Squad:"quipe",Keyword:"Mot cl",Summary:"Rsum",RoundUp:"Synthse",Transcript:"Transcription",TQ:"3 questions",Verbatim:"Verbatim",Videoessay:"Rcit vido",WeekRetro:"Weekender",Review:"Relecture",Update:"Actualisation",PhotoCombo:"Combo"}}},f9a6:function(e,t,n){"use strict";var r=n("b258"),o=n.n(r);o.a},fca5:function(e,t,n){var r={"./en":"edd4","./en.json":"edd4","./fr":"f693","./fr.json":"f693"};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="fca5"},fd80:function(e,t,n){"use strict";var r=n("5602"),o=n.n(r);o.a},fe0b:function(e,t,n){"use strict";n.d(t,"b",function(){return h});var r=n("a8db"),o=(n("96cf"),n("3b8d")),a=(n("6762"),n("bd86")),i=n("2b0e"),s=n("a925");i["default"].use(s["a"]);var c=["en","fr"],u=c[0],l=Object(a["a"])({},u,n("fca5")("./".concat(u))),d=Object(a["a"])({},u,l[u].dateTimeFormats);function m(){var e=navigator.language&&navigator.language.substring(0,2);return!(!e||!c.includes(e))&&e}var p=new s["a"]({locale:m()||u,fallbackLocale:u,messages:l,dateTimeFormats:d});function f(e){p.locale=e;var t=document.querySelector("html");return t&&t.setAttribute("lang",e),e}function h(e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(regeneratorRuntime.mark(function e(t){var o,a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(p.locale===t&&p.messages[t]){e.next=8;break}return e.next=3,n("39c3")("./".concat(t,".json"));case 3:return o=e.sent,a=o.default,i=a.dateTimeFormats,s=Object(r["a"])(a,["dateTimeFormats"]),p.setLocaleMessage(t,s),p.setDateTimeFormat(t,i),e.abrupt("return",f(t));case 8:return e.abrupt("return",f(t));case 9:case"end":return e.stop()}},e)})),g.apply(this,arguments)}t["a"]=p}});
//# sourceMappingURL=app-legacy.c08dd229.js.map